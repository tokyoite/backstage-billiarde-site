var gk=Object.defineProperty,mk=Object.defineProperties;var yk=Object.getOwnPropertyDescriptors;var ME=Object.getOwnPropertySymbols,_k=Object.getPrototypeOf,vk=Object.prototype.hasOwnProperty,wk=Object.prototype.propertyIsEnumerable,Ik=Reflect.get;var RE=(t,e,n)=>e in t?gk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||={})vk.call(e,n)&&RE(t,n,e[n]);if(ME)for(var n of ME(e))wk.call(e,n)&&RE(t,n,e[n]);return t},le=(t,e)=>mk(t,yk(e));var br=(t,e,n)=>Ik(_k(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var xE=null;var Pf=1,NE=Symbol("SIGNAL");function de(t){let e=xE;return xE=t,e}var PE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ek(t){if(!(Ff(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Pf)){if(!t.producerMustRecompute(t)&&!kf(t)){t.dirty=!1,t.lastCleanEpoch=Pf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Pf}}function kE(t){return t&&(t.nextProducerIndex=0),de(t)}function OE(t,e){if(de(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ff(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Of(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function kf(t){Il(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ek(n),r!==n.version))return!0}return!1}function FE(t){if(Il(t),Ff(t))for(let e=0;e<t.producerNode.length;e++)Of(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Of(t,e){if(Ck(t),Il(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Of(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Il(i),i.producerIndexOfThis[r]=e}}function Ff(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Il(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ck(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bk(){throw new Error}var Tk=bk;function LE(t){Tk=t}function U(t){return typeof t=="function"}function ms(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var El=ms(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function di(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(s){e=s instanceof El?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{VE(s)}catch(o){e=e??[],o instanceof El?e=[...e,...o.errors]:e.push(o)}}if(e)throw new El(e)}}add(e){var n;if(e&&e!==this)if(this.closed)VE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&di(n,e)}remove(e){let{_finalizers:n}=this;n&&di(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var Lf=Fe.EMPTY;function Cl(t){return t instanceof Fe||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function VE(t){U(t)?t():t.unsubscribe()}var pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ys={setTimeout(t,e,...n){let{delegate:r}=ys;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ys;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bl(t){ys.setTimeout(()=>{let{onUnhandledError:e}=pn;if(e)e(t);else throw t})}function ta(){}var UE=Vf("C",void 0,void 0);function BE(t){return Vf("E",void 0,t)}function jE(t){return Vf("N",t,void 0)}function Vf(t,e,n){return{kind:t,value:e,error:n}}var hi=null;function _s(t){if(pn.useDeprecatedSynchronousErrorHandling){let e=!hi;if(e&&(hi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=hi;if(hi=null,n)throw r}}else t()}function $E(t){pn.useDeprecatedSynchronousErrorHandling&&hi&&(hi.errorThrown=!0,hi.error=t)}var fi=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cl(e)&&e.add(this)):this.destination=Ak}static create(e,n,r){return new vs(e,n,r)}next(e){this.isStopped?Bf(jE(e),this):this._next(e)}error(e){this.isStopped?Bf(BE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bf(UE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Dk=Function.prototype.bind;function Uf(t,e){return Dk.call(t,e)}var jf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tl(r)}else Tl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tl(n)}}},vs=class extends fi{constructor(e,n,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&pn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Uf(e.next,s),error:e.error&&Uf(e.error,s),complete:e.complete&&Uf(e.complete,s)}):i=e}this.destination=new jf(i)}};function Tl(t){pn.useDeprecatedSynchronousErrorHandling?$E(t):bl(t)}function Sk(t){throw t}function Bf(t,e){let{onStoppedNotification:n}=pn;n&&ys.setTimeout(()=>n(t,e))}var Ak={closed:!0,next:ta,error:Sk,complete:ta};var ws=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vt(t){return t}function $f(...t){return zf(t)}function zf(t){return t.length===0?vt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Rk(n)?n:new vs(n,r,i);return _s(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=zE(r),new r((i,s)=>{let o=new vs({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ws](){return this}pipe(...n){return zf(n)(this)}toPromise(n){return n=zE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function zE(t){var e;return(e=t??pn.Promise)!==null&&e!==void 0?e:Promise}function Mk(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function Rk(t){return t&&t instanceof fi||Mk(t)&&Cl(t)}function Hf(t){return U(t?.lift)}function G(t){return e=>{if(Hf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,e,n,r,i){return new na(t,e,n,r,i)}var na=class extends fi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Is(){return G((t,e)=>{let n=null;t._refCount++;let r=H(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Es=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Is()(this)}};var HE=ms(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ge=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Dl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new HE}next(n){_s(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){_s(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_s(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Lf:(this.currentObservers=null,s.push(n),new Fe(()=>{this.currentObservers=null,di(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new Dl(e,n),t})(),Dl=class extends Ge{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Lf}};var rt=class extends Ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qf={now(){return(qf.delegate||Date).now()},delegate:void 0};var Sl=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var ra={setInterval(t,e,...n){let{delegate:r}=ra;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ra;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Cs=class extends Sl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ra.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ra.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,di(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var bs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};bs.now=qf.now;var Ts=class extends bs{constructor(e,n=bs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Gf=new Ts(Cs);var Al=class extends Cs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ml=class extends Ts{};var Wf=new Ml(Al);var Ht=new Z(t=>t.complete());function qE(t){return t&&U(t.schedule)}function GE(t){return t[t.length-1]}function Rl(t){return U(GE(t))?t.pop():void 0}function Tr(t){return qE(GE(t))?t.pop():void 0}function Kf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function WE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pi(t){return this instanceof pi?(this.v=t,this):new pi(t)}function QE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(y,v){s.push([h,p,y,v])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(y){d(s[0][3],y)}}function c(h){h.value instanceof pi?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function YE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WE=="function"?WE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var xl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nl(t){return U(t?.then)}function Pl(t){return U(t[ws])}function kl(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function Ol(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fl=xk();function Ll(t){return U(t?.[Fl])}function Vl(t){return QE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield pi(n.read());if(i)return yield pi(void 0);yield yield pi(r)}}finally{n.releaseLock()}})}function Ul(t){return U(t?.getReader)}function Ne(t){if(t instanceof Z)return t;if(t!=null){if(Pl(t))return Nk(t);if(xl(t))return Pk(t);if(Nl(t))return kk(t);if(kl(t))return ZE(t);if(Ll(t))return Ok(t);if(Ul(t))return Fk(t)}throw Ol(t)}function Nk(t){return new Z(e=>{let n=t[ws]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Pk(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kk(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bl)})}function Ok(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ZE(t){return new Z(e=>{Lk(t,e).catch(n=>e.error(n))})}function Fk(t){return ZE(Vl(t))}function Lk(t,e){var n,r,i,s;return KE(this,void 0,void 0,function*(){try{for(n=YE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ot(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Dr(t,e=0){return G((n,r)=>{n.subscribe(H(r,i=>Ot(r,t,()=>r.next(i),e),()=>Ot(r,t,()=>r.complete(),e),i=>Ot(r,t,()=>r.error(i),e)))})}function Sr(t,e=0){return G((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function JE(t,e){return Ne(t).pipe(Sr(e),Dr(e))}function XE(t,e){return Ne(t).pipe(Sr(e),Dr(e))}function eC(t,e){return new Z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tC(t,e){return new Z(n=>{let r;return Ot(n,e,()=>{r=t[Fl](),Ot(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function Bl(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{Ot(n,e,()=>{let r=t[Symbol.asyncIterator]();Ot(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nC(t,e){return Bl(Vl(t),e)}function rC(t,e){if(t!=null){if(Pl(t))return JE(t,e);if(xl(t))return eC(t,e);if(Nl(t))return XE(t,e);if(kl(t))return Bl(t,e);if(Ll(t))return tC(t,e);if(Ul(t))return nC(t,e)}throw Ol(t)}function ve(t,e){return e?rC(t,e):Ne(t)}function N(...t){let e=Tr(t);return ve(t,e)}function Ds(t,e){let n=U(t)?t:()=>t,r=i=>i.error(n());return new Z(e?i=>e.schedule(r,0,i):r)}function Qf(t){return!!t&&(t instanceof Z||U(t.lift)&&U(t.subscribe))}var Xn=ms(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function K(t,e){return G((n,r)=>{let i=0;n.subscribe(H(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:Vk}=Array;function Uk(t,e){return Vk(e)?t(...e):t(e)}function jl(t){return K(e=>Uk(t,e))}var{isArray:Bk}=Array,{getPrototypeOf:jk,prototype:$k,keys:zk}=Object;function $l(t){if(t.length===1){let e=t[0];if(Bk(e))return{args:e,keys:null};if(Hk(e)){let n=zk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Hk(t){return t&&typeof t=="object"&&jk(t)===$k}function zl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ia(...t){let e=Tr(t),n=Rl(t),{args:r,keys:i}=$l(t);if(r.length===0)return ve([],e);let s=new Z(qk(r,e,i?o=>zl(i,o):vt));return n?s.pipe(jl(n)):s}function qk(t,e,n=vt){return r=>{iC(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)iC(e,()=>{let l=ve(t[c],e),u=!1;l.subscribe(H(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function iC(t,e,n){t?Ot(n,t,e):e()}function sC(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},p=v=>l<r?y(v):c.push(v),y=v=>{s&&e.next(v),l++;let w=!1;Ne(n(v,u++)).subscribe(H(e,A=>{i?.(A),s?p(A):e.next(A)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let A=c.shift();o?Ot(e,o,()=>y(A)):y(A)}h()}catch(A){e.error(A)}}))};return t.subscribe(H(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Pe(t,e,n=1/0){return U(e)?Pe((r,i)=>K((s,o)=>e(r,s,i,o))(Ne(t(r,i))),n):(typeof e=="number"&&(n=e),G((r,i)=>sC(r,i,t,n)))}function Ar(t=1/0){return Pe(vt,t)}function oC(){return Ar(1)}function Ss(...t){return oC()(ve(t,Tr(t)))}function Hl(t){return new Z(e=>{Ne(t()).subscribe(e)})}function Yf(...t){let e=Rl(t),{args:n,keys:r}=$l(t),i=new Z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;Ne(n[u]).subscribe(H(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?zl(r,a):a),s.complete())}))}});return e?i.pipe(jl(e)):i}function wt(t,e){return G((n,r)=>{let i=0;n.subscribe(H(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Mr(t){return G((e,n)=>{let r=null,i=!1,s;r=e.subscribe(H(n,void 0,void 0,o=>{s=Ne(t(o,Mr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function aC(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(H(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Rr(t,e){return U(e)?Pe(t,e,1):Pe(t,1)}function xr(t){return G((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function er(t){return t<=0?()=>Ht:G((e,n)=>{let r=0;e.subscribe(H(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zf(t){return K(()=>t)}function Jf(t,e=vt){return t=t??Gk,G((n,r)=>{let i,s=!0;n.subscribe(H(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Gk(t,e){return t===e}function ql(t=Wk){return G((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Wk(){return new Xn}function sa(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Dn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,s)=>t(i,s,r)):vt,er(1),n?xr(e):ql(()=>new Xn))}function Xf(t,e,n,r){return G((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let a=new Map,c=y=>{a.forEach(y),y(s)},l=y=>c(v=>v.error(y)),u=0,d=!1,h=new na(s,y=>{try{let v=t(y),w=a.get(v);if(!w){a.set(v,w=r?r():new Ge);let A=p(v,w);if(s.next(A),n){let z=H(w,()=>{w.complete(),z?.unsubscribe()},void 0,void 0,()=>a.delete(v));h.add(Ne(n(A)).subscribe(z))}}w.next(o?o(y):y)}catch(v){l(v)}},()=>c(y=>y.complete()),l,()=>a.clear(),()=>(d=!0,u===0));i.subscribe(h);function p(y,v){let w=new Z(A=>{u++;let z=v.subscribe(A);return()=>{z.unsubscribe(),--u===0&&d&&h.unsubscribe()}});return w.key=y,w}})}function As(t){return t<=0?()=>Ht:G((e,n)=>{let r=[];e.subscribe(H(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ep(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,s)=>t(i,s,r)):vt,As(1),n?xr(e):ql(()=>new Xn))}function tp(){return G((t,e)=>{let n,r=!1;t.subscribe(H(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function np(t,e){return G(aC(t,e,arguments.length>=2,!0))}function oa(...t){let e=Tr(t);return G((n,r)=>{(e?Ss(t,n,e):Ss(t,n)).subscribe(r)})}function It(t,e){return G((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(H(r,c=>{i?.unsubscribe();let l=0,u=s++;Ne(t(c,u)).subscribe(i=H(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rp(t){return G((e,n)=>{Ne(t).subscribe(H(n,()=>n.complete(),ta)),!n.closed&&e.subscribe(n)})}function ze(t,e,n){let r=U(t)||e||n?{next:t,error:e,complete:n}:t;return r?G((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(H(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vt}var qC="https://g.co/ng/security#xss",O=class extends Error{constructor(e,n){super(cg(e,n)),this.code=e}};function cg(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function va(t){return{toString:t}.toString()}var Gl="__parameters__";function Kk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function GC(t,e,n){return va(()=>{let r=Kk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(Gl)?c[Gl]:Object.defineProperty(c,Gl,{value:[]})[Gl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var gi=globalThis;function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function Qk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function cC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Yk=ye({__forward_ref__:ye});function Hs(t){return t.__forward_ref__=Hs,t.toString=function(){return Ft(this())},t}function Et(t){return WC(t)?t():t}function WC(t){return typeof t=="function"&&t.hasOwnProperty(Yk)&&t.__forward_ref__===Hs}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Me(t){return{providers:t.providers||[],imports:t.imports||[]}}function Iu(t){return lC(t,QC)||lC(t,YC)}function KC(t){return Iu(t)!==null}function lC(t,e){return t.hasOwnProperty(e)?t[e]:null}function Zk(t){let e=t&&(t[QC]||t[YC]);return e||null}function uC(t){return t&&(t.hasOwnProperty(dC)||t.hasOwnProperty(Jk))?t[dC]:null}var QC=ye({\u0275prov:ye}),dC=ye({\u0275inj:ye}),YC=ye({ngInjectableDef:ye}),Jk=ye({ngInjectorDef:ye}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ZC(t){return t&&!!t.\u0275providers}var Xk=ye({\u0275cmp:ye}),eO=ye({\u0275dir:ye}),tO=ye({\u0275pipe:ye}),nO=ye({\u0275mod:ye}),nu=ye({\u0275fac:ye}),aa=ye({__NG_ELEMENT_ID__:ye}),hC=ye({__NG_ENV_ID__:ye});function lg(t){return typeof t=="string"?t:t==null?"":String(t)}function rO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():lg(t)}function iO(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,t)}function ug(t,e){throw new O(-201,!1)}var J=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(J||{}),vp;function JC(){return vp}function nn(t){let e=vp;return vp=t,e}function XC(t,e,n){let r=Iu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&J.Optional)return null;if(e!==void 0)return e;ug(t,"Injector")}var sO={},ca=sO,wp="__NG_DI_FLAG__",ru="ngTempTokenPath",oO="ngTokenPath",aO=/\n/gm,cO="\u0275",fC="__source",Ps;function lO(){return Ps}function Nr(t){let e=Ps;return Ps=t,e}function uO(t,e=J.Default){if(Ps===void 0)throw new O(-203,!1);return Ps===null?XC(t,void 0,e):Ps.get(t,e&J.Optional?null:void 0,e)}function x(t,e=J.Default){return(JC()||uO)(Et(t),e)}function C(t,e=J.Default){return x(t,Eu(e))}function Eu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ip(t){let e=[];for(let n=0;n<t.length;n++){let r=Et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){let a=r[o],c=dO(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(x(i,s))}else e.push(x(r))}return e}function e0(t,e){return t[wp]=e,t.prototype[wp]=e,t}function dO(t){return t[wp]}function hO(t,e,n,r){let i=t[ru];throw e[fC]&&i.unshift(e[fC]),t.message=fO(`
`+t.message,i,n,r),t[oO]=i,t[ru]=null,t}function fO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cO?t.slice(2):t;let i=Ft(e);if(Array.isArray(e))i=e.map(Ft).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aO,`
  `)}`}var he=e0(GC("Optional"),8);var t0=e0(GC("SkipSelf"),4);function Os(t,e){let n=t.hasOwnProperty(nu);return n?t[nu]:null}function pO(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function gO(t){return t.flat(Number.POSITIVE_INFINITY)}function dg(t,e){t.forEach(n=>Array.isArray(n)?dg(n,e):e(n))}function n0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function iu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function yO(t,e,n){let r=wa(t,e);return r>=0?t[r|1]=n:(r=~r,mO(t,r,e,n)),r}function ip(t,e){let n=wa(t,e);if(n>=0)return t[n|1]}function wa(t,e){return _O(t,e,1)}function _O(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Fs={},rn=[],Ls=new R(""),r0=new R("",-1),i0=new R(""),su=class{get(e,n=ca){if(n===ca){let r=new Error(`NullInjectorError: No provider for ${Ft(e)}!`);throw r.name="NullInjectorError",r}return n}},s0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(s0||{}),Mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mn||{}),ut=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ut||{});function vO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ep(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];wO(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function o0(t){return t===3||t===4||t===6}function wO(t){return t.charCodeAt(0)===64}function la(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?pC(t,n,i,null,e[++r]):pC(t,n,i,null,null))}}return t}function pC(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var a0="ng-template";function IO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(hg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function hg(t){return t.type===4&&t.value!==a0}function EO(t,e,n){let r=t.type===4&&!n?a0:t.value;return e===r}function CO(t,e,n){let r=4,i=t.attrs,s=i!==null?DO(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!gn(r)&&!gn(c))return!1;if(o&&gn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!EO(t,c,n)||c===""&&e.length===1){if(gn(r))return!1;o=!0}}else if(r&8){if(i===null||!IO(t,i,c,n)){if(gn(r))return!1;o=!0}}else{let l=e[++a],u=bO(c,i,hg(t),n);if(u===-1){if(gn(r))return!1;o=!0;continue}if(l!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(gn(r))return!1;o=!0}}}}return gn(r)||o}function gn(t){return(t&1)===0}function bO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return SO(e,t)}function TO(t,e,n=!1){for(let r=0;r<e.length;r++)if(CO(t,e[r],n))return!0;return!1}function DO(t){for(let e=0;e<t.length;e++){let n=t[e];if(o0(n))return e}return t.length}function SO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function gC(t,e){return t?":not("+e.trim()+")":e}function AO(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!gn(o)&&(e+=gC(s,i),i=""),r=o,s=s||!gn(r);n++}return i!==""&&(e+=gC(s,i)),e}function MO(t){return t.map(AO).join(",")}function RO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!gn(i))break;i=s}r++}return{attrs:e,classes:n}}function ee(t){return va(()=>{let e=h0(t),n=le(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===s0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mn.Emulated,styles:t.styles||rn,_:null,schemas:t.schemas||null,tView:null,id:""});f0(n);let r=t.dependencies;return n.directiveDefs=yC(r,!1),n.pipeDefs=yC(r,!0),n.id=PO(n),n})}function xO(t){return kr(t)||c0(t)}function NO(t){return t!==null}function Re(t){return va(()=>({type:t.type,bootstrap:t.bootstrap||rn,declarations:t.declarations||rn,imports:t.imports||rn,exports:t.exports||rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mC(t,e){if(t==null)return Fs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ut.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ut.None?[r,a]:r,e[s]=o):n[s]=r}return n}function bt(t){return va(()=>{let e=h0(t);return f0(e),e})}function kr(t){return t[Xk]||null}function c0(t){return t[eO]||null}function l0(t){return t[tO]||null}function u0(t){let e=kr(t)||c0(t)||l0(t);return e!==null?e.standalone:!1}function d0(t,e){let n=t[nO]||null;if(!n&&e===!0)throw new Error(`Type ${Ft(t)} does not have '\u0275mod' property.`);return n}function h0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mC(t.inputs,e),outputs:mC(t.outputs),debugInfo:null}}function f0(t){t.features?.forEach(e=>e(t))}function yC(t,e){if(!t)return null;let n=e?l0:xO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(NO)}function PO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Cu(t){return{\u0275providers:t}}function sr(...t){return{\u0275providers:p0(!0,t),\u0275fromNgModule:!0}}function p0(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return dg(e,o=>{let a=o;Cp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&g0(i,s),n}function g0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];fg(i,s=>{e(s,r)})}}function Cp(t,e,n,r){if(t=Et(t),!t)return!1;let i=null,s=uC(t),o=!s&&kr(t);if(!s&&!o){let c=t.ngModule;if(s=uC(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Cp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{dg(s.imports,u=>{Cp(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&g0(l,e)}if(!a){let l=Os(i)||(()=>new i);e({provide:i,useFactory:l,deps:rn},i),e({provide:i0,useValue:i,multi:!0},i),e({provide:Ls,useValue:()=>x(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;fg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function fg(t,e){for(let n of t)ZC(n)&&(n=n.\u0275providers),Array.isArray(n)?fg(n,e):e(n)}var kO=ye({provide:String,useValue:ye});function m0(t){return t!==null&&typeof t=="object"&&kO in t}function OO(t){return!!(t&&t.useExisting)}function FO(t){return!!(t&&t.useFactory)}function Vs(t){return typeof t=="function"}function LO(t){return!!t.useClass}var bu=new R(""),Yl={},VO={},sp;function pg(){return sp===void 0&&(sp=new su),sp}var Gt=class{},ua=class extends Gt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tp(e,o=>this.processProvider(o)),this.records.set(r0,Ms(void 0,this)),i.has("environment")&&this.records.set(Gt,Ms(void 0,this));let s=this.records.get(bu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(i0,rn,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Nr(this),r=nn(void 0),i;try{return e()}finally{Nr(n),nn(r)}}get(e,n=ca,r=J.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(hC))return e[hC](this);r=Eu(r);let i,s=Nr(this),o=nn(void 0);try{if(!(r&J.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=zO(e)&&Iu(e);l&&this.injectableDefInScope(l)?c=Ms(bp(e),Yl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&J.Self?pg():this.parent;return n=r&J.Optional&&n===ca?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ru]=a[ru]||[]).unshift(Ft(e)),s)throw a;return hO(a,e,"R3InjectorError",this.source)}else throw a}finally{nn(o),Nr(s)}}resolveInjectorInitializers(){let e=de(null),n=Nr(this),r=nn(void 0),i;try{let s=this.get(Ls,rn,J.Self);for(let o of s)o()}finally{Nr(n),nn(r),de(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){e=Et(e);let n=Vs(e)?e:Et(e&&e.provide),r=BO(e);if(!Vs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ms(void 0,Yl,!0),i.factory=()=>Ip(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=de(null);try{return n.value===Yl&&(n.value=VO,n.value=n.factory()),typeof n.value=="object"&&n.value&&$O(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bp(t){let e=Iu(t),n=e!==null?e.factory:Os(t);if(n!==null)return n;if(t instanceof R)throw new O(204,!1);if(t instanceof Function)return UO(t);throw new O(204,!1)}function UO(t){if(t.length>0)throw new O(204,!1);let n=Zk(t);return n!==null?()=>n.factory(t):()=>new t}function BO(t){if(m0(t))return Ms(void 0,t.useValue);{let e=y0(t);return Ms(e,Yl)}}function y0(t,e,n){let r;if(Vs(t)){let i=Et(t);return Os(i)||bp(i)}else if(m0(t))r=()=>Et(t.useValue);else if(FO(t))r=()=>t.useFactory(...Ip(t.deps||[]));else if(OO(t))r=()=>x(Et(t.useExisting));else{let i=Et(t&&(t.useClass||t.provide));if(jO(t))r=()=>new i(...Ip(t.deps));else return Os(i)||bp(i)}return r}function Ms(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jO(t){return!!t.deps}function $O(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zO(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function Tp(t,e){for(let n of t)Array.isArray(n)?Tp(n,e):n&&ZC(n)?Tp(n.\u0275providers,e):e(n)}function or(t,e){t instanceof ua&&t.assertNotDestroyed();let n,r=Nr(t),i=nn(void 0);try{return e()}finally{Nr(r),nn(i)}}function _0(){return JC()!==void 0||lO()!=null}function HO(t){if(!_0())throw new O(-203,!1)}function qO(t){return typeof t=="function"}var ar=0,Q=1,F=2,it=3,mn=4,_n=5,ou=6,da=7,tr=8,Us=9,yn=10,Ct=11,ha=12,_C=13,Ia=14,Rn=15,Ea=16,Rs=17,nr=18,Tu=19,v0=20,Pr=21,op=22,_i=23,vi=25,w0=1;var wi=7,au=8,Bs=9,qt=10,gg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gg||{});function mi(t){return Array.isArray(t)&&typeof t[w0]=="object"}function cr(t){return Array.isArray(t)&&t[w0]===!0}function I0(t){return(t.flags&4)!==0}function Du(t){return t.componentOffset>-1}function E0(t){return(t.flags&1)===1}function Or(t){return!!t.template}function GO(t){return(t[F]&512)!==0}var Dp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function C0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Pn(){return b0}function b0(t){return t.type.prototype.ngOnChanges&&(t.setInput=KO),WO}Pn.ngInherit=!0;function WO(){let t=D0(this),e=t?.current;if(e){let n=t.previous;if(n===Fs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function KO(t,e,n,r,i){let s=this.declaredInputs[r],o=D0(t)||QO(t,{previous:Fs,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Dp(l&&l.currentValue,n,c===Fs),C0(t,e,i,n)}var T0="__ngSimpleChanges__";function D0(t){return t[T0]||null}function QO(t,e){return t[T0]=e}var vC=null;var Sn=function(t,e,n){vC?.(t,e,n)},YO="svg",ZO="math",JO=!1;function XO(){return JO}function xn(t){for(;Array.isArray(t);)t=t[ar];return t}function e1(t,e){return xn(e[t])}function sn(t,e){return xn(e[t.index])}function S0(t,e){return t.data[e]}function Lr(t,e){let n=e[t];return mi(n)?n:n[ar]}function t1(t){return(t[F]&4)===4}function mg(t){return(t[F]&128)===128}function n1(t){return cr(t[it])}function wC(t,e){return e==null?null:t[e]}function A0(t){t[Rs]=0}function r1(t){t[F]&1024||(t[F]|=1024,mg(t)&&fa(t))}function yg(t){return!!(t[F]&9216||t[_i]?.dirty)}function Sp(t){t[yn].changeDetectionScheduler?.notify(1),yg(t)?fa(t):t[F]&64&&(XO()?(t[F]|=1024,fa(t)):t[yn].changeDetectionScheduler?.notify())}function fa(t){t[yn].changeDetectionScheduler?.notify();let e=pa(t);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!mg(e)));)e=pa(e)}function M0(t,e){if((t[F]&256)===256)throw new O(911,!1);t[Pr]===null&&(t[Pr]=[]),t[Pr].push(e)}function i1(t,e){if(t[Pr]===null)return;let n=t[Pr].indexOf(e);n!==-1&&t[Pr].splice(n,1)}function pa(t){let e=t[it];return cr(e)?e[it]:e}var ue={lFrame:L0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function s1(){return ue.lFrame.elementDepthCount}function o1(){ue.lFrame.elementDepthCount++}function a1(){ue.lFrame.elementDepthCount--}function R0(){return ue.bindingsEnabled}function c1(){return ue.skipHydrationRootTNode!==null}function l1(t){return ue.skipHydrationRootTNode===t}function u1(){ue.skipHydrationRootTNode=null}function De(){return ue.lFrame.lView}function Wt(){return ue.lFrame.tView}function Lt(){let t=x0();for(;t!==null&&t.type===64;)t=t.parent;return t}function x0(){return ue.lFrame.currentTNode}function d1(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Su(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function N0(){return ue.lFrame.isParent}function h1(){ue.lFrame.isParent=!1}function f1(t){return ue.lFrame.bindingIndex=t}function P0(){return ue.lFrame.bindingIndex++}function p1(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function g1(){return ue.lFrame.inI18n}function m1(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ap(e)}function y1(){return ue.lFrame.currentDirectiveIndex}function Ap(t){ue.lFrame.currentDirectiveIndex=t}function _1(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function k0(){return ue.lFrame.currentQueryIndex}function _g(t){ue.lFrame.currentQueryIndex=t}function v1(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[_n]:null}function O0(t,e,n){if(n&J.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&J.Host);)if(i=v1(s),i===null||(s=s[Ia],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=F0();return r.currentTNode=e,r.lView=t,!0}function vg(t){let e=F0(),n=t[Q];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function F0(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?L0(t):e}function L0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function V0(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var U0=V0;function wg(){let t=V0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ca(){return ue.lFrame.selectedIndex}function Ii(t){ue.lFrame.selectedIndex=t}function B0(){let t=ue.lFrame;return S0(t.tView,t.selectedIndex)}function w1(){return ue.lFrame.currentNamespace}var j0=!0;function $0(){return j0}function z0(t){j0=t}function I1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=b0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function H0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Zl(t,e,n){q0(t,e,3,n)}function Jl(t,e,n,r){(t[F]&3)===n&&q0(t,e,n,r)}function ap(t,e){let n=t[F];(n&3)===e&&(n&=16383,n+=1,t[F]=n)}function q0(t,e,n,r){let i=r!==void 0?t[Rs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Rs]+=65536),(a<s||s==-1)&&(E1(t,n,e,c),t[Rs]=(t[Rs]&4294901760)+c+2),c++}function IC(t,e){Sn(4,t,e);let n=de(null);try{e.call(t)}finally{de(n),Sn(5,t,e)}}function E1(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[F]>>14<t[Rs]>>16&&(t[F]&3)===e&&(t[F]+=16384,IC(a,s)):IC(a,s)}var ks=-1,Ei=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function C1(t){return t instanceof Ei}function b1(t){return(t.flags&8)!==0}function T1(t){return(t.flags&16)!==0}function G0(t){return t!==ks}function cu(t){return t&32767}function D1(t){return t>>16}function lu(t,e){let n=D1(t),r=e;for(;n>0;)r=r[Ia],n--;return r}var Mp=!0;function EC(t){let e=Mp;return Mp=t,e}var S1=256,W0=S1-1,K0=5,A1=0,An={};function M1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(aa)&&(r=n[aa]),r==null&&(r=n[aa]=A1++);let i=r&W0,s=1<<i;e.data[t+(i>>K0)]|=s}function uu(t,e){let n=Q0(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,cp(r.data,t),cp(e,null),cp(r.blueprint,null));let i=Ig(t,e),s=t.injectorIndex;if(G0(i)){let o=cu(i),a=lu(i,e),c=a[Q].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function cp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Q0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ig(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=eb(i),r===null)return ks;if(n++,i=i[Ia],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ks}function Rp(t,e,n){M1(t,e,n)}function R1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(o0(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Y0(t,e,n){if(n&J.Optional||t!==void 0)return t;ug(e,"NodeInjector")}function Z0(t,e,n,r){if(n&J.Optional&&r===void 0&&(r=null),!(n&(J.Self|J.Host))){let i=t[Us],s=nn(void 0);try{return i?i.get(e,r,n&J.Optional):XC(e,r,n&J.Optional)}finally{nn(s)}}return Y0(r,e,n)}function J0(t,e,n,r=J.Default,i){if(t!==null){if(e[F]&2048&&!(r&J.Self)){let o=k1(t,e,n,r,An);if(o!==An)return o}let s=X0(t,e,n,r,An);if(s!==An)return s}return Z0(e,n,r,i)}function X0(t,e,n,r,i){let s=N1(n);if(typeof s=="function"){if(!O0(e,t,r))return r&J.Host?Y0(i,n,r):Z0(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&J.Optional))ug(n);else return o}finally{U0()}}else if(typeof s=="number"){let o=null,a=Q0(t,e),c=ks,l=r&J.Host?e[Rn][_n]:null;for((a===-1||r&J.SkipSelf)&&(c=a===-1?Ig(t,e):e[a+8],c===ks||!bC(r,!1)?a=-1:(o=e[Q],a=cu(c),e=lu(c,e)));a!==-1;){let u=e[Q];if(CC(s,a,u.data)){let d=x1(a,e,n,o,r,l);if(d!==An)return d}c=e[a+8],c!==ks&&bC(r,e[Q].data[a+8]===l)&&CC(s,a,e)?(o=u,a=cu(c),e=lu(c,e)):a=-1}}return i}function x1(t,e,n,r,i,s){let o=e[Q],a=o.data[t+8],c=r==null?Du(a)&&Mp:r!=o&&(a.type&3)!==0,l=i&J.Host&&s===a,u=Xl(a,o,n,c,l);return u!==null?Ci(e,o,u,a):An}function Xl(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:l;for(let p=d;p<h;p++){let y=o[p];if(p<c&&n===y||p>=c&&y.type===n)return p}if(i){let p=o[c];if(p&&Or(p)&&p.type===n)return c}return null}function Ci(t,e,n,r){let i=t[n],s=e.data;if(C1(i)){let o=i;o.resolving&&iO(rO(s[n]));let a=EC(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?nn(o.injectImpl):null,u=O0(t,r,J.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&I1(n,s[n],e)}finally{l!==null&&nn(l),EC(a),o.resolving=!1,U0()}}return i}function N1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(aa)?t[aa]:void 0;return typeof e=="number"?e>=0?e&W0:P1:e}function CC(t,e,n){let r=1<<t;return!!(n[e+(t>>K0)]&r)}function bC(t,e){return!(t&J.Self)&&!(t&J.Host&&e)}var yi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return J0(this._tNode,this._lView,e,Eu(r),n)}};function P1(){return new yi(Lt(),De())}function ba(t){return va(()=>{let e=t.prototype.constructor,n=e[nu]||xp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[nu]||xp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function xp(t){return WC(t)?()=>{let e=xp(Et(t));return e&&e()}:Os(t)}function k1(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[F]&2048&&!(o[F]&512);){let a=X0(s,o,n,r|J.Self,An);if(a!==An)return a;let c=s.parent;if(!c){let l=o[v0];if(l){let u=l.get(n,An,r);if(u!==An)return u}c=eb(o),o=o[Ia]}s=c}return i}function eb(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[_n]:null}function Eg(t){return R1(Lt(),t)}function TC(t,e=null,n=null,r){let i=tb(t,e,n,r);return i.resolveInjectorInitializers(),i}function tb(t,e=null,n=null,r,i=new Set){let s=[n||rn,sr(t)];return r=r||(typeof t=="object"?void 0:Ft(t)),new ua(s,e||pg(),r||null,i)}var we=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return TC({name:""},i,r,"");{let s=r.name??"";return TC({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ca,e.NULL=new su,e.\u0275prov=P({token:e,providedIn:"any",factory:()=>x(r0)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var O1="ngOriginalError";function lp(t){return t[O1]}var Nn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lp(e);for(;n&&lp(n);)n=lp(n);return n||null}},nb=new R("",{providedIn:"root",factory:()=>C(Nn).handleError.bind(void 0)}),Cg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=F1,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Np=class extends Cg{constructor(e){super(),this._lView=e}onDestroy(e){return M0(this._lView,e),()=>i1(this._lView,e)}};function F1(){return new Np(De())}function L1(){return qs(Lt(),De())}function qs(t,e){return new Tt(sn(t,e))}var Tt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=L1;let t=e;return t})();function V1(t){return t instanceof Tt?t.nativeElement:t}var Pp=class extends Ge{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,_0()&&(this.destroyRef=C(Cg,{optional:!0})??void 0)}emit(e){let n=de(null);try{super.next(e)}finally{de(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=up(s),i&&(i=up(i)),o&&(o=up(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Fe&&e.add(a),a}};function up(t){return e=>{setTimeout(t,void 0,e)}}var We=Pp;function U1(){return this._results[Symbol.iterator]()}var kp=class t{get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=U1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=gO(e);(this._changesDetected=!pO(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function rb(t){return(t.flags&128)===128}var Op;function ib(t){Op=t}function B1(){if(Op!==void 0)return Op;if(typeof document<"u")return document;throw new O(210,!1)}var bg=new R("",{providedIn:"root",factory:()=>j1}),j1="ng",Tg=new R(""),kn=new R("",{providedIn:"platform",factory:()=>"unknown"});var Dg=new R("",{providedIn:"root",factory:()=>B1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $1="h",z1="b";var H1=()=>null;function Sg(t,e,n=!1){return H1(t,e,n)}var sb=!1,q1=new R("",{providedIn:"root",factory:()=>sb});var Wl;function G1(){if(Wl===void 0&&(Wl=null,gi.trustedTypes))try{Wl=gi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wl}function DC(t){return G1()?.createScriptURL(t)||t}var du=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qC})`}};function Ta(t){return t instanceof du?t.changingThisBreaksApplicationSecurity:t}function Ag(t,e){let n=W1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${qC})`)}return n===e}function W1(t){return t instanceof du&&t.getTypeName()||null}var K1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ob(t){return t=String(t),t.match(K1)?t:"unsafe:"+t}var Au=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Au||{});function Q1(t){let e=cb();return e?e.sanitize(Au.URL,t)||"":Ag(t,"URL")?Ta(t):ob(lg(t))}function Y1(t){let e=cb();if(e)return DC(e.sanitize(Au.RESOURCE_URL,t)||"");if(Ag(t,"ResourceURL"))return DC(Ta(t));throw new O(904,!1)}function Z1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Y1:Q1}function ab(t,e,n){return Z1(e,n)(t)}function cb(){let t=De();return t&&t[yn].sanitizer}var lb=new Map,J1=0;function X1(){return J1++}function eF(t){lb.set(t[Tu],t)}function tF(t){lb.delete(t[Tu])}var SC="__ngContext__";function js(t,e){mi(e)?(t[SC]=e[Tu],eF(e)):t[SC]=e}function ub(t){return t instanceof Function?t():t}function nF(t){return(t??C(we)).get(kn)==="browser"}var rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rr||{}),rF;function Mg(t,e){return rF(t,e)}function xs(t,e,n,r,i){if(r!=null){let s,o=!1;cr(r)?s=r:mi(r)&&(o=!0,r=r[ar]);let a=xn(r);t===0&&n!==null?i==null?gb(e,n,a):hu(e,n,a,i||null,!0):t===1&&n!==null?hu(e,n,a,i||null,!0):t===2?vF(e,a,o):t===3&&e.destroyNode(a),s!=null&&IF(e,t,s,n,i)}}function iF(t,e){return t.createText(e)}function db(t,e,n){return t.createElement(e,n)}function sF(t,e){hb(t,e),e[ar]=null,e[_n]=null}function oF(t,e,n,r,i,s){r[ar]=i,r[_n]=e,Mu(t,r,n,1,i,s)}function hb(t,e){e[yn].changeDetectionScheduler?.notify(1),Mu(t,e,e[Ct],2,null,null)}function aF(t){let e=t[ha];if(!e)return dp(t[Q],t);for(;e;){let n=null;if(mi(e))n=e[ha];else{let r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[mn]&&e!==t;)mi(e)&&dp(e[Q],e),e=e[it];e===null&&(e=t),mi(e)&&dp(e[Q],e),n=e&&e[mn]}e=n}}function cF(t,e,n,r){let i=qt+r,s=n.length;r>0&&(n[i-1][mn]=e),r<s-qt?(e[mn]=n[i],n0(n,qt+r,e)):(n.push(e),e[mn]=null),e[it]=n;let o=e[Ea];o!==null&&n!==o&&lF(o,e);let a=e[nr];a!==null&&a.insertView(t),Sp(e),e[F]|=128}function lF(t,e){let n=t[Bs],i=e[it][it][Rn];e[Rn]!==i&&(t[F]|=gg.HasTransplantedViews),n===null?t[Bs]=[e]:n.push(e)}function fb(t,e){let n=t[Bs],r=n.indexOf(e);n.splice(r,1)}function Fp(t,e){if(t.length<=qt)return;let n=qt+e,r=t[n];if(r){let i=r[Ea];i!==null&&i!==t&&fb(i,r),e>0&&(t[n-1][mn]=r[mn]);let s=iu(t,qt+e);sF(r[Q],r);let o=s[nr];o!==null&&o.detachView(s[Q]),r[it]=null,r[mn]=null,r[F]&=-129}return r}function pb(t,e){if(!(e[F]&256)){let n=e[Ct];n.destroyNode&&Mu(t,e,n,3,null,null),aF(e)}}function dp(t,e){if(e[F]&256)return;let n=de(null);try{e[F]&=-129,e[F]|=256,e[_i]&&FE(e[_i]),dF(t,e),uF(t,e),e[Q].type===1&&e[Ct].destroy();let r=e[Ea];if(r!==null&&cr(e[it])){r!==e[it]&&fb(r,e);let i=e[nr];i!==null&&i.detachView(t)}tF(e)}finally{de(n)}}function uF(t,e){let n=t.cleanup,r=e[da];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[da]=null);let i=e[Pr];if(i!==null){e[Pr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function dF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ei)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Sn(4,a,c);try{c.call(a)}finally{Sn(5,a,c)}}else{Sn(4,i,s);try{s.call(i)}finally{Sn(5,i,s)}}}}}function hF(t,e,n){return fF(t,e.parent,n)}function fF(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ar];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Mn.None||s===Mn.Emulated)return null}return sn(r,n)}}function hu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gb(t,e,n){t.appendChild(e,n)}function AC(t,e,n,r,i){r!==null?hu(t,e,n,r,i):gb(t,e,n)}function pF(t,e,n,r){t.removeChild(e,n,r)}function Rg(t,e){return t.parentNode(e)}function gF(t,e){return t.nextSibling(e)}function mF(t,e,n){return _F(t,e,n)}function yF(t,e,n){return t.type&40?sn(t,n):null}var _F=yF,MC;function mb(t,e,n,r){let i=hF(t,r,e),s=e[Ct],o=r.parent||e[_n],a=mF(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)AC(s,i,n[c],a,!1);else AC(s,i,n,a,!1);MC!==void 0&&MC(s,r,e,n,i)}function eu(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return Lp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return eu(t,r);{let i=t[e.index];return cr(i)?Lp(-1,i):xn(i)}}else{if(n&32)return Mg(e,t)()||xn(t[e.index]);{let r=yb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=pa(t[Rn]);return eu(i,r)}else return eu(t,e.next)}}}return null}function yb(t,e){if(e!==null){let r=t[Rn][_n],i=e.projection;return r.projection[i]}return null}function Lp(t,e){let n=qt+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return eu(r,i)}return e[wi]}function vF(t,e,n){let r=Rg(t,e);r&&pF(t,r,e,n)}function xg(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&js(xn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)xg(t,e,n.child,r,i,s,!1),xs(e,t,i,a,s);else if(c&32){let l=Mg(n,r),u;for(;u=l();)xs(e,t,i,u,s);xs(e,t,i,a,s)}else c&16?wF(t,e,r,n,i,s):xs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Mu(t,e,n,r,i,s){xg(n,r,t.firstChild,e,i,s,!1)}function wF(t,e,n,r,i,s){let o=n[Rn],c=o[_n].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];xs(e,t,i,u,s)}else{let l=c,u=o[it];rb(r)&&(l.flags|=128),xg(t,e,l,u,i,s,!0)}}function IF(t,e,n,r,i){let s=n[wi],o=xn(n);s!==o&&xs(e,t,r,s,i);for(let a=qt;a<n.length;a++){let c=n[a];Mu(c[Q],c,t,e,r,s)}}function EF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:rr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=rr.Important),t.setStyle(n,r,i,s))}}function CF(t,e,n){t.setAttribute(e,"style",n)}function _b(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vb(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ep(t,e,r),i!==null&&_b(t,e,i),s!==null&&CF(t,e,s)}var Ru={};function wb(t=1){Ib(Wt(),De(),Ca()+t,!1)}function Ib(t,e,n,r){if(!r)if((e[F]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Zl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Jl(e,s,0,n)}Ii(n)}function ne(t,e=J.Default){let n=De();if(n===null)return x(t,e);let r=Lt();return J0(r,n,Et(t),e)}function Eb(){let t="invalid";throw new Error(t)}function Cb(t,e,n,r,i,s){let o=de(null);try{let a=null;i&ut.SignalBased&&(a=e[r][NE]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ut.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):C0(e,a,r,s)}finally{de(o)}}function bF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ii(~i);else{let s=i,o=n[++r],a=n[++r];m1(o,s);let c=e[s];a(2,c)}}}finally{Ii(-1)}}function xu(t,e,n,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[ar]=i,d[F]=r|4|128|8|64,(l!==null||t&&t[F]&2048)&&(d[F]|=2048),A0(d),d[it]=d[Ia]=t,d[tr]=n,d[yn]=o||t&&t[yn],d[Ct]=a||t&&t[Ct],d[Us]=c||t&&t[Us]||null,d[_n]=s,d[Tu]=X1(),d[ou]=u,d[v0]=l,d[Rn]=e.type==2?t[Rn]:d,d}function Ng(t,e,n,r,i){let s=t.data[e];if(s===null)s=TF(t,e,n,r,i),g1()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=d1();s.injectorIndex=o===null?-1:o.injectorIndex}return Su(s,!0),s}function TF(t,e,n,r,i){let s=x0(),o=N0(),a=o?s:s&&s.parent,c=t.data[e]=PF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function bb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Tb(t,e,n,r,i){let s=Ca(),o=r&2;try{Ii(-1),o&&e.length>vi&&Ib(t,e,vi,!1),Sn(o?2:0,i),n(r,i)}finally{Ii(s),Sn(o?3:1,i)}}function Db(t,e,n){if(I0(e)){let r=de(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{de(r)}}}function DF(t,e,n){R0()&&(jF(t,e,n,sn(n,e)),(n.flags&64)===64&&Rb(t,e,n))}function SF(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Sb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ab(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ab(t,e,n,r,i,s,o,a,c,l,u){let d=vi+r,h=d+i,p=AF(d,h),y=typeof l=="function"?l():l;return p[Q]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function AF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ru);return n}function MF(t,e,n,r){let s=r.get(q1,sb)||n===Mn.ShadowDom,o=t.selectRootElement(e,s);return RF(o),o}function RF(t){xF(t)}var xF=()=>null;function NF(t,e,n,r){let i=Nb(e);i.push(n),t.firstCreatePass&&Pb(t).push(r,i.length-1)}function PF(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return c1()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function RC(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ut.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?xC(r,n,l,a,c):xC(r,n,l,a)}return r}function xC(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function kF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,p=h?h.inputs:null,y=h?h.outputs:null;c=RC(0,d.inputs,u,c,p),l=RC(1,d.outputs,u,l,y);let v=c!==null&&o!==null&&!hg(e)?JF(c,u,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function OF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function FF(t,e,n,r,i,s,o,a){let c=sn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(kg(t,n,u,r,i),Du(e)&&LF(n,e.index)):e.type&3?(r=OF(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function LF(t,e){let n=Lr(e,t);n[F]&16||(n[F]|=64)}function VF(t,e,n,r){if(R0()){let i=r===null?null:{"":-1},s=zF(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Mb(t,e,n,o,i,a),i&&HF(n,r,i)}n.mergedAttrs=la(n.mergedAttrs,n.attrs)}function Mb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Rp(uu(n,e),t,r[l].type);GF(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=bb(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=la(n.mergedAttrs,u.hostAttrs),WF(t,n,e,c,u),qF(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}kF(t,n,s)}function UF(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;BF(o)!=a&&o.push(a),o.push(n,r,s)}}function BF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jF(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Du(n)&&KF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||uu(n,e),js(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=Ci(e,t,a,n);if(js(l,e),o!==null&&ZF(e,a-i,l,c,n,o),Or(c)){let u=Lr(n.index,e);u[tr]=Ci(e,t,a,n)}}}function Rb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=y1();try{Ii(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Ap(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&$F(c,l)}}finally{Ii(-1),Ap(o)}}function $F(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function zF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(TO(e,o.selectors,!1))if(r||(r=[]),Or(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Vp(t,e,c)}else r.unshift(o),Vp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Vp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function HF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new O(-301,!1);r.push(e[i],s)}}}function qF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Or(e)&&(n[""]=t)}}function GF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WF(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Os(i.type,!0)),o=new Ei(s,Or(i),ne);t.blueprint[r]=o,n[r]=o,UF(t,e,r,bb(t,n,i.hostVars,Ru),i)}function KF(t,e,n){let r=sn(e,t),i=Sb(n),s=t[yn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Pg(t,xu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function QF(t,e,n,r,i,s){let o=sn(t,e);YF(e[Ct],o,s,t.value,n,r,i)}function YF(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?lg(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function ZF(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];Cb(r,n,c,l,u,d)}}function JF(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function XF(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function xb(t,e){let n=t.contentQueries;if(n!==null){let r=de(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];_g(s),a.contentQueries(2,e[o],o)}}}finally{de(r)}}}function Pg(t,e){return t[ha]?t[_C][mn]=e:t[ha]=e,t[_C]=e,e}function Up(t,e,n){_g(0);let r=de(null);try{e(t,n)}finally{de(r)}}function Nb(t){return t[da]||(t[da]=[])}function Pb(t){return t.cleanup||(t.cleanup=[])}function kb(t,e){let n=t[Us],r=n?n.get(Nn,null):null;r&&r.handleError(e)}function kg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];Cb(u,l,r,a,c,i)}}function eL(t,e){let n=Lr(e,t),r=n[Q];tL(r,n);let i=n[ar];i!==null&&n[ou]===null&&(n[ou]=Sg(i,n[Us])),Og(r,n,n[tr])}function tL(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Og(t,e,n){vg(e);try{let r=t.viewQuery;r!==null&&Up(1,r,n);let i=t.template;i!==null&&Tb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[nr]?.finishViewCreation(t),t.staticContentQueries&&xb(t,e),t.staticViewQueries&&Up(2,t.viewQuery,n);let s=t.components;s!==null&&nL(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[F]&=-5,wg()}}function nL(t,e){for(let n=0;n<e.length;n++)eL(t,e[n])}function rL(t,e,n,r){let i=de(null);try{let s=e.tView,a=t[F]&4096?4096:16,c=xu(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[Ea]=l;let u=t[nr];return u!==null&&(c[nr]=u.createEmbeddedView(s)),Og(s,c,n),c}finally{de(i)}}function NC(t,e){return!e||e.firstChild===null||rb(t)}function iL(t,e,n,r=!0){let i=e[Q];if(cF(i,e,t,n),r){let o=Lp(n,t),a=e[Ct],c=Rg(a,t[wi]);c!==null&&oF(i,t[_n],a,e,c,o)}let s=e[ou];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function fu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(xn(s)),cr(s)&&sL(s,r);let o=n.type;if(o&8)fu(t,e,n.child,r);else if(o&32){let a=Mg(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=yb(e,n);if(Array.isArray(a))r.push(...a);else{let c=pa(e[Rn]);fu(c[Q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sL(t,e){for(let n=qt;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&fu(r[Q],r,i,e)}t[wi]!==t[ar]&&e.push(t[wi])}var Ob=[];function oL(t){return t[_i]??aL(t)}function aL(t){let e=Ob.pop()??Object.create(lL);return e.lView=t,e}function cL(t){t.lView[_i]!==t&&(t.lView=null,Ob.push(t))}var lL=le(D({},PE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fa(t.lView)},consumerOnSignalRead(){this.lView[_i]=this}});function Fb(t){return Vb(t[ha])}function Lb(t){return Vb(t[mn])}function Vb(t){for(;t!==null&&!cr(t);)t=t[mn];return t}var Ub=100;function Bb(t,e=!0,n=0){let r=t[yn],i=r.rendererFactory,s=!1;s||i.begin?.();try{uL(t,n)}catch(o){throw e&&kb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function uL(t,e){Bp(t,e);let n=0;for(;yg(t);){if(n===Ub)throw new O(103,!1);n++,Bp(t,1)}}function dL(t,e,n,r){let i=e[F];if((i&256)===256)return;let s=!1;!s&&e[yn].inlineEffectRunner?.flush(),vg(e);let o=null,a=null;!s&&hL(t)&&(a=oL(e),o=kE(a));try{A0(e),f1(t.bindingStartIndex),n!==null&&Tb(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Zl(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Jl(e,d,0,null),ap(e,0)}if(fL(e),jb(e,0),t.contentQueries!==null&&xb(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Zl(e,d)}else{let d=t.contentHooks;d!==null&&Jl(e,d,1),ap(e,1)}bF(t,e);let l=t.components;l!==null&&zb(e,l,0);let u=t.viewQuery;if(u!==null&&Up(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Zl(e,d)}else{let d=t.viewHooks;d!==null&&Jl(e,d,2),ap(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[op]){for(let d of e[op])d();e[op]=null}s||(e[F]&=-73)}catch(c){throw fa(e),c}finally{a!==null&&(OE(a,o),cL(a)),wg()}}function hL(t){return t.type!==2}function jb(t,e){for(let n=Fb(t);n!==null;n=Lb(n))for(let r=qt;r<n.length;r++){let i=n[r];$b(i,e)}}function fL(t){for(let e=Fb(t);e!==null;e=Lb(e)){if(!(e[F]&gg.HasTransplantedViews))continue;let n=e[Bs];for(let r=0;r<n.length;r++){let i=n[r],s=i[it];r1(i)}}}function pL(t,e,n){let r=Lr(e,t);$b(r,n)}function $b(t,e){mg(t)&&Bp(t,e)}function Bp(t,e){let r=t[Q],i=t[F],s=t[_i],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&kf(s)),s&&(s.dirty=!1),t[F]&=-9217,o)dL(r,t,r.template,t[tr]);else if(i&8192){jb(t,1);let a=r.components;a!==null&&zb(t,a,1)}}function zb(t,e,n){for(let r=0;r<e.length;r++)pL(t,e[r],n)}function Fg(t){for(t[yn].changeDetectionScheduler?.notify();t;){t[F]|=64;let e=pa(t);if(GO(t)&&!e)return t;t=e}return null}var bi=class{get rootNodes(){let e=this._lView,n=e[Q];return fu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tr]}set context(e){this._lView[tr]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[it];if(cr(e)){let n=e[au],r=n?n.indexOf(this):-1;r>-1&&(Fp(e,r),iu(n,r))}this._attachedToViewContainer=!1}pb(this._lView[Q],this._lView)}onDestroy(e){M0(this._lView,e)}markForCheck(){Fg(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){Sp(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,Bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,hb(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,Sp(this._lView)}},ga=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yL;let t=e;return t})(),gL=ga,mL=class extends gL{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=rL(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new bi(i)}};function yL(){return Lg(Lt(),De())}function Lg(t,e){return t.type&4?new mL(e,t,qs(t,e)):null}var wJ=new RegExp(`^(\\d+)*(${z1}|${$1})*(.*)`);var _L=()=>null;function PC(t,e){return _L(t,e)}var pu=class{},jp=class{},gu=class{};function vL(t){let e=Error(`No component factory found for ${Ft(t)}.`);return e[wL]=t,e}var wL="ngComponent";var $p=class{resolveComponentFactory(e){throw vL(e)}},Gs=(()=>{let e=class e{};e.NULL=new $p;let t=e;return t})(),ma=class{},Vr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>IL();let t=e;return t})();function IL(){let t=De(),e=Lt(),n=Lr(e.index,t);return(mi(n)?n:t)[Ct]}var EL=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),hp={};var kC=new Set;function Vg(t){kC.has(t)||(kC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function OC(...t){}function CL(){let t=typeof gi.requestAnimationFrame=="function",e=gi[t?"requestAnimationFrame":"setTimeout"],n=gi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var B=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=CL().nativeRequestAnimationFrame,DL(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,bL,OC,OC);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},bL={};function Ug(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function TL(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zp(t),t.isCheckStableRunning=!0,Ug(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zp(t))}function DL(t){let e=()=>{TL(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(SL(a))return n.invokeTask(i,s,o,a);try{return FC(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),LC(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return FC(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),LC(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zp(t),Ug(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function FC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LC(t){t._nesting--,Ug(t)}function SL(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ns=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ns||{}),AL={destroy(){}};function Bg(t,e){!e&&HO(Bg);let n=e?.injector??C(we);if(!nF(n))return AL;Vg("NgAfterNextRender");let r=n.get(jg),i=r.handler??=new qp,s=e?.phase??Ns.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Cg).onDestroy(o),c=or(n,()=>new Hp(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Hp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=C(B),this.errorHandler=C(Nn,{optional:!0}),C(pu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},qp=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ns.EarlyRead]:new Set,[Ns.Write]:new Set,[Ns.MixedReadWrite]:new Set,[Ns.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},jg=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Gp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=cC(i,a);else if(s==2){let c=a,l=e[++o];r=cC(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var mu=class extends Gs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=kr(e);return new $s(n,this.ngModule)}};function VC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function ML(t){let e=t.toLowerCase();return e==="svg"?YO:e==="math"?ZO:null}var Wp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Eu(r);let i=this.injector.get(e,hp,r);return i!==hp||n===hp?i:this.parentInjector.get(e,n,r)}},$s=class extends gu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=VC(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return VC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=MO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=de(null);try{i=i||this.ngModule;let o=i instanceof Gt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Wp(e,o):e,c=a.get(ma,null);if(c===null)throw new O(407,!1);let l=a.get(EL,null),u=a.get(jg,null),d=a.get(pu,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",v=r?MF(p,r,this.componentDef.encapsulation,a):db(p,y,ML(y)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let A=null;v!==null&&(A=Sg(v,a,!0));let z=Ab(0,null,null,1,0,null,null,null,null,null,null),Y=xu(null,z,null,w,null,null,h,p,a,null,A);vg(Y);let se,nt;try{let Ae=this.componentDef,kt,Tn=null;Ae.findHostDirectiveDefs?(kt=[],Tn=new Map,Ae.findHostDirectiveDefs(Ae,kt,Tn),kt.push(Ae)):kt=[Ae];let ui=RL(Y,v),gs=xL(ui,v,Ae,kt,Y,h,p);nt=S0(z,vi),v&&kL(p,Ae,v,r),n!==void 0&&OL(nt,this.ngContentSelectors,n),se=PL(gs,Ae,kt,Tn,Y,[FL]),Og(z,Y,null)}finally{wg()}return new Kp(this.componentType,se,qs(nt,Y),Y,nt)}finally{de(s)}}},Kp=class extends jp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;kg(s[Q],s,i,e,n),this.previousInputValues.set(e,n);let o=Lr(this._tNode.index,s);Fg(o)}}get injector(){return new yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function RL(t,e){let n=t[Q],r=vi;return t[r]=e,Ng(n,r,2,"#host",null)}function xL(t,e,n,r,i,s,o){let a=i[Q];NL(r,t,e,o);let c=null;e!==null&&(c=Sg(e,i[Us]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=xu(i,Sb(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Vp(a,t,r.length-1),Pg(i,d),i[t.index]=d}function NL(t,e,n,r){for(let i of t)e.mergedAttrs=la(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Gp(e,e.mergedAttrs,!0),n!==null&&vb(r,n,e))}function PL(t,e,n,r,i,s){let o=Lt(),a=i[Q],c=sn(o,i);Mb(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Ci(i,a,d,o);js(h,i)}Rb(a,i,o),c&&js(c,i);let l=Ci(i,a,o.directiveStart+o.componentOffset,o);if(t[tr]=i[tr]=l,s!==null)for(let u of s)u(l,e);return Db(a,o,i),l}function kL(t,e,n,r){if(r)Ep(t,n,["ng-version","17.3.0"]);else{let{attrs:i,classes:s}=RO(e.selectors[0]);i&&Ep(t,n,i),s&&s.length>0&&_b(t,n,s.join(" "))}}function OL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function FL(){let t=Lt();H0(De()[Q],t)}var Ws=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LL;let t=e;return t})();function LL(){let t=Lt();return qb(t,De())}var VL=Ws,Hb=class extends VL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qs(this._hostTNode,this._hostLView)}get injector(){return new yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ig(this._hostTNode,this._hostLView);if(G0(e)){let n=lu(e,this._hostLView),r=cu(e),i=n[Q].data[r+8];return new yi(i,n)}else return new yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=UC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=PC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,NC(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!qO(e),a;if(o)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new $s(kr(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?l:this.parentInjector).get(Gt,null);v&&(s=v)}let u=kr(c.componentType??{}),d=PC(this._lContainer,u?.id??null),h=d?.firstChild??null,p=c.create(l,i,h,s);return this.insertImpl(p.hostView,a,NC(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(n1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[it],l=new Hb(c,c[_n],c[it]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return iL(o,i,s,r),e.attachToViewContainerRef(),n0(fp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=UC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Fp(this._lContainer,n);r&&(iu(fp(this._lContainer),n),pb(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Fp(this._lContainer,n);return r&&iu(fp(this._lContainer),n)!=null?new bi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function UC(t){return t[au]}function fp(t){return t[au]||(t[au]=[])}function qb(t,e){let n,r=e[t.index];return cr(r)?n=r:(n=XF(r,e,null,t),e[t.index]=n,Pg(e,n)),BL(n,e,t,r),new Hb(n,t,e)}function UL(t,e){let n=t[Ct],r=n.createComment(""),i=sn(e,t),s=Rg(n,i);return hu(n,s,r,gF(n,i),!1),r}var BL=jL;function jL(t,e,n,r){if(t[wi])return;let i;n.type&8?i=xn(r):i=UL(e,n),t[wi]=i}var Qp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Yp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)$g(e,n).matches!==null&&this.queries[n].setDirty()}},yu=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=QL(e):this.predicate=e}},Zp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Jp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,$L(n,s)),this.matchTNodeWithReadOption(e,n,Xl(n,e,s,!1,!1))}else r===ga?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Xl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Tt||i===Ws||i===ga&&n.type&4)this.addMatch(n.index,-2);else{let s=Xl(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function $L(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function zL(t,e){return t.type&11?qs(t,e):t.type&4?Lg(t,e):null}function HL(t,e,n,r){return n===-1?zL(e,t):n===-2?qL(t,e,r):Ci(t,t[Q],n,e)}function qL(t,e,n){if(n===Tt)return qs(e,t);if(n===ga)return Lg(e,t);if(n===Ws)return qb(e,t)}function Gb(t,e,n,r){let i=e[nr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(HL(e,u,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Xp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=Gb(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=qt;d<u.length;d++){let h=u[d];h[Ea]===h[it]&&Xp(h[Q],h,l,r)}if(u[Bs]!==null){let d=u[Bs];for(let h=0;h<d.length;h++){let p=d[h];Xp(p[Q],p,l,r)}}}}}return r}function GL(t,e){return t[nr].queries[e].queryList}function Wb(t,e,n){let r=new kp((n&4)===4);return NF(t,e,r,r.destroy),(e[nr]??=new Yp).queries.push(new Qp(r))-1}function WL(t,e,n){let r=Wt();return r.firstCreatePass&&(Kb(r,new yu(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Wb(r,De(),e)}function KL(t,e,n,r){let i=Wt();if(i.firstCreatePass){let s=Lt();Kb(i,new yu(e,n,r),s.index),YL(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Wb(i,De(),n)}function QL(t){return t.split(",").map(e=>e.trim())}function Kb(t,e,n){t.queries===null&&(t.queries=new Zp),t.queries.track(new Jp(e,n))}function YL(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function $g(t,e){return t.queries.getByIndex(e)}function ZL(t,e){let n=t[Q],r=$g(n,e);return r.crossesNgTemplate?Xp(n,t,e,[]):Gb(n,t,r,e)}function JL(t){return Object.getPrototypeOf(t.prototype).constructor}function Ur(t){let e=JL(t.type),n=!0,r=[t];for(;e;){let i;if(Or(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Kl(t.inputs),o.inputTransforms=Kl(t.inputTransforms),o.declaredInputs=Kl(t.declaredInputs),o.outputs=Kl(t.outputs);let a=i.hostBindings;a&&rV(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&tV(t,c),l&&nV(t,l),XL(t,i),Qk(t.outputs,i.outputs),Or(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ur&&(n=!1)}}e=Object.getPrototypeOf(e)}eV(r)}function XL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function eV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=la(i.hostAttrs,n=la(n,i.hostAttrs))}}function Kl(t){return t===Fs?{}:t===rn?[]:t}function tV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function rV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function zg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Fr=class{},ya=class{};var eg=class extends Fr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mu(this);let i=d0(e);this._bootstrapComponents=ub(i.bootstrap),this._r3Injector=tb(e,n,[{provide:Fr,useValue:this},{provide:Gs,useValue:this.componentFactoryResolver},...r],Ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},tg=class extends ya{constructor(e){super(),this.moduleType=e}create(e){return new eg(this.moduleType,e,[])}};var _u=class extends Fr{constructor(e){super(),this.componentFactoryResolver=new mu(this),this.instance=null;let n=new ua([...e.providers,{provide:Fr,useValue:this},{provide:Gs,useValue:this.componentFactoryResolver}],e.parent||pg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nu(t,e,n=null){return new _u({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Pu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hg(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function iV(t){return(t.flags&32)===32}function ku(t,e,n,r){let i=De(),s=P0();if(Hg(i,s,e)){let o=Wt(),a=B0();QF(a,i,t,e,n,r)}return ku}function Ql(t,e){return t<<17|e<<2}function Ti(t){return t>>17&32767}function sV(t){return(t&2)==2}function oV(t,e){return t&131071|e<<17}function ng(t){return t|2}function zs(t){return(t&131068)>>2}function pp(t,e){return t&-131069|e<<2}function aV(t){return(t&1)===1}function rg(t){return t|1}function cV(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ti(o),c=zs(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||wa(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Ti(t[a+1]);t[r+1]=Ql(h,a),h!==0&&(t[h+1]=pp(t[h+1],r)),t[a+1]=oV(t[a+1],r)}else t[r+1]=Ql(a,0),a!==0&&(t[a+1]=pp(t[a+1],r)),a=r;else t[r+1]=Ql(c,0),a===0?a=r:t[c+1]=pp(t[c+1],r),c=r;l&&(t[r+1]=ng(t[r+1])),BC(t,u,r,!0),BC(t,u,r,!1),lV(e,u,t,r,s),o=Ql(a,c),s?e.classBindings=o:e.styleBindings=o}function lV(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&wa(s,e)>=0&&(n[r+1]=rg(n[r+1]))}function BC(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ti(i):zs(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];uV(c,e)&&(a=!0,t[o+1]=r?rg(l):ng(l)),o=r?Ti(l):zs(l)}a&&(t[n+1]=r?ng(i):rg(i))}function uV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wa(t,e)>=0:!1}function qg(t,e,n){let r=De(),i=P0();if(Hg(r,i,e)){let s=Wt(),o=B0();FF(s,o,r,t,e,r[Ct],n,!1)}return qg}function jC(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";kg(t,n,s[o],o,r)}function Ou(t,e){return dV(t,e,null,!0),Ou}function dV(t,e,n,r){let i=De(),s=Wt(),o=p1(2);if(s.firstUpdatePass&&fV(s,t,o,r),e!==Ru&&Hg(i,o,e)){let a=s.data[Ca()];_V(s,a,i,i[Ct],t,i[o+1]=vV(e,n),r,o)}}function hV(t,e){return e>=t.expandoStartIndex}function fV(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ca()],o=hV(t,n);wV(s,r)&&e===null&&!o&&(e=!1),e=pV(i,s,e,r),cV(i,s,e,n,o,r)}}function pV(t,e,n,r){let i=_1(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=gp(null,t,e,n,r),n=_a(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=gp(i,t,e,n,r),s===null){let c=gV(t,e,r);c!==void 0&&Array.isArray(c)&&(c=gp(null,t,e,c[1],r),c=_a(c,e.attrs,r),mV(t,e,r,c))}else s=yV(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function gV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(zs(r)!==0)return t[Ti(r)]}function mV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ti(i)]=r}function yV(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=_a(r,o,n)}return _a(r,e.attrs,n)}function gp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=_a(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function _a(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yO(t,o,n?!0:e[++s]))}return t===void 0?null:t}function _V(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=aV(l)?$C(c,e,n,i,zs(l),o):void 0;if(!vu(u)){vu(s)||sV(l)&&(s=$C(c,null,n,i,a,o));let d=e1(Ca(),n);EF(r,o,d,i,s)}}function $C(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Ru&&(h=d?rn:void 0);let p=d?ip(h,r):u===r?h:void 0;if(l&&!vu(p)&&(p=ip(c,r)),vu(p)&&(a=p,o))return a;let y=t[i+1];i=o?Ti(y):zs(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=ip(c,r))}return a}function vu(t){return t!==void 0}function vV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ft(Ta(t)))),t}function wV(t,e){return(t.flags&(e?8:16))!==0}function IV(t,e,n,r,i,s){let o=e.consts,a=wC(o,i),c=Ng(e,t,2,r,a);return VF(e,n,c,wC(o,s)),c.attrs!==null&&Gp(c,c.attrs,!1),c.mergedAttrs!==null&&Gp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(t,e,n,r){let i=De(),s=Wt(),o=vi+t,a=i[Ct],c=s.firstCreatePass?IV(o,s,i,e,n,r):s.data[o],l=EV(s,i,c,a,e,t);i[o]=l;let u=E0(c);return Su(c,!0),vb(a,l,c),!iV(c)&&$0()&&mb(s,i,l,c),s1()===0&&js(l,i),o1(),u&&(DF(s,i,c),Db(s,c,i)),r!==null&&SF(i,c),g}function m(){let t=Lt();N0()?h1():(t=t.parent,Su(t,!1));let e=t;l1(e)&&u1(),a1();let n=Wt();return n.firstCreatePass&&(H0(n,t),I0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&b1(e)&&jC(n,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&T1(e)&&jC(n,e,De(),e.stylesWithoutHost,!1),m}function S(t,e,n,r){return g(t,e,n,r),m(),S}var EV=(t,e,n,r,i,s)=>(z0(!0),db(r,i,w1()));var wu="en-US";var CV=wu;function bV(t){typeof t=="string"&&(CV=t.toLowerCase().replace(/_/g,"-"))}function Br(t,e,n,r){let i=De(),s=Wt(),o=Lt();return DV(s,i,i[Ct],o,t,e,r),Br}function TV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[da],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function DV(t,e,n,r,i,s,o){let a=E0(r),l=t.firstCreatePass&&Pb(t),u=e[tr],d=Nb(e),h=!0;if(r.type&3||o){let v=sn(r,e),w=o?o(v):v,A=d.length,z=o?se=>o(xn(se[r.index])):r.index,Y=null;if(!o&&a&&(Y=TV(t,e,i,r.index)),Y!==null){let se=Y.__ngLastListenerFn__||Y;se.__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,h=!1}else{s=HC(r,e,u,s,!1);let se=n.listen(w,i,s);d.push(s,se),l&&l.push(i,z,A,A+1)}}else s=HC(r,e,u,s,!1);let p=r.outputs,y;if(h&&p!==null&&(y=p[i])){let v=y.length;if(v)for(let w=0;w<v;w+=2){let A=y[w],z=y[w+1],nt=e[A][z].subscribe(s),Ae=d.length;d.push(s,nt),l&&l.push(i,r.index,Ae,-(Ae+1))}}}function zC(t,e,n,r){let i=de(null);try{return Sn(6,e,n),n(r)!==!1}catch(s){return kb(t,s),!1}finally{Sn(7,e,n),de(i)}}function HC(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Lr(t.index,e):e;Fg(a);let c=zC(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=zC(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Gg(t,e,n,r){KL(t,e,n,r)}function on(t,e,n){WL(t,e,n)}function Dt(t){let e=De(),n=Wt(),r=k0();_g(r+1);let i=$g(n,r);if(t.dirty&&t1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=ZL(e,r);t.reset(s,V1),t.notifyOnChanges()}return!0}return!1}function St(){return GL(De(),k0())}function _(t,e=""){let n=De(),r=Wt(),i=t+vi,s=r.firstCreatePass?Ng(r,i,1,e,null):r.data[i],o=SV(r,n,s,e,t);n[i]=o,$0()&&mb(r,n,o,s),Su(s,!1)}var SV=(t,e,n,r,i)=>(z0(!0),iF(e[Ct],r));function AV(t,e,n){let r=Wt();if(r.firstCreatePass){let i=Or(t);ig(n,r.data,r.blueprint,i,!0),ig(e,r.data,r.blueprint,i,!1)}}function ig(t,e,n,r,i){if(t=Et(t),Array.isArray(t))for(let s=0;s<t.length;s++)ig(t[s],e,n,r,i);else{let s=Wt(),o=De(),a=Lt(),c=Vs(t)?t:Et(t.provide),l=y0(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Vs(t)||!t.multi){let p=new Ei(l,i,ne),y=yp(c,e,i?u:u+h,d);y===-1?(Rp(uu(a,o),s,c),mp(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[y]=p,o[y]=p)}else{let p=yp(c,e,u+h,d),y=yp(c,e,u,u+h),v=p>=0&&n[p],w=y>=0&&n[y];if(i&&!w||!i&&!v){Rp(uu(a,o),s,c);let A=xV(i?RV:MV,n.length,i,r,l);!i&&w&&(n[y].providerFactory=A),mp(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),o.push(A)}else{let A=Qb(n[i?y:p],l,!i&&r);mp(s,t,p>-1?p:y,A)}!i&&r&&w&&n[y].componentProviders++}}}function mp(t,e,n,r){let i=Vs(e),s=LO(e);if(i||s){let c=(s?Et(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Qb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function yp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function MV(t,e,n,r){return sg(this.multi,[])}function RV(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ci(n,n[Q],this.providerFactory.index,r);s=a.slice(0,o),sg(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],sg(i,s);return s}function sg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function xV(t,e,n,r,i){let s=new Ei(t,n,ne);return s.multi=[],s.index=e,s.componentProviders=0,Qb(s,i,r&&!n),s}function Ks(t,e=[]){return n=>{n.providersResolver=(r,i)=>AV(r,i?i(t):t,e)}}var NV=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=p0(!1,r.type),s=i.length>0?Nu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(x(Gt))});let t=e;return t})();function te(t){Vg("NgStandalone"),t.getStandaloneInjector=e=>e.get(NV).getOrCreateStandaloneInjector(t)}var ir=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Yb=new ir("17.3.0"),Fu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Zb=new R("");function Di(t){return!!t&&typeof t.then=="function"}function Jb(t){return!!t&&typeof t.subscribe=="function"}var jr=new R(""),Xb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=C(jr,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Di(o))r.push(o);else if(Jb(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lu=new R("");function PV(){LE(()=>{throw new O(600,!1)})}function kV(t){return t.isBoundToModule}function OV(t,e,n){try{let r=n();return Di(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Da=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(nb),this.afterRenderEffectManager=C(jg),this.externalTestViews=new Set,this.beforeRender=new Ge,this.afterTick=new Ge,this.componentTypes=[],this.components=[],this.isStable=C(Pu).hasPendingTasks.pipe(K(r=>!r)),this._injector=C(Gt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof gu;if(!this._injector.get(Xb).done){let p=!s&&u0(r),y=!1;throw new O(405,y)}let a;s?a=r:a=this._injector.get(Gs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=kV(a)?void 0:this._injector.get(Fr),l=i||a.selector,u=a.create(we.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Zb,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),_p(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new O(101,!1);let i=de(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,de(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===Ub)throw new O(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)FV(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>og(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>og(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;_p(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Lu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>_p(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _p(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FV(t,e,n){!e&&!og(t)||LV(t,n,e)}function og(t){return yg(t)}function LV(t,e,n){let r;n?(r=0,t[F]|=1024):t[F]&64?r=0:r=1,Bb(t,e,r)}var ag=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vu=(()=>{let e=class e{compileModuleSync(r){return new tg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=d0(r),o=ub(s.declarations).reduce((a,c)=>{let l=kr(c);return l&&a.push(new $s(l)),a},[]);return new ag(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var VV=(()=>{let e=class e{constructor(){this.zone=C(B),this.applicationRef=C(Da)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UV(t){return[{provide:B,useFactory:t},{provide:Ls,multi:!0,useFactory:()=>{let e=C(VV,{optional:!0});return()=>e.initialize()}},{provide:Ls,multi:!0,useFactory:()=>{let e=C(zV);return()=>{e.initialize()}}},{provide:nb,useFactory:BV}]}function BV(){let t=C(B),e=C(Nn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function jV(t){let e=UV(()=>new B($V(t)));return Cu([[],e])}function $V(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zV=(()=>{let e=class e{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=C(B),this.pendingTasks=C(Pu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{B.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{B.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HV(){return typeof $localize<"u"&&$localize.locale||wu}var Wg=new R("",{providedIn:"root",factory:()=>C(Wg,J.Optional|J.SkipSelf)||HV()});var eT=new R("");var tu=null;function qV(t=[],e){return we.create({name:e,providers:[{provide:bu,useValue:"platform"},{provide:eT,useValue:new Set([()=>tu=null])},...t]})}function GV(t=[]){if(tu)return tu;let e=qV(t);return tu=e,PV(),WV(e),e}function WV(t){t.get(Tg,null)?.forEach(n=>n())}var Si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KV;let t=e;return t})();function KV(t){return QV(Lt(),De(),(t&16)===16)}function QV(t,e,n){if(Du(t)&&!n){let r=Lr(t.index,e);return new bi(r,r)}else if(t.type&47){let r=e[Rn];return new bi(r,e)}return null}function tT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=GV(r),s=[jV(),...n||[]],a=new _u({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(B);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Nn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:p=>{l.handleError(p)}})});let d=()=>a.destroy(),h=i.get(eT);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),OV(l,c,()=>{let p=a.get(Xb);return p.runInitializers(),p.donePromise.then(()=>{let y=a.get(Wg,wu);bV(y||wu);let v=a.get(Da);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}function Qs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function nT(t){let e=kr(t);if(!e)return null;let n=new $s(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var sT=null;function ur(){return sT}function oT(t){sT??=t}var Uu=class{};var Vt=new R(""),Yg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>C(YV),providedIn:"platform"});let t=e;return t})(),aT=new R(""),YV=(()=>{let e=class e extends Yg{constructor(){super(),this._doc=C(Vt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ur().getBaseHref(this._doc)}onPopState(r){let i=ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Zg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function lr(t){return t&&t[0]!=="?"?"?"+t:t}var dr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>C(Jg),providedIn:"root"});let t=e;return t})(),cT=new R(""),Jg=(()=>{let e=class e extends dr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??C(Vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Zg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+lr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+lr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+lr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(x(Yg),x(cT,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lT=(()=>{let e=class e extends dr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Zg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+lr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+lr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(x(Yg),x(cT,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Ys=(()=>{let e=class e{constructor(r){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=XV(rT(iT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+lr(i))}normalize(r){return e.stripTrailingSlash(JV(this._basePath,iT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+lr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+lr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=lr,e.joinWithSlash=Zg,e.stripTrailingSlash=rT,e.\u0275fac=function(i){return new(i||e)(x(dr))},e.\u0275prov=P({token:e,factory:()=>ZV(),providedIn:"root"});let t=e;return t})();function ZV(){return new Ys(x(dr))}function JV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function iT(t){return t.replace(/\/index.html$/,"")}function XV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function uT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Xg="browser",eU="server";function tU(t){return t===Xg}function em(t){return t===eU}var dT=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>tU(C(kn))?new Kg(C(Vt),window):new Qg});let t=e;return t})(),Kg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=nU(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function nU(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Qg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Bu=class{};var rm=class extends Uu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},im=class t extends rm{static makeCurrent(){oT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=iU();return n==null?null:sU(n)}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uT(document.cookie,e)}},Sa=null;function iU(){return Sa=Sa||document.querySelector("base"),Sa?Sa.getAttribute("href"):null}function sU(t){return new URL(t,document.baseURI).pathname}var oU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),sm=new R(""),gT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(x(sm),x(B))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),ju=class{constructor(e){this._doc=e}},tm="ng-app-id",mT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=em(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${tm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(tm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(tm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(x(Vt),x(bg),x(Dg,8),x(kn))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},am=/%COMP%/g,yT="%COMP%",aU=`_nghost-${yT}`,cU=`_ngcontent-${yT}`,lU=!0,uU=new R("",{providedIn:"root",factory:()=>lU});function dU(t){return cU.replace(am,t)}function hU(t){return aU.replace(am,t)}function _T(t,e){return e.map(n=>n.replace(am,t))}var hT=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=em(c),this.defaultRenderer=new Aa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Mn.ShadowDom&&(i=le(D({},i),{encapsulation:Mn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof $u?s.applyToHost(r):s instanceof Ma&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Mn.Emulated:o=new $u(l,u,i,this.appId,d,a,c,h);break;case Mn.ShadowDom:return new om(l,u,r,i,a,c,this.nonce,h);default:o=new Ma(l,u,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(x(gT),x(mT),x(bg),x(uU),x(Vt),x(kn),x(B),x(Dg))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Aa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(nm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=nm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=nm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(rr.DashCase|rr.Important)?e.style.setProperty(n,r,i&rr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&rr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ur().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var om=class extends Aa{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=_T(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ma=class extends Aa{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?_T(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},$u=class extends Ma{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=dU(l),this.hostAttr=hU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},fU=(()=>{let e=class e extends ju{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(x(Vt))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),pT=["alt","control","meta","shift"],pU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mU=(()=>{let e=class e extends ju{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ur().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),pT.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=pU[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),pT.forEach(a=>{if(a!==s){let c=gU[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(x(Vt))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function vT(t,e){return tT(D({rootComponent:t},yU(e)))}function yU(t){return{appProviders:[...EU,...t?.providers??[]],platformProviders:IU}}function _U(){im.makeCurrent()}function vU(){return new Nn}function wU(){return ib(document),document}var IU=[{provide:kn,useValue:Xg},{provide:Tg,useValue:_U,multi:!0},{provide:Vt,useFactory:wU,deps:[]}];var EU=[{provide:bu,useValue:"root"},{provide:Nn,useFactory:vU,deps:[]},{provide:sm,useClass:fU,multi:!0,deps:[Vt,B,kn]},{provide:sm,useClass:mU,multi:!0,deps:[Vt]},hT,mT,gT,{provide:ma,useExisting:hT},{provide:Bu,useClass:oU,deps:[]},[]];var zu=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(x(Vt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var q="primary",Ga=Symbol("RouteTitle"),hm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function to(t){return new hm(t)}function CU(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!On(t[n],e[n]))return!1;return!0}function On(t,e){let n=t?fm(t):void 0,r=e?fm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!MT(t[i],e[i]))return!1;return!0}function fm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function MT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function RT(t){return t.length>0?t[t.length-1]:null}function Gr(t){return Qf(t)?t:Di(t)?ve(Promise.resolve(t)):N(t)}var TU={exact:NT,subset:PT},xT={exact:DU,subset:SU,ignored:()=>!0};function IT(t,e,n){return TU[n.paths](t.root,e.root,n.matrixParams)&&xT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function DU(t,e){return On(t,e)}function NT(t,e,n){if(!Mi(t.segments,e.segments)||!Gu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!NT(t.children[r],e.children[r],n))return!1;return!0}function SU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>MT(t[n],e[n]))}function PT(t,e,n){return kT(t,e,e.segments,n)}function kT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Mi(i,n)||e.hasChildren()||!Gu(i,n,r))}else if(t.segments.length===n.length){if(!Mi(t.segments,n)||!Gu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!PT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Mi(t.segments,i)||!Gu(t.segments,i,r)||!t.children[q]?!1:kT(t.children[q],e,s,r)}}function Gu(t,e,n){return e.every((r,i)=>xT[n](t[i].parameters,r.parameters))}var $r=class{constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){return RU.serialize(this)}},pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wu(this)}},Ai=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=to(this.parameters),this._parameterMap}toString(){return FT(this)}};function AU(t,e){return Mi(t,e)&&t.every((n,r)=>On(n.parameters,e[r].parameters))}function Mi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function MU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==q&&(n=n.concat(e(i,r)))}),n}var Wa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new Fa,providedIn:"root"});let t=e;return t})(),Fa=class{parse(e){let n=new gm(e);return new $r(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ra(e.root,!0)}`,r=PU(e.queryParams),i=typeof e.fragment=="string"?`#${xU(e.fragment)}`:"";return`${n}${r}${i}`}},RU=new Fa;function Wu(t){return t.segments.map(e=>FT(e)).join("/")}function Ra(t,e){if(!t.hasChildren())return Wu(t);if(e){let n=t.children[q]?Ra(t.children[q],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==q&&r.push(`${i}:${Ra(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=MU(t,(r,i)=>i===q?[Ra(t.children[q],!1)]:[`${i}:${Ra(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[q]!=null?`${Wu(t)}/${n[0]}`:`${Wu(t)}/(${n.join("//")})`}}function OT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hu(t){return OT(t).replace(/%3B/gi,";")}function xU(t){return encodeURI(t)}function pm(t){return OT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ku(t){return decodeURIComponent(t)}function ET(t){return Ku(t.replace(/\+/g,"%20"))}function FT(t){return`${pm(t.path)}${NU(t.parameters)}`}function NU(t){return Object.entries(t).map(([e,n])=>`;${pm(e)}=${pm(n)}`).join("")}function PU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Hu(n)}=${Hu(i)}`).join("&"):`${Hu(n)}=${Hu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var kU=/^[^\/()?;#]+/;function cm(t){let e=t.match(kU);return e?e[0]:""}var OU=/^[^\/()?;=#]+/;function FU(t){let e=t.match(OU);return e?e[0]:""}var LU=/^[^=?&#]+/;function VU(t){let e=t.match(LU);return e?e[0]:""}var UU=/^[^&#]+/;function BU(t){let e=t.match(UU);return e?e[0]:""}var gm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[q]=new pe(e,n)),r}parseSegment(){let e=cm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new Ai(Ku(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=FU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=cm(this.remaining);i&&(r=i,this.capture(r))}e[Ku(n)]=Ku(r)}parseQueryParam(e){let n=VU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=BU(this.remaining);o&&(r=o,this.capture(r))}let i=ET(n),s=ET(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=q);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[q]:new pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function LT(t){return t.segments.length>0?new pe([],{[q]:t}):t}function VT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=VT(i);if(r===q&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new pe(t.segments,e);return jU(n)}function jU(t){if(t.numberOfChildren===1&&t.children[q]){let e=t.children[q];return new pe(t.segments.concat(e.segments),e.children)}return t}function no(t){return t instanceof $r}function $U(t,e,n=null,r=null){let i=UT(t);return BT(i,e,n,r)}function UT(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new pe(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=LT(r);return e??i}function BT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return lm(i,i,i,n,r);let s=zU(e);if(s.toRoot())return lm(i,i,new pe([],{}),n,r);let o=HU(s,i,t),a=o.processChildren?Pa(o.segmentGroup,o.index,s.commands):$T(o.segmentGroup,o.index,s.commands);return lm(i,o.segmentGroup,a,n,r)}function Qu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function La(t){return typeof t=="object"&&t!=null&&t.outlets}function lm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=jT(t,e,n);let a=LT(VT(o));return new $r(a,s,i)}function jT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=jT(s,e,n)}),new pe(t.segments,r)}var Yu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qu(r[0]))throw new O(4003,!1);let i=r.find(La);if(i&&i!==RT(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Yu(n,e,r)}var Xs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function HU(t,e,n){if(t.isAbsolute)return new Xs(e,!0,0);if(!n)return new Xs(e,!1,NaN);if(n.parent===null)return new Xs(n,!0,0);let r=Qu(t.commands[0])?0:1,i=n.segments.length-1+r;return qU(n,i,t.numberOfDoubleDots)}function qU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Xs(r,!1,i-s)}function GU(t){return La(t[0])?t[0].outlets:{[q]:t}}function $T(t,e,n){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Pa(t,e,n);let r=WU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new pe(t.segments.slice(0,r.pathIndex),{});return s.children[q]=new pe(t.segments.slice(r.pathIndex),t.children),Pa(s,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?mm(t,e,n):r.match?Pa(t,0,i):mm(t,e,n)}function Pa(t,e,n){if(n.length===0)return new pe(t.segments,{});{let r=GU(n),i={};if(Object.keys(r).some(s=>s!==q)&&t.children[q]&&t.numberOfChildren===1&&t.children[q].segments.length===0){let s=Pa(t.children[q],e,n);return new pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=$T(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new pe(t.segments,i)}}function WU(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(La(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!bT(c,l,o))return s;r+=2}else{if(!bT(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(La(s)){let c=KU(s.outlets);return new pe(r,c)}if(i===0&&Qu(n[0])){let c=t.segments[e];r.push(new Ai(c.path,CT(n[0]))),i++;continue}let o=La(s)?s.outlets[q]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Qu(a)?(r.push(new Ai(o,CT(a))),i+=2):(r.push(new Ai(o,{})),i++)}return new pe(r,{})}function KU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=mm(new pe([],{}),0,r))}),e}function CT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bT(t,e,n){return t==n.path&&On(e,n.parameters)}var ka="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),an=class{constructor(e,n){this.id=e,this.url=n}},ro=class extends an{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vn=class extends an{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qt||{}),Zu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zu||{}),zr=class extends an{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hr=class extends an{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},Va=class extends an{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ju=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ym=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class extends an{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vm=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wm=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Im=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Em=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cm=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bm=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tm=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ua=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ba=class{},ja=class{constructor(e){this.url=e}};var Dm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ka,this.attachRef=null}},Ka=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Dm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ed=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Am(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Am(e,this._root).map(n=>n.value)}};function Sm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sm(t,n);if(r)return r}return null}function Am(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Am(t,n);if(r.length)return r.unshift(e),r}return[]}var Kt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Js(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var td=class extends ed{constructor(e,n){super(e),this.snapshot=n,Vm(this,e)}toString(){return this.snapshot.toString()}};function zT(t){let e=QU(t),n=new rt([new Ai("",{})]),r=new rt({}),i=new rt({}),s=new rt({}),o=new rt(""),a=new qr(n,r,s,o,i,q,t,e.root);return a.snapshot=e.root,new td(new Kt(a,[]),e)}function QU(t){let e={},n={},r={},i="",s=new $a([],e,r,i,n,q,t,null,{});return new nd("",new Kt(s,[]))}var qr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(l=>l[Ga]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>to(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>to(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&qT(i)&&(r.resolve[Ga]=i.title),r}var $a=class{get title(){return this.data?.[Ga]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=to(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},nd=class extends ed{constructor(e,n){super(n),this.url=e,Vm(this,n)}toString(){return HT(this._root)}};function Vm(t,e){e.value._routerState=t,e.children.forEach(n=>Vm(t,n))}function HT(t){let e=t.children.length>0?` { ${t.children.map(HT).join(", ")} } `:"";return`${t.value}${e}`}function um(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,On(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),On(e.params,n.params)||t.paramsSubject.next(n.params),bU(e.url,n.url)||t.urlSubject.next(n.url),On(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mm(t,e){let n=On(t.params,e.params)&&AU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Mm(t.parent,e.parent))}function qT(t){return typeof t.title=="string"||t.title===null}var Um=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=q,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=C(Ka),this.location=C(Ws),this.changeDetector=C(Si),this.environmentInjector=C(Gt),this.inputBinder=C(ad,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Rm(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=bt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pn]});let t=e;return t})(),Rm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===qr?this.route:e===Ka?this.childContexts:this.parent.get(e,n)}},ad=new R(""),TT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ia([i.queryParams,i.params,i.data]).pipe(It(([o,a,c],l)=>(c=D(D(D({},o),a),c),l===0?N(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=nT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function YU(t,e,n){let r=za(t,e._root,n?n._root:void 0);return new td(r,e)}function za(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ZU(t,e,n);return new Kt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>za(t,a)),o}}let r=JU(e.value),i=e.children.map(s=>za(t,s));return new Kt(r,i)}}function ZU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return za(t,r,i);return za(t,r)})}function JU(t){return new qr(new rt(t.url),new rt(t.params),new rt(t.queryParams),new rt(t.fragment),new rt(t.data),t.outlet,t.component,t)}var GT="ngNavigationCancelingError";function WT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=no(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KT(!1,Qt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function KT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[GT]=!0,n.cancellationCode=e,n}function XU(t){return QT(t)&&no(t.url)}function QT(t){return!!t&&t[GT]}var Bm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["ng-component"]],standalone:!0,features:[te],decls:1,vars:0,template:function(i,s){i&1&&S(0,"router-outlet")},dependencies:[Um],encapsulation:2});let t=e;return t})();function e2(t,e){return t.providers&&!t._injector&&(t._injector=Nu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jm(t){let e=t.children&&t.children.map(jm),n=e?le(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=Bm),n}function Fn(t){return t.outlet||q}function t2(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function Qa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var n2=(t,e,n,r)=>K(i=>(new xm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),um(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Js(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Js(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Js(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Js(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ua(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(um(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),um(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Qa(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},rd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},eo=class{constructor(e,n){this.component=e,this.route=n}};function r2(t,e,n){let r=t._root,i=e?e._root:null;return xa(r,i,n,[r.value])}function i2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function so(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!KC(t)?t:e.get(t):r}function xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Js(e);return t.children.forEach(o=>{s2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Oa(a,n.getContext(o),i)),i}function s2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=o2(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new rd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?xa(t,e,a?a.children:null,r,i):xa(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new eo(a.outlet.component,o))}else o&&Oa(e,a,i),i.canActivateChecks.push(new rd(r)),s.component?xa(t,null,a?a.children:null,r,i):xa(t,null,n,r,i);return i}function o2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Mi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mi(t.url,e.url)||!On(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mm(t,e)||!On(t.queryParams,e.queryParams);case"paramsChange":default:return!Mm(t,e)}}function Oa(t,e,n){let r=Js(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Oa(o,e.children.getContext(s),n):Oa(o,null,n):Oa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new eo(e.outlet.component,i)):n.canDeactivateChecks.push(new eo(null,i)):n.canDeactivateChecks.push(new eo(null,i))}function Ya(t){return typeof t=="function"}function a2(t){return typeof t=="boolean"}function c2(t){return t&&Ya(t.canLoad)}function l2(t){return t&&Ya(t.canActivate)}function u2(t){return t&&Ya(t.canActivateChild)}function d2(t){return t&&Ya(t.canDeactivate)}function h2(t){return t&&Ya(t.canMatch)}function YT(t){return t instanceof Xn||t?.name==="EmptyError"}var qu=Symbol("INITIAL_VALUE");function io(){return It(t=>ia(t.map(e=>e.pipe(er(1),oa(qu)))).pipe(K(e=>{for(let n of e)if(n!==!0){if(n===qu)return qu;if(n===!1||n instanceof $r)return n}return!0}),wt(e=>e!==qu),er(1)))}function f2(t,e){return Pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(le(D({},n),{guardsResult:!0})):p2(o,r,i,t).pipe(Pe(a=>a&&a2(a)?g2(r,s,t,e):N(a)),K(a=>le(D({},n),{guardsResult:a})))})}function p2(t,e,n,r){return ve(t).pipe(Pe(i=>w2(i.component,i.route,n,e,r)),Dn(i=>i!==!0,!0))}function g2(t,e,n,r){return ve(e).pipe(Rr(i=>Ss(y2(i.route.parent,r),m2(i.route,r),v2(t,i.path,n),_2(t,i.route,n))),Dn(i=>i!==!0,!0))}function m2(t,e){return t!==null&&e&&e(new Tm(t)),N(!0)}function y2(t,e){return t!==null&&e&&e(new Cm(t)),N(!0)}function _2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>Hl(()=>{let o=Qa(e)??n,a=so(s,o),c=l2(a)?a.canActivate(e,t):or(o,()=>a(e,t));return Gr(c).pipe(Dn())}));return N(i).pipe(io())}function v2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>i2(o)).filter(o=>o!==null).map(o=>Hl(()=>{let a=o.guards.map(c=>{let l=Qa(o.node)??n,u=so(c,l),d=u2(u)?u.canActivateChild(r,t):or(l,()=>u(r,t));return Gr(d).pipe(Dn())});return N(a).pipe(io())}));return N(s).pipe(io())}function w2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=Qa(e)??i,l=so(a,c),u=d2(l)?l.canDeactivate(t,e,n,r):or(c,()=>l(t,e,n,r));return Gr(u).pipe(Dn())});return N(o).pipe(io())}function I2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=so(o,t),c=c2(a)?a.canLoad(e,n):or(t,()=>a(e,n));return Gr(c)});return N(s).pipe(io(),ZT(r))}function ZT(t){return $f(ze(e=>{if(no(e))throw WT(t,e)}),K(e=>e===!0))}function E2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=so(o,t),c=h2(a)?a.canMatch(e,n):or(t,()=>a(e,n));return Gr(c)});return N(s).pipe(io(),ZT(r))}var Ha=class{constructor(e){this.segmentGroup=e||null}},id=class extends Error{constructor(e){super(),this.urlTree=e}};function Zs(t){return Ds(new Ha(t))}function C2(t){return Ds(new O(4e3,!1))}function b2(t){return Ds(KT(!1,Qt.GuardRejected))}var Nm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[q])return C2(e.redirectTo);i=i.children[q]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new id(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new $r(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Pm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T2(t,e,n,r,i){let s=$m(t,e,n);return s.matched?(r=e2(e,r),E2(r,e,n,i).pipe(K(o=>o===!0?s:D({},Pm)))):N(s)}function $m(t,e,n){if(e.path==="**")return D2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},Pm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CU)(n,t,e);if(!i)return D({},Pm);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?D(D({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function D2(t){return{matched:!0,parameters:t.length>0?RT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DT(t,e,n,r){return n.length>0&&M2(t,n,r)?{segmentGroup:new pe(e,A2(r,new pe(n,t.children))),slicedSegments:[]}:n.length===0&&R2(t,n,r)?{segmentGroup:new pe(t.segments,S2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function S2(t,e,n,r){let i={};for(let s of n)if(cd(t,e,s)&&!r[Fn(s)]){let o=new pe([],{});i[Fn(s)]=o}return D(D({},r),i)}function A2(t,e){let n={};n[q]=e;for(let r of t)if(r.path===""&&Fn(r)!==q){let i=new pe([],{});n[Fn(r)]=i}return n}function M2(t,e,n){return n.some(r=>cd(t,e,r)&&Fn(r)!==q)}function R2(t,e,n){return n.some(r=>cd(t,e,r))}function cd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function x2(t,e,n,r){return Fn(t)!==r&&(r===q||!cd(e,n,t))?!1:$m(e,t,n).matched}function N2(t,e,n){return e.length===0&&!t.children[n]}var km=class{};function P2(t,e,n,r,i,s,o="emptyOnly"){return new Om(t,e,n,r,i,o,s).recognize()}var k2=31,Om=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Nm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=DT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(n=>{let r=new $a([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,{},q,this.rootComponentType,null,{}),i=new Kt(r,n),s=new nd("",i),o=$U(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,q).pipe(Mr(r=>{if(r instanceof id)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ha?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Lm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(K(s=>s instanceof Kt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ve(i).pipe(Rr(s=>{let o=r.children[s],a=t2(n,s);return this.processSegmentGroup(e,a,o,s)}),np((s,o)=>(s.push(...o),s)),xr(null),ep(),Pe(s=>{if(s===null)return Zs(r);let o=JT(s);return O2(o),N(o)}))}processSegment(e,n,r,i,s,o){return ve(n).pipe(Rr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Mr(c=>{if(c instanceof Ha)return N(null);throw c}))),Dn(a=>!!a),Mr(a=>{if(YT(a))return N2(r,i,s)?N(new km):Zs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return x2(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Zs(i):Zs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=$m(n,i,s);if(!a)return Zs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>k2&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(Pe(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=T2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(It(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(It(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,p=new $a(u,h,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,L2(r),Fn(r),r.component??r._loadedComponent??null,r,V2(r)),{segmentGroup:y,slicedSegments:v}=DT(n,u,d,c);if(v.length===0&&y.hasChildren())return this.processChildren(l,c,y).pipe(K(A=>A===null?null:new Kt(p,A)));if(c.length===0&&v.length===0)return N(new Kt(p,[]));let w=Fn(r)===s;return this.processSegment(l,c,y,v,w?q:s,!0).pipe(K(A=>new Kt(p,A instanceof Kt?[A]:[])))}))):Zs(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):I2(e,n,r,this.urlSerializer).pipe(Pe(i=>i?this.configLoader.loadChildren(e,n).pipe(ze(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):b2(n))):N({routes:[],injector:e})}};function O2(t){t.sort((e,n)=>e.value.outlet===q?-1:n.value.outlet===q?1:e.value.outlet.localeCompare(n.value.outlet))}function F2(t){let e=t.value.routeConfig;return e&&e.path===""}function JT(t){let e=[],n=new Set;for(let r of t){if(!F2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=JT(r.children);e.push(new Kt(r.value,i))}return e.filter(r=>!n.has(r))}function L2(t){return t.data||{}}function V2(t){return t.resolve||{}}function U2(t,e,n,r,i,s){return Pe(o=>P2(t,e,n,r,o.extractedUrl,i,s).pipe(K(({state:a,tree:c})=>le(D({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function B2(t,e){return Pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of XT(c))o.add(l);let a=0;return ve(o).pipe(Rr(c=>s.has(c)?j2(c,r,t,e):(c.data=Lm(c,c.parent,t).resolve,N(void 0))),ze(()=>a++),As(1),Pe(c=>a===o.size?N(n):Ht))})}function XT(t){let e=t.children.map(n=>XT(n)).flat();return[t,...e]}function j2(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!qT(i)&&(s[Ga]=i.title),$2(s,t,e,r).pipe(K(o=>(t._resolvedData=o,t.data=Lm(t,t.parent,n).resolve,null)))}function $2(t,e,n,r){let i=fm(t);if(i.length===0)return N({});let s={};return ve(i).pipe(Pe(o=>z2(t[o],e,n,r).pipe(Dn(),ze(a=>{s[o]=a}))),As(1),Zf(s),Mr(o=>YT(o)?Ht:Ds(o)))}function z2(t,e,n,r){let i=Qa(e)??r,s=so(t,i),o=s.resolve?s.resolve(e,n):or(i,()=>s(e,n));return Gr(o)}function dm(t){return It(e=>{let n=t(e);return n?ve(n).pipe(K(()=>e)):N(e)})}var eD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===q);return i}getResolvedTitleForRoute(r){return r.data[Ga]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>C(H2),providedIn:"root"});let t=e;return t})(),H2=(()=>{let e=class e extends eD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(x(zu))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Za=new R("",{providedIn:"root",factory:()=>({})}),qa=new R(""),zm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(Vu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Gr(r.loadComponent()).pipe(K(tD),ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),sa(()=>{this.componentLoaders.delete(r)})),s=new Es(i,()=>new Ge).pipe(Is());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=q2(i,this.compiler,r,this.onLoadEndListener).pipe(sa(()=>{this.childrenLoaders.delete(i)})),a=new Es(o,()=>new Ge).pipe(Is());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q2(t,e,n,r){return Gr(t.loadChildren()).pipe(K(tD),Pe(i=>i instanceof ya||Array.isArray(i)?N(i):ve(e.compileModuleAsync(i))),K(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(qa,[],{optional:!0,self:!0}).flat()),{routes:o.map(jm),injector:s}}))}function G2(t){return t&&typeof t=="object"&&"default"in t}function tD(t){return G2(t)?t.default:t}var Hm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>C(W2),providedIn:"root"});let t=e;return t})(),W2=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nD=new R(""),rD=new R("");function K2(t,e,n){let r=t.get(rD),i=t.get(Vt);return t.get(B).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),Q2(t))),{onViewTransitionCreated:c}=r;return c&&or(t,()=>c({transition:a,from:e,to:n})),o})}function Q2(t){return new Promise(e=>{Bg(e,{injector:t})})}var qm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ge,this.transitionAbortSubject=new Ge,this.configLoader=C(zm),this.environmentInjector=C(Gt),this.urlSerializer=C(Wa),this.rootContexts=C(Ka),this.location=C(Ys),this.inputBindingEnabled=C(ad,{optional:!0})!==null,this.titleStrategy=C(eD),this.options=C(Za,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(Hm),this.createViewTransition=C(nD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Im(s)),i=s=>this.events.next(new Em(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(le(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new rt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ka,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(o=>o.id!==0),K(o=>le(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),It(o=>{let a=!1,c=!1;return N(o).pipe(It(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qt.SupersededByNewNavigation),Ht;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?le(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Hr(l.id,this.urlSerializer.serialize(l.rawUrl),h,Zu.IgnoredSameUrlNavigation)),l.resolve(null),Ht}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return N(l).pipe(It(h=>{let p=this.transitions?.getValue();return this.events.next(new ro(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Ht:Promise.resolve(h)}),U2(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=le(D({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Ju(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:p,source:y,restoredState:v,extras:w}=l,A=new ro(h,this.urlSerializer.serialize(p),y,v);this.events.next(A);let z=zT(this.rootComponentType).snapshot;return this.currentTransition=o=le(D({},l),{targetSnapshot:z,urlAfterRedirects:p,extras:le(D({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,N(o)}else{let h="";return this.events.next(new Hr(l.id,this.urlSerializer.serialize(l.extractedUrl),h,Zu.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ht}}),ze(l=>{let u=new ym(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),K(l=>(this.currentTransition=o=le(D({},l),{guards:r2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),f2(this.environmentInjector,l=>this.events.next(l)),ze(l=>{if(o.guardsResult=l.guardsResult,no(l.guardsResult))throw WT(this.urlSerializer,l.guardsResult);let u=new _m(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),wt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qt.GuardRejected),!1)),dm(l=>{if(l.guards.canActivateChecks.length)return N(l).pipe(ze(u=>{let d=new vm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),It(u=>{let d=!1;return N(u).pipe(B2(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Qt.NoDataFromResolver)}}))}),ze(u=>{let d=new wm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),dm(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ze(p=>{d.component=p}),K(()=>{})));for(let p of d.children)h.push(...u(p));return h};return ia(u(l.targetSnapshot.root)).pipe(xr(null),er(1))}),dm(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ve(d).pipe(K(()=>o)):N(o)}),K(l=>{let u=YU(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=le(D({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),ze(()=>{this.events.next(new Ba)}),n2(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),er(1),ze({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),rp(this.transitionAbortSubject.pipe(ze(l=>{throw l}))),sa(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mr(l=>{if(c=!0,QT(l))this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),XU(l)?this.events.next(new ja(l.url)):o.resolve(!1);else{this.events.next(new Va(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ht}))}))}cancelNavigationTransition(r,i,s){let o=new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y2(t){return t!==ka}var Z2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>C(J2),providedIn:"root"});let t=e;return t})(),Fm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},J2=(()=>{let e=class e extends Fm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ba(e)))(s||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>C(X2),providedIn:"root"});let t=e;return t})(),X2=(()=>{let e=class e extends iD{constructor(){super(...arguments),this.location=C(Ys),this.urlSerializer=C(Wa),this.options=C(Za,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(Hm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $r,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ro)this.stateMemento=this.createStateMemento();else if(r instanceof Hr)this.rawUrlTree=i.initialUrl;else if(r instanceof Ju){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ba?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof zr&&(r.code===Qt.GuardRejected||r.code===Qt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Va?this.restoreHistory(i,!0):r instanceof vn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ba(e)))(s||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Na=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Na||{});function sD(t,e){t.events.pipe(wt(n=>n instanceof vn||n instanceof zr||n instanceof Va||n instanceof Hr),K(n=>n instanceof vn||n instanceof Hr?Na.COMPLETE:(n instanceof zr?n.code===Qt.Redirect||n.code===Qt.SupersededByNewNavigation:!1)?Na.REDIRECTING:Na.FAILED),wt(n=>n!==Na.REDIRECTING),er(1)).subscribe(()=>{e()})}function eB(t){throw t}var tB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Fu),this.stateManager=C(iD),this.options=C(Za,{optional:!0})||{},this.pendingTasks=C(Pu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(qm),this.urlSerializer=C(Wa),this.location=C(Ys),this.urlHandlingStrategy=C(Hm),this._events=new Ge,this.errorHandler=this.options.errorHandler||eB,this.navigated=!1,this.routeReuseStrategy=C(Z2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(qa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(ad,{optional:!0}),this.eventsSubscription=new Fe,this.isNgZoneEnabled=C(B)instanceof B&&B.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof zr&&i.code!==Qt.Redirect&&i.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof vn)this.navigated=!0;else if(i instanceof ja){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Y2(s.source)};this.scheduleNavigation(a,ka,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}iB(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ka,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=D({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=UT(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return BT(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=no(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ka,null,i)}navigate(r,i={skipLocationChange:!1}){return rB(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=D({},tB):i===!1?s=D({},nB):s=i,no(r))return IT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return IT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,p)=>{c=h,l=p});let d=this.pendingTasks.add();return sD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}function iB(t){return!(t instanceof Ba)&&!(t instanceof ja)}var sd=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:ab(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ne(cn),ne(qr),Eg("tabindex"),ne(Vr),ne(Tt),ne(dr))},e.\u0275dir=bt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Br("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ku("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ut.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Qs],skipLocationChange:[ut.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Qs],replaceUrl:[ut.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Qs],routerLink:"routerLink"},standalone:!0,features:[zg,Pn]});let t=e;return t})(),oD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new We,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof vn&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(Ar()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ve(r).pipe(Ar()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=sB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(ne(cn),ne(Tt),ne(Vr),ne(Si),ne(sd,8))},e.\u0275dir=bt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Gg(o,sd,5),i&2){let a;Dt(a=St())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Pn]});let t=e;return t})();function sB(t){return!!t.paths}var od=class{};var oB=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(wt(r=>r instanceof vn),Rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Nu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ve(s).pipe(Ar())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=N(null);let o=s.pipe(Pe(a=>a===null?N(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ve([o,a]).pipe(Ar())}else return o})}};e.\u0275fac=function(i){return new(i||e)(x(cn),x(Vu),x(Gt),x(od),x(zm))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aD=new R(""),aB=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ro?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof vn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Hr&&r.code===Zu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Xu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Eb()},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function cD(t,...e){return Cu([{provide:qa,multi:!0,useValue:t},[],{provide:qr,useFactory:lD,deps:[cn]},{provide:Lu,multi:!0,useFactory:uD},e.map(n=>n.\u0275providers)])}function lD(t){return t.routerState.root}function Ja(t,e){return{\u0275kind:t,\u0275providers:e}}function uD(){let t=C(we);return e=>{let n=t.get(Da);if(e!==n.components[0])return;let r=t.get(cn),i=t.get(dD);t.get(Gm)===1&&r.initialNavigation(),t.get(hD,null,J.Optional)?.setUpPreloading(),t.get(aD,null,J.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dD=new R("",{factory:()=>new Ge}),Gm=new R("",{providedIn:"root",factory:()=>1});function cB(){return Ja(2,[{provide:Gm,useValue:0},{provide:jr,multi:!0,deps:[we],useFactory:e=>{let n=e.get(aT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(cn),s=e.get(dD);sD(i,()=>{r(!0)}),e.get(qm).afterPreactivation=()=>(r(!0),s.closed?N(void 0):s),i.initialNavigation()}))}}])}function lB(){return Ja(3,[{provide:jr,multi:!0,useFactory:()=>{let e=C(cn);return()=>{e.setUpLocationChangeListener()}}},{provide:Gm,useValue:2}])}var hD=new R("");function uB(t){return Ja(0,[{provide:hD,useExisting:oB},{provide:od,useExisting:t}])}function dB(){return Ja(8,[TT,{provide:ad,useExisting:TT}])}function hB(t){let e=[{provide:nD,useValue:K2},{provide:rD,useValue:D({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ja(9,e)}var ST=new R("ROUTER_FORROOT_GUARD"),fB=[Ys,{provide:Wa,useClass:Fa},cn,Ka,{provide:qr,useFactory:lD,deps:[cn]},zm,[]],fD=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[fB,[],{provide:qa,multi:!0,useValue:r},{provide:ST,useFactory:yB,deps:[[cn,new he,new t0]]},{provide:Za,useValue:i||{}},i?.useHash?gB():mB(),pB(),i?.preloadingStrategy?uB(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?_B(i):[],i?.bindToComponentInputs?dB().\u0275providers:[],i?.enableViewTransitions?hB().\u0275providers:[],vB()]}}static forChild(r){return{ngModule:e,providers:[{provide:qa,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(x(ST,8))},e.\u0275mod=Re({type:e}),e.\u0275inj=Me({});let t=e;return t})();function pB(){return{provide:aD,useFactory:()=>{let t=C(dT),e=C(B),n=C(Za),r=C(qm),i=C(Wa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new aB(i,r,t,e,n)}}}function gB(){return{provide:dr,useClass:lT}}function mB(){return{provide:dr,useClass:Jg}}function yB(t){return"guarded"}function _B(t){return[t.initialNavigation==="disabled"?lB().\u0275providers:[],t.initialNavigation==="enabledBlocking"?cB().\u0275providers:[]]}var AT=new R("");function vB(){return[{provide:AT,useFactory:uD},{provide:Lu,multi:!0,useExisting:AT}]}var wB=["menuWidgetContainer"],gD=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){this.initializeAnimations()}initializeAnimations(){$(document).on("scroll",()=>{this.menuWidgets.forEach(r=>{let i=$(r.nativeElement);this.isScrolledIntoView(i)&&i.addClass("active")})}).trigger("scroll")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["options-section"]],viewQuery:function(i,s){if(i&1&&on(wB,5),i&2){let o;Dt(o=St())&&(s.menuWidgets=o)}},standalone:!0,features:[te],decls:39,vars:0,consts:[["menuWidgetContainer",""],[1,"section-50","section-sm-100","bg-gray-lighter"],[1,"shell-wide"],[1,"range","range-xs-center"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-01"],[1,"text-italic"],["href","#",1,"thumbnail-variant-3"],["src","assets/images/the-bar.jpeg","alt","Backstage Billiards Bar","width","566","height","401",1,"img-responsive"],[1,"caption","text-italic","text-center"],[1,"big"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-2"],["src","assets/images/the-menu.jpeg","alt","Backstage Billiards Menu","width","566","height","401",1,"img-responsive"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-03"],["src","assets/images/weekly-specials.jpeg","alt","Backstage Billiards Specials","width","566","height","401",1,"img-responsive"],[1,"caption","text-center"],[1,"big","text-italic"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-04"],["src","assets/images/events.jpeg","alt","Backstage Billiards Events","width","566","height","401",1,"img-responsive"]],template:function(i,s){i&1&&(g(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4,0)(5,"h3",5),_(6,"The Bar"),m(),g(7,"a",6),S(8,"img",7),g(9,"div",8)(10,"p",9),_(11,"Craft beers, cocktails, and premium spirits await you in our lively bar."),m()()()(),g(12,"div",10,0)(14,"h3",5),_(15,"The Menu"),m(),g(16,"a",6),S(17,"img",11),g(18,"div",8)(19,"p",9),_(20,"Discover our pub favorites and shareable appetizers to satisfy your cravings."),m()()()(),g(21,"div",12,0)(23,"h3",5),_(24,"Specials"),m(),g(25,"a",6),S(26,"img",13),g(27,"div",14)(28,"p",15),_(29,"Weekly specials and happy hour deals are waiting for you."),m()()()(),g(30,"div",16,0)(32,"h3",5),_(33,"Events"),m(),g(34,"a",6),S(35,"img",17),g(36,"div",14)(37,"p",15),_(38,"Join us for exciting weekly events and pool tournaments."),m()()()()()()())},styles:[".caption[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;background:#00000080;color:#fff;visibility:hidden;transform:translateY(100%);transition:visibility 0s,opacity .5s,transform .5s}.thumbnail-variant-3[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{opacity:1}.thumbnail-variant-3[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{visibility:visible;transform:translateY(0)}"]});let t=e;return t})();var mD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=Me({});let t=e;return t})();var IB=["mapContainer"],ld=(()=>{let e=class e{constructor(){}ngAfterViewInit(){this.initMap(),this.addMarkerAtAddress("5656 International Dr, Orlando, FL 32819")}initMap(){let i={center:new google.maps.LatLng(37.7833,-122.4167),zoom:5,mapTypeControl:!1,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]};this.map=new google.maps.Map(this.mapContainer.nativeElement,i)}addMarkerAtAddress(r){new google.maps.Geocoder().geocode({address:r},(s,o)=>{if(o==="OK"){let a=s[0].geometry.location;this.addMarker(a)}else console.error("Geocode was not successful for the following reason:",o)})}addMarker(r){let i=new google.maps.Marker({position:r,map:this.map,title:"Backstage Billards I-Drive",icon:{url:"assets/images/gmap_marker.png",scaledSize:new google.maps.Size(50,50)}});this.map.setCenter(r),this.map.setZoom(19);let s='<div style="font-size: 16px;"><strong>Backstage Billiards I-Drive</strong></div>'}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-map"]],viewQuery:function(i,s){if(i&1&&on(IB,5),i&2){let o;Dt(o=St())&&(s.mapContainer=o.first)}},standalone:!0,features:[te],decls:2,vars:0,consts:[["mapContainer",""],[2,"height","500px"]],template:function(i,s){i&1&&S(0,"div",1,0)},dependencies:[mD],encapsulation:2});let t=e;return t})();var EB=["servicesContainer"],yD=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){$(document).on("scroll",()=>{this.servicesContainer.forEach(r=>{let i=$(r.nativeElement);this.isScrolledIntoView(i)&&i.addClass("active")})}).trigger("scroll")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["services-section"]],viewQuery:function(i,s){if(i&1&&on(EB,5),i&2){let o;Dt(o=St())&&(s.servicesContainer=o)}},standalone:!0,features:[te],decls:47,vars:0,consts:[["servicesContainer",""],[1,"section-50","section-sm-130"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-sm-6","cell-md-3","view-animate","fadeInUpBigger","delay-04"],[1,"box-icon","box-icon-variant-1"],[1,"icon-wrap"],[1,"icon","icon-lg","text-base","restaurant-icon-35","icon-xl"],[1,"box-icon-header"],[1,"divider-xs","bg-primary"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-sm-top-0","view-animate","fadeInUpBigger","delay-03"],[1,"icon","icon-lg","text-base","restaurant-icon-11","icon-xxl"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-md-top-0","view-animate","fadeInUpBigger","delay-02"],[1,"icon","icon-lg","text-base","restaurant-icon-20","icon-xxl"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-md-top-0","view-animate","fadeInUpBigger","delay-01"],[1,"icon","icon-lg","text-base","fa-trophy","icon-xxl"]],template:function(i,s){i&1&&(g(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4,0)(5,"article",5)(6,"div",6),S(7,"span",7),m(),g(8,"div",8)(9,"h5"),_(10,"Book a Party"),m()(),S(11,"hr",9),g(12,"p"),_(13,"You can reserve the whole bar for a special occassion."),m()()(),g(14,"div",10,0)(16,"article",5)(17,"div",6),S(18,"span",11),m(),g(19,"div",8)(20,"h5"),_(21,"Updated menu"),m()(),S(22,"hr",9),g(23,"p"),_(24,"We regularly update our menu so that you could experience more."),m()()(),g(25,"div",12,0)(27,"article",5)(28,"div",6),S(29,"span",13),m(),g(30,"div",8)(31,"h5"),_(32,"Drink Specials"),m()(),S(33,"hr",9),g(34,"p"),_(35,"Every week we offer our clients special offers from our brewers."),m()()(),g(36,"div",14,0)(38,"article",5)(39,"div",6),S(40,"span",15),m(),g(41,"div",8)(42,"h5"),_(43,"Tournaments"),m()(),S(44,"hr",9),g(45,"p"),_(46,"Come have fun and join our pool and poker tournaments"),m()()()()()())},encapsulation:2});let t=e;return t})();var CB=["paralaxContainer"],_D=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){$(this.paralaxContainer.nativeElement).find(".rd-parallax").length&&($.RDParallax(),!this.isIE&&!this.isMobile&&$(window).on("scroll",()=>{this.handleScroll()}),$("a[href='#'], a[href^='#']").on("click",r=>{setTimeout(()=>{this.handleResize()},300)}),$(window).on("resize",()=>{this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.handleResize()},300)}),this.handleScroll(),this.handleResize())}handleScroll(){$(this.paralaxContainer.nativeElement).find(".rd-parallax").each((r,i)=>{let s=$(i);this.isScrolledIntoView(s)&&s.find(".rd-parallax-inner").css("position","fixed")})}handleResize(){$(window).trigger("resize")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.height()<=s&&o>=i}ngOnDestroy(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),$(window).off("scroll"),$(window).off("resize"),$("a[href='#'], a[href^='#']").off("click")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-paralax"]],viewQuery:function(i,s){if(i&1&&on(CB,5),i&2){let o;Dt(o=St())&&(s.paralaxContainer=o.first)}},standalone:!0,features:[te],decls:14,vars:0,consts:[["paralaxContainer",""],["id","parallaxContainer"],["data-on","false","data-md-on","true",1,"rd-parallax","rd-parallax-light"],["data-speed","0.35","data-type","media","data-url","assets/images/home-parallax-1.jpg",1,"rd-parallax-layer"],["data-speed","0","data-type","html",1,"rd-parallax-layer"],[1,"shell","text-center","section-80","section-sm-top-140","section-sm-bottom-150"],[1,"range","range-xs-center"],[1,"cell-sm-12","cell-lg-8"],[1,"text-uppercase","text-italic"],[1,"text-italic","divider-custom-small-primary"],[1,"offset-top-10"]],template:function(i,s){i&1&&(g(0,"section",1,0)(2,"div",2),S(3,"div",3),g(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),_(9,"Free Pool"),m(),g(10,"h4",9),_(11,"With Purchase of Alcoholic Beverage "),m(),g(12,"p",10),_(13,"Purchase any alcoholic beverage and unlock free access to our pool tables until 9PM."),m()()()()()()())},encapsulation:2});let t=e;return t})();var bB=["videoPlayer"],vD=(()=>{let e=class e{ngAfterViewInit(){let r=this.videoPlayer.nativeElement;r.src="assets/video/backstage-reveal.mp4",r.autoplay=!0,r.loop=!0,r.muted=!0,r.controls=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["video-section"]],viewQuery:function(i,s){if(i&1&&on(bB,5),i&2){let o;Dt(o=St())&&(s.videoPlayer=o.first)}},standalone:!0,features:[te],decls:3,vars:0,consts:[["videoPlayer",""],[1,"video-container"],["muted","","autoplay","","loop","",1,"video-player"]],template:function(i,s){i&1&&(g(0,"div",1),S(1,"video",2,0),m())},styles:[".video-container[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-top:56.25%;overflow:hidden}.video-player[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}"]});let t=e;return t})();var wD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-home"]],standalone:!0,features:[te],decls:5,vars:0,template:function(i,s){i&1&&S(0,"video-section")(1,"options-section")(2,"app-paralax")(3,"services-section")(4,"app-map")},dependencies:[gD,ld,yD,_D,vD]});let t=e;return t})();var TB=["counterWidgetContainer"],ID=(()=>{let e=class e{constructor(){}ngAfterViewInit(){this.initializeAnimations()}initializeAnimations(){$(document).ready(()=>{this.checkAndAnimateCounters(),$(window).on("scroll",()=>{this.checkAndAnimateCounters()})})}checkAndAnimateCounters(){this.counterWidgets.forEach(r=>{let i=$(r.nativeElement);if(!i.hasClass("animated")&&this.isScrolledIntoView(i)){let s=i.data("to");i.countTo({from:i.data("from")||0,to:s,speed:1e3,refreshInterval:40}),i.addClass("animated")}})}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["about-component"]],viewQuery:function(i,s){if(i&1&&on(TB,5),i&2){let o;Dt(o=St())&&(s.counterWidgets=o)}},standalone:!0,features:[te],decls:45,vars:0,consts:[["counterWidgetContainer",""],[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"text-center","text-sm-left","section-50","section-sm-top-100","section-sm-bottom-205","section-with-angle","bg-black-haze"],[1,"shell"],[1,"range","range-xs-center","range-md-right"],[1,"cell-sm-10","cell-md-6"],[1,"font-default"],[1,"range","range-xs-center","offset-top-30","text-center"],[1,"cell-xs-6","cell-sm-4"],["data-from","0","data-to","10",1,"counter","text-primary"],[1,"counter-header"],["data-from","0","data-to","20",1,"counter","text-primary"],["data-from","0","data-to","7",1,"counter","text-primary"],["href","contact.html",1,"btn","btn-shape-circle","btn-primary-lighter","offset-top-40"]],template:function(i,s){i&1&&(g(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"p",5),_(5,"About Us"),m(),g(6,"ul",6)(7,"li")(8,"a",7),_(9,"Home"),m()(),g(10,"li",8),_(11,"About Us"),m()()()()()(),g(12,"section",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),_(17,"Welcome to Backstage Billiards"),m(),g(18,"p"),_(19,"Backstage Billiards on International Drive is your premier destination for a top-quality pool hall experience. Featuring expert staff, the best pool tables and equipment in the area, and a fun atmosphere, we're ready to make your visit unforgettable. Whether you're a pool enthusiast or looking for a vibrant social setting, we have something for everyone."),m(),g(20,"div",14)(21,"div",15)(22,"div",16,0),_(24,"10"),m(),g(25,"div",17)(26,"p"),_(27,"Top-Quality Pool Tables"),m()()(),g(28,"div",15)(29,"div",18,0),_(31,"20"),m(),g(32,"div",17)(33,"p"),_(34,"Years of Experience"),m()()(),g(35,"div",15)(36,"div",19,0),_(38,"7"),m(),g(39,"div",17)(40,"p"),_(41,"Days Open a Week"),m()()()(),g(42,"a",20),_(43,"Visit Us"),m()()()()(),S(44,"app-map"))},dependencies:[ld],encapsulation:2});let t=e;return t})();var ED=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-menu"]],standalone:!0,features:[te],decls:158,vars:0,consts:[[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs-3"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"col-sm-12"],[1,"section-50","section-sm-100","col-sm-6"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-xs-12"],[1,"inset-lg-left-15","inset-lg-right-15"],[1,"menu-classic","bg-menu-7","menu-classic-single"],[1,"list-menu"],[1,"menu-item","h6"],[1,"price"],[1,"menu-item-desc"],["href","menu-single.html"],[1,"offset-top-50","offset-sm-top-100","text-center","divider-custom"],["href","#",1,"btn","btn-md","btn-shape-circle","btn-primary"]],template:function(i,s){i&1&&(g(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),_(5,"Menu"),m(),g(6,"ul",5)(7,"li")(8,"a",6),_(9,"Home"),m()(),g(10,"li",7),_(11,"Menu"),m()()()()()(),g(12,"section")(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),S(18,"div",13),g(19,"div",14)(20,"h4")(21,"a"),_(22,"Specialty Drinks and Shots"),m()(),g(23,"ul",15)(24,"li")(25,"div",16)(26,"span"),_(27,"Mojito"),m(),g(28,"span",17),_(29,"25.00"),m()(),g(30,"div",18)(31,"span"),_(32,"White sugar / White rum / Mint leaves / Lime"),m()()(),g(33,"li")(34,"div",16)(35,"span"),_(36,"Whiskey with Ice"),m(),g(37,"span",17),_(38,"15.90"),m()(),g(39,"div",18)(40,"span"),_(41,"Jack Daniel\u2019s / Jameson / Johnie Walker"),m()()(),g(42,"li")(43,"div",16)(44,"span"),_(45,"Draft Light Beer"),m(),g(46,"span",17),_(47,"7.90"),m()(),g(48,"div",18)(49,"span"),_(50,"Miller / Big Rock / Bud Light"),m()()(),g(51,"li")(52,"div",16)(53,"span"),_(54,"Orange Juice"),m(),g(55,"span",17),_(56,"23.90"),m()(),g(57,"div",18)(58,"span"),_(59,"Froze Fresh / Always Sweet / Lambeth Groves"),m()()(),g(60,"li")(61,"div",16)(62,"span"),_(63,"Strawberry Liqueur"),m(),g(64,"span",17),_(65,"23.90"),m()(),g(66,"div",18)(67,"span"),_(68,"Bols / Hiram Walker / DeKuyper"),m()()(),g(69,"li")(70,"div",16)(71,"span"),_(72,"German Pilsner Beer"),m(),g(73,"span",17),_(74,"15.90"),m()(),g(75,"div",18)(76,"span"),_(77,"Sixpoint / Trumer / Beck\u2019s"),m()()(),g(78,"li")(79,"div",16)(80,"span"),_(81,"Summer Love"),m(),g(82,"span",17),_(83,"7.90"),m()(),g(84,"div",18)(85,"span"),_(86,"Belgian Tripel Ale"),m()()(),g(87,"li")(88,"div",16)(89,"span"),_(90,"Fruit-Infused Beer"),m(),g(91,"span",17),_(92,"23.90"),m()(),g(93,"div",18)(94,"span"),_(95,"New Belgium / Founders / Ommegang"),m()()()()()()()()(),g(96,"div",9)(97,"div",10)(98,"div",11)(99,"div",12),S(100,"div",13),g(101,"div",14)(102,"h4")(103,"a",19),_(104,"Appetizers"),m()(),g(105,"ul",15)(106,"li")(107,"div",16)(108,"span"),_(109,"Mozzarella Sticks"),m(),g(110,"span",17),_(111,"6.20"),m()()(),g(112,"li")(113,"div",16)(114,"span"),_(115,"Crinkle Fries"),m(),g(116,"span",17),_(117,"5.75"),m()()(),g(118,"li")(119,"div",16)(120,"span"),_(121,"Tater Tots"),m(),g(122,"span",17),_(123,"5.85"),m()()(),g(124,"li")(125,"div",16)(126,"span"),_(127,"Five Wings"),m(),g(128,"span",17),_(129,"9.20"),m()()(),g(130,"li")(131,"div",16)(132,"span"),_(133,"Chicken Tenders"),m(),g(134,"span",17),_(135,"7.50"),m()()(),g(136,"li")(137,"div",16)(138,"span"),_(139,"Mini Corn Dogs"),m(),g(140,"span",17),_(141,"5.60"),m()()(),g(142,"li")(143,"div",16)(144,"span"),_(145,"Mac' n' Cheese Bites"),m(),g(146,"span",17),_(147,"6.00"),m()()(),g(148,"li")(149,"div",16)(150,"span"),_(151,"Onion Rings"),m(),g(152,"span",17),_(153,"6.00"),m()()()()()()(),g(154,"div",20)(155,"div")(156,"a",21),_(157,"download full menu"),m()()()()()()())},encapsulation:2});let t=e;return t})();var Km={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var b=function(t,e){if(!t)throw xi(e)},xi=function(t){return new Error("Firebase Database ("+Km.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var bD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new Qm;let h=s<<2|a>>4;if(r.push(h),l!==64){let p=a<<4&240|l>>2;if(r.push(p),d!==64){let y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Qm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Zm=function(t){let e=bD(t);return dd.encodeByteArray(e,!0)},Xa=function(t){return Zm(t).replace(/\./g,"")},ec=function(t){try{return dd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TD(t){return DD(void 0,t)}function DD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!SB(n)||(t[n]=DD(t[n],e[n]));return t}function SB(t){return t!=="__proto__"}function AB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var MB=()=>AB().__FIREBASE_DEFAULTS__,RB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ec(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return MB()||RB()||xB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jm=t=>{var e,n;return(n=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ao=t=>{let e=Jm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xm=()=>{var t;return(t=hd())===null||t===void 0?void 0:t.config},ey=t=>{var e;return(e=hd())===null||e===void 0?void 0:e[`_${t}`]};var Ri=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function co(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xa(JSON.stringify(n)),Xa(JSON.stringify(o)),""].join(".")}function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function NB(){var t;let e=(t=hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nc(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SD(){let t=ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ln(){return Km.NODE_CLIENT===!0||Km.NODE_ADMIN===!0}function AD(){return!NB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vn(){try{return typeof indexedDB=="object"}catch{return!1}}function Ni(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function ty(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var PB="FirebaseError",Le=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}},At=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Le(i,a,r)}};function kB(t,e){return t.replace(OB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var OB=/\{\$([^}]+)}/g;function oo(t){return JSON.parse(t)}function Qe(t){return JSON.stringify(t)}var MD=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=oo(ec(s[0])||""),n=oo(ec(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var RD=function(t){let e=MD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xD=function(t){let e=MD(t).claims;return typeof e=="object"&&e.admin===!0};function Un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ic(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function hr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(CD(s)&&CD(o)){if(!hr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function CD(t){return t!==null&&typeof t=="object"}function ki(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var ud=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function ND(t,e){let n=new Ym(t,e);return n.subscribe.bind(n)}var Ym=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wm),i.error===void 0&&(i.error=Wm),i.complete===void 0&&(i.complete=Wm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wm(){}function PD(t,e){return`${t} failed: ${e} argument `}var kD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,b(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sc=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var LB=1e3,VB=2,UB=4*60*60*1e3,BB=.5;function oc(t,e=LB,n=VB){let r=e*Math.pow(n,t),i=Math.round(BB*r*(Math.random()-.5)*2);return Math.min(UB,r+i)}function Ie(t){return t&&t._delegate?t._delegate:t}var Se=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Oi="[DEFAULT]";var pd=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ri;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($B(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jB(t){return t===Oi?void 0:t}function $B(t){return t.instantiationMode==="EAGER"}var ac=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new pd(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zB=[],W=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(W||{}),HB={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},qB=W.INFO,GB={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},WB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=GB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ut=class{constructor(e){this.name=e,this._logLevel=qB,this._logHandler=WB,this._userLogHandler=null,zB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}};var KB=(t,e)=>e.some(n=>t instanceof n),OD,FD;function QB(){return OD||(OD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YB(){return FD||(FD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LD=new WeakMap,ry=new WeakMap,VD=new WeakMap,ny=new WeakMap,sy=new WeakMap;function ZB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LD.set(n,t)}).catch(()=>{}),sy.set(e,t),e}function JB(t){if(ry.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ry.set(t,e)}var iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UD(t){iy=t(iy)}function XB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(gd(this),e,...n);return VD.set(r,e.sort?e.sort():[e]),Bn(r)}:YB().includes(t)?function(...e){return t.apply(gd(this),e),Bn(LD.get(this))}:function(...e){return Bn(t.apply(gd(this),e))}}function ej(t){return typeof t=="function"?XB(t):(t instanceof IDBTransaction&&JB(t),KB(t,QB())?new Proxy(t,iy):t)}function Bn(t){if(t instanceof IDBRequest)return ZB(t);if(ny.has(t))return ny.get(t);let e=ej(t);return e!==t&&(ny.set(t,e),sy.set(e,t)),e}var gd=t=>sy.get(t);function md(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Bn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Bn(o.result),c.oldVersion,c.newVersion,Bn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var tj=["get","getKey","getAll","getAllKeys","count"],nj=["put","add","delete","clear"],oy=new Map;function BD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oy.get(e))return oy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=nj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tj.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return oy.set(e,s),s}UD(t=>le(D({},t),{get:(e,n,r)=>BD(e,n)||t.get(e,n,r),has:(e,n)=>!!BD(e,n)||t.has(e,n)}));var cy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function rj(t){let e=t.getComponent();return e?.type==="VERSION"}var ly="@firebase/app",jD="0.9.29";var Fi=new Ut("@firebase/app"),ij="@firebase/app-compat",sj="@firebase/analytics-compat",oj="@firebase/analytics",aj="@firebase/app-check-compat",cj="@firebase/app-check",lj="@firebase/auth",uj="@firebase/auth-compat",dj="@firebase/database",hj="@firebase/database-compat",fj="@firebase/functions",pj="@firebase/functions-compat",gj="@firebase/installations",mj="@firebase/installations-compat",yj="@firebase/messaging",_j="@firebase/messaging-compat",vj="@firebase/performance",wj="@firebase/performance-compat",Ij="@firebase/remote-config",Ej="@firebase/remote-config-compat",Cj="@firebase/storage",bj="@firebase/storage-compat",Tj="@firebase/firestore",Dj="@firebase/firestore-compat",Sj="firebase",Aj="10.9.0";var uy="[DEFAULT]",Mj={[ly]:"fire-core",[ij]:"fire-core-compat",[oj]:"fire-analytics",[sj]:"fire-analytics-compat",[cj]:"fire-app-check",[aj]:"fire-app-check-compat",[lj]:"fire-auth",[uj]:"fire-auth-compat",[dj]:"fire-rtdb",[hj]:"fire-rtdb-compat",[fj]:"fire-fn",[pj]:"fire-fn-compat",[gj]:"fire-iid",[mj]:"fire-iid-compat",[yj]:"fire-fcm",[_j]:"fire-fcm-compat",[vj]:"fire-perf",[wj]:"fire-perf-compat",[Ij]:"fire-rc",[Ej]:"fire-rc-compat",[Cj]:"fire-gcs",[bj]:"fire-gcs-compat",[Tj]:"fire-fst",[Dj]:"fire-fst-compat","fire-js":"fire-js",[Sj]:"fire-js-all"};var cc=new Map,dy=new Map;function Rj(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ue(t){let e=t.name;if(dy.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(let n of cc.values())Rj(n,t);return!0}function st(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wr=new At("app","Firebase",xj);var hy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Se("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};var Bt=Aj;function gy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:uy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=Xm()),!n)throw Wr.create("no-options");let s=cc.get(i);if(s){if(hr(n,s.options)&&hr(r,s.config))return s;throw Wr.create("duplicate-app",{appName:i})}let o=new ac(i);for(let c of dy.values())o.addComponent(c);let a=new hy(n,r,o);return cc.set(i,a),a}function Mt(t=uy){let e=cc.get(t);if(!e&&t===uy&&Xm())return gy();if(!e)throw Wr.create("no-app",{appName:t});return e}function yd(){return Array.from(cc.values())}function V(t,e,n){var r;let i=(r=Mj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}Ue(new Se(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Nj="firebase-heartbeat-database",Pj=1,lc="firebase-heartbeat-store",ay=null;function qD(){return ay||(ay=md(Nj,Pj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),ay}function kj(t){return f(this,null,function*(){try{let n=(yield qD()).transaction(lc),r=yield n.objectStore(lc).get(GD(t));return yield n.done,r}catch(e){if(e instanceof Le)Fi.warn(e.message);else{let n=Wr.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(n.message)}}})}function $D(t,e){return f(this,null,function*(){try{let r=(yield qD()).transaction(lc,"readwrite");yield r.objectStore(lc).put(e,GD(t)),yield r.done}catch(n){if(n instanceof Le)Fi.warn(n.message);else{let r=Wr.create("idb-set",{originalErrorMessage:n?.message});Fi.warn(r.message)}}})}function GD(t){return`${t.name}!${t.options.appId}`}var Oj=1024,Fj=30*24*60*60*1e3,fy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new py(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Fj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zD(),{heartbeatsToSend:r,unsentEntries:i}=Lj(this._heartbeatsCache.heartbeats),s=Xa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function zD(){return new Date().toISOString().substring(0,10)}function Lj(t,e=Oj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),HD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var py=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Vn()?Ni().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield kj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $D(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $D(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function HD(t){return Xa(JSON.stringify({version:2,heartbeats:t})).length}function Vj(t){Ue(new Se("platform-logger",e=>new cy(e),"PRIVATE")),Ue(new Se("heartbeat",e=>new fy(e),"PRIVATE")),V(ly,jD,t),V(ly,jD,"esm2017"),V("fire-js","")}Vj("");var Uj="firebase",Bj="10.9.0";V(Uj,Bj,"app");var ot=new ir("ANGULARFIRE2_VERSION"),vd=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function ln(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Yt=(t,e)=>{let n=e?[e]:yd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},jn=class{constructor(){return Yt(jj)}},jj="app-check";function lo(){}var _d=class{zone;delegate;constructor(e,n=Wf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},my=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo)),n.pipe(ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},jt=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _d(Zone.current)),this.insideAngular=n.run(()=>new _d(Zone.current,Gf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(x(B))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function $j(t){return wd().ngZone.runOutsideAngular(()=>t())}function Li(t){return wd().ngZone.run(()=>t())}function zj(t){return Hj(wd())(t)}function Hj(t){return function(n){return n=n.lift(new my(t.ngZone)),n.pipe(Sr(t.outsideAngular),Dr(t.insideAngular))}}var qj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Li(()=>t.apply(void 0,r))},He=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo))),r[s]=qj(r[s],n));let i=$j(()=>t.apply(this,r));if(!e)if(i instanceof Z){let s=wd();return i.pipe(Sr(s.outsideAngular),Dr(s.insideAngular))}else return Li(()=>i);return i instanceof Z?i.pipe(zj):i instanceof Promise?Li(()=>new Promise((s,o)=>i.then(a=>Li(()=>s(a)),a=>Li(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Li(()=>i)};var at=class{constructor(e){return e}},Rt=class{constructor(){return yd()}};function Gj(t){return t&&t.length===1?t[0]:new at(Mt())}var yy=new R("angularfire2._apps"),Wj={provide:at,useFactory:Gj,deps:[[new he,yy]]},Kj={provide:Rt,deps:[[new he,yy]]};function Qj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new at(r)}}var Yj=(()=>{class t{constructor(n){V("angularfire",ot.full,"core"),V("angularfire",ot.full,"app"),V("angular",Yb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(x(kn))};static \u0275mod=Re({type:t});static \u0275inj=Me({providers:[Wj,Kj]})}return t})();function WD(t,...e){return{ngModule:Yj,providers:[{provide:yy,useFactory:Qj(t),multi:!0,deps:[B,we,jt,...e]}]}}var KD=He(gy,!0);function cS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lS=cS,uS=new At("auth","Firebase",cS());var Dd=new Ut("@firebase/auth");function Zj(t,...e){Dd.logLevel<=W.WARN&&Dd.warn(`Auth (${Bt}): ${t}`,...e)}function Ed(t,...e){Dd.logLevel<=W.ERROR&&Dd.error(`Auth (${Bt}): ${t}`,...e)}function Qr(t,...e){throw Ly(t,...e)}function Vi(t,...e){return Ly(t,...e)}function Jj(t,e,n){let r=Object.assign(Object.assign({},lS()),{[e]:n});return new At("auth","Firebase",r).create(e,{appName:t.name})}function Ly(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uS.create(t,...e)}function j(t,e,...n){if(!t)throw Ly(e,...n)}function fr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function Yr(t,e){t||fr(e)}function Iy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Xj(){return QD()==="http:"||QD()==="https:"}function QD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function e$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xj()||nc()||"connection"in navigator)?navigator.onLine:!0}function t$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=tc()||fd()}get(){return e$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Vy(t,e){Yr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Sd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var n$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var r$=new Ui(3e4,6e4);function Uy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function uo(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return dS(t,i,()=>f(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=ki(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Sd.fetch()(hS(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function dS(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},n$),e);try{let i=new Ey(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Id(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Id(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Jj(t,u,l);Qr(t,u)}}catch(i){if(i instanceof Le)throw i;Qr(t,"network-request-failed",{message:String(i)})}})}function i$(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let l=yield uo(t,e,n,r,i);return"mfaPendingCredential"in l&&Qr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function hS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Vy(t.config,i):`${t.config.apiScheme}://${i}`}var Ey=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),r$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Id(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Vi(t,e,r);return i.customData._tokenResponse=n,i}function s$(t,e){return f(this,null,function*(){return uo(t,"POST","/v1/accounts:delete",e)})}function o$(t,e){return f(this,null,function*(){return uo(t,"POST","/v1/accounts:lookup",e)})}function uc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function By(t,e=!1){return f(this,null,function*(){let n=Ie(t),r=yield n.getIdToken(e),i=jy(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:uc(_y(i.auth_time)),issuedAtTime:uc(_y(i.iat)),expirationTime:uc(_y(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function _y(t){return Number(t)*1e3}function jy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{let i=ec(n);return i?JSON.parse(i):(Ed("Failed to decode base64 JWT payload"),null)}catch(i){return Ed("Caught error parsing JWT payload as JSON",i?.toString()),null}}function a$(t){let e=jy(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function dc(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Le&&c$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function c$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Cy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ad=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Md(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield dc(t,o$(n,{idToken:r}));j(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?u$(s.providerUserInfo):[],a=l$(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ad(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function $y(t){return f(this,null,function*(){let e=Ie(t);yield Md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function l$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function u$(t){return t.map(e=>{var{providerId:n}=e,r=Kf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function d$(t,e){return f(this,null,function*(){let n=yield dS(t,{},()=>f(this,null,function*(){let r=ki({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=hS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function h$(t,e){return f(this,null,function*(){return uo(t,"POST","/v2/accounts:revokeToken",Uy(t,e))})}var Rd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return f(this,null,function*(){return j(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield d$(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(j(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return fr("not implemented")}};function Kr(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var hc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ad(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield dc(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return By(this,e)}reload(){return $y(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Md(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){let e=yield this.getIdToken();return yield dc(this,s$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:Y,emailVerified:se,isAnonymous:nt,providerData:Ae,stsTokenManager:kt}=n;j(Y&&kt,e,"internal-error");let Tn=Rd.fromJSON(this.name,kt);j(typeof Y=="string",e,"internal-error"),Kr(d,e.name),Kr(h,e.name),j(typeof se=="boolean",e,"internal-error"),j(typeof nt=="boolean",e,"internal-error"),Kr(p,e.name),Kr(y,e.name),Kr(v,e.name),Kr(w,e.name),Kr(A,e.name),Kr(z,e.name);let ui=new t({uid:Y,auth:e,email:h,emailVerified:se,displayName:d,isAnonymous:nt,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:Tn,createdAt:A,lastLoginAt:z});return Ae&&Array.isArray(Ae)&&(ui.providerData=Ae.map(gs=>Object.assign({},gs))),w&&(ui._redirectEventId=w),ui}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Rd;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Md(s),s})}};var YD=new Map;function pr(t){Yr(t instanceof Function,"Expected a class definition");let e=YD.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YD.set(t,e),e)}var f$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),by=f$;function Cd(t,e,n){return`firebase:${t}:${e}:${n}`}var xd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Cd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?hc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(pr(by),e,r);let i=(yield Promise.all(n.map(l=>f(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||pr(by),o=Cd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=hc._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>f(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function ZD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yS(e))return"Blackberry";if(_S(e))return"Webos";if(zy(e))return"Safari";if((e.includes("chrome/")||pS(e))&&!e.includes("edge/"))return"Chrome";if(mS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fS(t=ke()){return/firefox\//i.test(t)}function zy(t=ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pS(t=ke()){return/crios\//i.test(t)}function gS(t=ke()){return/iemobile/i.test(t)}function mS(t=ke()){return/android/i.test(t)}function yS(t=ke()){return/blackberry/i.test(t)}function _S(t=ke()){return/webos/i.test(t)}function Ud(t=ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p$(t=ke()){var e;return Ud(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g$(){return SD()&&document.documentMode===10}function vS(t=ke()){return Ud(t)||mS(t)||_S(t)||yS(t)||/windows phone/i.test(t)||gS(t)}function m$(){try{return!!(window&&window!==window.top)}catch{return!1}}function wS(t,e=[]){let n;switch(t){case"Browser":n=ZD(ke());break;case"Worker":n=`${ZD(ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bt}/${r}`}var Ty=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function y$(n){return f(this,arguments,function*(t,e={}){return uo(t,"GET","/v2/passwordPolicy",Uy(t,e))})}var _$=6,Dy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Sy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nd(this),this.idTokenSubscription=new Nd(this),this.beforeStateQueue=new Ty(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield Md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=t$()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){let n=e?Ie(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(pr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield y$(this),n=new Dy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new At("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield h$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&pr(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=yield xd.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Zj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Hy(t){return Ie(t)}var Nd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ND(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qy={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v$(t){qy=t}function w$(t){return qy.loadJS(t)}function I$(){return qy.gapiScript}function IS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Gy(t,e){let n=st(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(hr(s,e??{}))return i;Qr(i,"already-initialized")}return n.initialize({options:e})}function E$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Wy(t,e,n){let r=Hy(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=ES(e),{host:o,port:a}=C$(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||b$()}function ES(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C$(t){let e=ES(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:JD(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:JD(o)}}}function JD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function b$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Pd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}};function vy(t,e){return f(this,null,function*(){return i$(t,"POST","/v1/accounts:signInWithIdp",Uy(t,e))})}var kd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ay=class extends kd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var fc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield hc._fromIdTokenResponse(e,r,i),o=XD(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=XD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function XD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var My=class t extends Le{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function CS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?My._fromErrorAndOperation(t,s,e,r):s})}function T$(t,e,n=!1){return f(this,null,function*(){let r=yield dc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fc._forOperation(t,"link",r)})}function D$(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield dc(t,CS(r,i,e,t),n);j(s.idToken,r,"internal-error");let o=jy(s.idToken);j(o,r,"internal-error");let{sub:a}=o;return j(t.uid===a,r,"user-mismatch"),fc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Qr(r,"user-mismatch"),s}})}function S$(t,e,n=!1){return f(this,null,function*(){let r="signIn",i=yield CS(t,r,e),s=yield fc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Bd(t,e,n,r){return Ie(t).onIdTokenChanged(e,n,r)}function Ky(t,e,n){return Ie(t).beforeAuthStateChanged(e,n)}function jd(t,e,n,r){return Ie(t).onAuthStateChanged(e,n,r)}var Od="__sak";var Fd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function A$(){let t=ke();return zy(t)||Ud(t)}var M$=1e3,R$=10,x$=(()=>{class t extends Fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A$()&&m$(),this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);g$()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,R$):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},M$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield br(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield br(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield br(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),bS=x$;var N$=(()=>{class t extends Fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Qy=N$;function P$(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var k$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>f(this,null,function*(){return u(r.origin,o)})),l=yield P$(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function TS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ry=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=TS("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function $n(){return window}function O$(t){$n().location.href=t}function DS(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}function F$(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function L$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V$(){return DS()?self:null}var SS="firebaseLocalStorageDb",U$=1,Ld="firebaseLocalStorage",AS="fbase_key",Bi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $d(t,e){return t.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function B$(){let t=indexedDB.deleteDatabase(SS);return new Bi(t).toPromise()}function xy(){let t=indexedDB.open(SS,U$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ld,{keyPath:AS})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ld)?e(r):(r.close(),yield B$(),e(yield xy()))}))})}function eS(t,e,n){return f(this,null,function*(){let r=$d(t,!0).put({[AS]:e,value:n});return new Bi(r).toPromise()})}function j$(t,e){return f(this,null,function*(){let n=$d(t,!1).get(e),r=yield new Bi(n).toPromise();return r===void 0?null:r.value})}function tS(t,e){let n=$d(t,!0).delete(e);return new Bi(n).toPromise()}var $$=800,z$=3,H$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield xy(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>z$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return DS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=k$._getInstance(V$()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield F$(),!this.activeServiceWorker)return;this.sender=new Ry(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||L$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield xy();return yield eS(n,Od,"1"),yield tS(n,Od),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>eS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>j$(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>tS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=$d(s,!1).getAll();return new Bi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),$$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),MS=H$;var Xee=IS("rcb"),ete=new Ui(3e4,6e4);function q$(t,e){return e?pr(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var pc=class extends Pd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function G$(t){return S$(t.auth,new pc(t),t.bypassAuthState)}function W$(t){let{auth:e,user:n}=t;return j(n,e,"internal-error"),D$(n,new pc(t),t.bypassAuthState)}function K$(t){return f(this,null,function*(){let{auth:e,user:n}=t;return j(n,e,"internal-error"),T$(n,new pc(t),t.bypassAuthState)})}var Ny=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G$;case"linkViaPopup":case"linkViaRedirect":return K$;case"reauthViaPopup":case"reauthViaRedirect":return W$;default:Qr(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tte=new Ui(2e3,1e4);var Q$="pendingRedirect",bd=new Map,Py=class t extends Ny{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=bd.get(this.auth._key());if(!e){try{let r=(yield Y$(this.resolver,this.auth))?yield br(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return br(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,br(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function Y$(t,e){return f(this,null,function*(){let n=X$(e),r=J$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Z$(t,e){bd.set(t._key(),e)}function J$(t){return pr(t._redirectPersistence)}function X$(t){return Cd(Q$,t.config.apiKey,t.name)}function ez(t,e,n=!1){return f(this,null,function*(){let r=Hy(t),i=q$(r,e),o=yield new Py(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var tz=10*60*1e3,ky=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tz&&this.cachedEventUids.clear(),this.cachedEventUids.has(nS(e))}saveEventToCache(e){this.cachedEventUids.add(nS(e)),this.lastProcessedEventTime=Date.now()}};function nS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RS(t);default:return!1}}function rz(n){return f(this,arguments,function*(t,e={}){return uo(t,"GET","/v1/projects",e)})}var iz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sz=/^https?/;function oz(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield rz(t);for(let n of e)try{if(az(n))return}catch{}Qr(t,"unauthorized-domain")})}function az(t){let e=Iy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sz.test(n))return!1;if(iz.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var cz=new Ui(3e4,6e4);function rS(){let t=$n().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lz(t){return new Promise((e,n)=>{var r,i,s;function o(){rS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rS(),n(Vi(t,"network-request-failed"))},timeout:cz.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)o();else{let a=IS("iframefcb");return $n()[a]=()=>{gapi.load?o():n(Vi(t,"network-request-failed"))},w$(`${I$()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Td=null,e})}var Td=null;function uz(t){return Td=Td||lz(t),Td}var dz=new Ui(5e3,15e3),hz="__/auth/iframe",fz="emulator/auth/iframe",pz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mz(t){let e=t.config;j(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Vy(e,fz):`https://${t.config.authDomain}/${hz}`,r={apiKey:e.apiKey,appName:t.name,v:Bt},i=gz.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ki(r).slice(1)}`}function yz(t){return f(this,null,function*(){let e=yield uz(t),n=$n().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:mz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pz,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Vi(t,"network-request-failed"),a=$n().setTimeout(()=>{s(o)},dz.get());function c(){$n().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var _z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vz=500,wz=600,Iz="_blank",Ez="http://localhost",Vd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Cz(t,e,n,r=vz,i=wz){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},_z),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ke().toLowerCase();n&&(a=pS(l)?Iz:n),fS(l)&&(e=e||Ez,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(p$(l)&&a!=="_self")return bz(e||"",a),new Vd(null);let d=window.open(e||"",a,u);j(d,t,"popup-blocked");try{d.focus()}catch{}return new Vd(d)}function bz(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Tz="__/auth/handler",Dz="emulator/auth/handler",Sz=encodeURIComponent("fac");function iS(t,e,n,r,i,s){return f(this,null,function*(){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bt,eventId:i};if(e instanceof kd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Ay){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${Sz}=${encodeURIComponent(c)}`:"";return`${Az(t)}?${ki(a).slice(1)}${l}`})}function Az({config:t}){return t.emulator?Vy(t,Dz):`https://${t.authDomain}/${Tz}`}var wy="webStorageSupport",Oy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qy,this._completeRedirectFn=ez,this._overrideRedirectResult=Z$}_openPopup(e,n,r,i){return f(this,null,function*(){var s;Yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield iS(e,n,r,Iy(),i);return Cz(e,o,TS())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield iS(e,n,r,Iy(),i);return O$(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield yz(e),r=new ky(e);return n.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wy,{type:wy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[wy];o!==void 0&&n(!!o),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vS()||zy()||Ud()}},xS=Oy;var sS="@firebase/auth",oS="1.6.2";var Fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Mz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rz(t){Ue(new Se("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wS(t)},l=new Sy(r,i,s,c);return E$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ue(new Se("auth-internal",e=>{let n=Hy(e.getProvider("auth").getImmediate());return(r=>new Fy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),V(sS,oS,Mz(t)),V(sS,oS,"esm2017")}var xz=5*60,Nz=ey("authIdTokenMaxAge")||xz,aS=null,Pz=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nz)return;let i=n?.token;aS!==i&&(aS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Yy(t=Mt()){let e=st(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Gy(t,{popupRedirectResolver:xS,persistence:[MS,bS,Qy]}),r=ey("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){let s=Pz(r);Ky(n,s,()=>s(n.currentUser)),Bd(n,o=>s(o))}let i=Jm("auth");return i&&Wy(n,`http://${i}`),n}function kz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rz("Browser");function PS(t){return new Z(function(e){var n=jd(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var kS="auth",ji=class{constructor(e){return e}},gr=class{constructor(){return Yt(kS)}};var Zy=new R("angularfire2.auth-instances");function DH(t,e){let n=ln(kS,t,e);return n&&new ji(n)}function SH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ji(r)}}var AH={provide:gr,deps:[[new he,Zy]]},MH={provide:ji,useFactory:DH,deps:[[new he,Zy],at]},RH=(()=>{class t{constructor(){V("angularfire",ot.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Me({providers:[MH,AH]})}return t})();function OS(t,...e){return{ngModule:RH,providers:[{provide:Zy,useFactory:SH(t),multi:!0,deps:[B,we,jt,Rt,[new he,jn],...e]}]}}var FS=He(PS,!0);var LS=He(Yy,!0);var NH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},In={},T,v_=v_||{},L=NH||self;function nh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ac(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function PH(t){return Object.prototype.hasOwnProperty.call(t,Jy)&&t[Jy]||(t[Jy]=++kH)}var Jy="closure_uid_"+(1e9*Math.random()>>>0),kH=0;function OH(t,e,n){return t.call.apply(t.bind,arguments)}function FH(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dt=OH:dt=FH,dt.apply(null,arguments)}function zd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Zr(){this.s=this.s,this.o=this.o}var LH=0;Zr.prototype.s=!1;Zr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),LH!=0)&&PH(this)};Zr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var YS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function w_(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function VS(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(nh(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var VH=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};L.addEventListener("test",n,e),L.removeEventListener("test",n,e)}catch{}return t}();function wc(t){return/^[\s\xa0]*$/.test(t)}function rh(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function zn(t){return rh().indexOf(t)!=-1}function I_(t){return I_[" "](t),t}I_[" "]=function(){};function UH(t,e){var n=S4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var BH=zn("Opera"),go=zn("Trident")||zn("MSIE"),ZS=zn("Edge"),r_=ZS||go,JS=zn("Gecko")&&!(rh().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),jH=rh().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge");function XS(){var t=L.document;return t?t.documentMode:void 0}var i_;e:{if(Hd="",qd=function(){var t=rh();if(JS)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZS)return/Edge\/([\d\.]+)/.exec(t);if(go)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(jH)return/WebKit\/(\S+)/.exec(t);if(BH)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),qd&&(Hd=qd?qd[1]:""),go&&(Gd=XS(),Gd!=null&&Gd>parseFloat(Hd))){i_=String(Gd);break e}i_=Hd}var Hd,qd,Gd,s_;L.document&&go?(Xy=XS(),s_=Xy||parseInt(i_,10)||void 0):s_=void 0;var Xy,$H=s_;function Ic(t,e){if(ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(JS){e:{try{I_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ic.$.h.call(this)}}Ze(Ic,ht);var zH={2:"touch",3:"pen",4:"mouse"};Ic.prototype.h=function(){Ic.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mc="closure_listenable_"+(1e6*Math.random()|0),HH=0;function qH(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++HH,this.fa=this.ia=!1}function ih(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function E_(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function GH(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function eA(t){let e={};for(let n in t)e[n]=t[n];return e}var US="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<US.length;s++)n=US[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sh(t){this.src=t,this.g={},this.h=0}sh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=a_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new qH(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function o_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=YS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ih(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function a_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var C_="closure_lm_"+(1e6*Math.random()|0),e_={};function nA(t,e,n,r,i){if(r&&r.once)return iA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)nA(t,e[s],n,r,i);return null}return n=D_(n),t&&t[Mc]?t.O(e,n,Ac(r)?!!r.capture:!!r,i):rA(t,e,n,!1,r,i)}function rA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ac(i)?!!i.capture:!!i,a=T_(t);if(a||(t[C_]=a=new sh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=WH(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)VH||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function WH(){function t(n){return e.call(t.src,t.listener,n)}let e=KH;return t}function iA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)iA(t,e[s],n,r,i);return null}return n=D_(n),t&&t[Mc]?t.P(e,n,Ac(r)?!!r.capture:!!r,i):rA(t,e,n,!0,r,i)}function sA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)sA(t,e[s],n,r,i);else r=Ac(r)?!!r.capture:!!r,n=D_(n),t&&t[Mc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=a_(s,n,r,i),-1<n&&(ih(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=T_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=a_(e,n,r,i)),(n=-1<t?e[t]:null)&&b_(n))}function b_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Mc])o_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=T_(e))?(o_(n,t),n.h==0&&(n.src=null,e[C_]=null)):ih(t)}}}function oA(t){return t in e_?e_[t]:e_[t]="on"+t}function KH(t,e){if(t.fa)t=!0;else{e=new Ic(e,this);var n=t.listener,r=t.la||t.src;t.ia&&b_(t),t=n.call(r,e)}return t}function T_(t){return t=t[C_],t instanceof sh?t:null}var t_="__closure_events_fn_"+(1e9*Math.random()>>>0);function D_(t){return typeof t=="function"?t:(t[t_]||(t[t_]=function(e){return t.handleEvent(e)}),t[t_])}function Ye(){Zr.call(this),this.i=new sh(this),this.S=this,this.J=null}Ze(Ye,Zr);Ye.prototype[Mc]=!0;Ye.prototype.removeEventListener=function(t,e,n,r){sA(this,t,e,n,r)};function lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ht(e,t);else if(e instanceof ht)e.target=e.target||t;else{var i=e;e=new ht(r,t),tA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wd(o,r,!0,e)&&i}if(o=e.g=t,i=Wd(o,r,!0,e)&&i,i=Wd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Wd(o,r,!1,e)&&i}Ye.prototype.N=function(){if(Ye.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ih(n[r]);delete t.g[e],t.h--}}this.J=null};Ye.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ye.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&o_(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var S_=L.JSON.stringify,c_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function QH(){var t=A_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var l_=class{constructor(){this.h=this.g=null}add(e,n){let r=aA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},aA=new c_(()=>new u_,t=>t.reset()),u_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function YH(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ZH(t){L.setTimeout(()=>{throw t},0)}var Ec,Cc=!1,A_=new l_,cA=()=>{let t=L.Promise.resolve(void 0);Ec=()=>{t.then(JH)}},JH=()=>{for(var t;t=QH();){try{t.h.call(t.g)}catch(n){ZH(n)}var e=aA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cc=!1};function oh(t,e){Ye.call(this),this.h=t||1,this.g=e||L,this.j=dt(this.qb,this),this.l=Date.now()}Ze(oh,Ye);T=oh.prototype;T.ga=!1;T.T=null;T.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lt(this,"tick"),this.ga&&(M_(this),this.start()))}};T.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function M_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}T.N=function(){oh.$.N.call(this),M_(this),delete this.g};function R_(t,e,n){if(typeof t=="function")n&&(t=dt(t,n));else if(t&&typeof t.handleEvent=="function")t=dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function lA(t){t.g=R_(()=>{t.g=null,t.i&&(t.i=!1,lA(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var d_=class extends Zr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lA(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function bc(t){Zr.call(this),this.h=t,this.g={}}Ze(bc,Zr);var BS=[];function uA(t,e,n,r){Array.isArray(n)||(n&&(BS[0]=n.toString()),n=BS);for(var i=0;i<n.length;i++){var s=nA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function dA(t){E_(t.g,function(e,n){this.g.hasOwnProperty(n)&&b_(e)},t),t.g={}}bc.prototype.N=function(){bc.$.N.call(this),dA(this)};bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ah(){this.g=!0}ah.prototype.Ea=function(){this.g=!1};function XH(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function e4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+n4(t,n)+(r?" "+r:"")})}function t4(t,e){t.info(function(){return"TIMEOUT: "+e})}ah.prototype.info=function(){};function n4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return S_(n)}catch{return e}}var qi={},jS=null;function ch(){return jS=jS||new Ye}qi.Ta="serverreachability";function hA(t){ht.call(this,qi.Ta,t)}Ze(hA,ht);function Tc(t){let e=ch();lt(e,new hA(e))}qi.STAT_EVENT="statevent";function fA(t,e){ht.call(this,qi.STAT_EVENT,t),this.stat=e}Ze(fA,ht);function xt(t){let e=ch();lt(e,new fA(e,t))}qi.Ua="timingevent";function pA(t,e){ht.call(this,qi.Ua,t),this.size=e}Ze(pA,ht);function Rc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var lh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function x_(){}x_.prototype.h=null;function $S(t){return t.h||(t.h=t.i())}function mA(){}var xc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function N_(){ht.call(this,"d")}Ze(N_,ht);function P_(){ht.call(this,"c")}Ze(P_,ht);var h_;function uh(){}Ze(uh,x_);uh.prototype.g=function(){return new XMLHttpRequest};uh.prototype.i=function(){return{}};h_=new uh;function Nc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bc(this),this.P=r4,t=r_?125:void 0,this.V=new oh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yA}function yA(){this.i=null,this.g="",this.h=!1}var r4=45e3,_A={},f_={};T=Nc.prototype;T.setTimeout=function(t){this.P=t};function p_(t,e,n){t.L=1,t.A=hh(yr(e)),t.u=n,t.S=!0,vA(t,null)}function vA(t,e){t.G=Date.now(),Pc(t),t.B=yr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),SA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new yA,t.g=KA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new d_(dt(t.Pa,t,t.g),t.O)),uA(t.U,t.g,"readystatechange",t.nb),e=t.I?eA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Tc(),XH(t.j,t.v,t.B,t.m,t.W,t.u)}T.nb=function(t){t=t.target;let e=this.M;e&&Hn(t)==3?e.l():this.Pa(t)};T.Pa=function(t){try{if(t==this.g)e:{let u=Hn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||r_||this.g&&(this.h.h||this.g.ja()||GS(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Tc(3):Tc(2)),dh(this);var n=this.g.da();this.ca=n;t:if(wA(this)){var r=GS(this.g);t="";var i=r.length,s=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$i(this),vc(this);var o="";break t}this.h.i=new L.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,e4(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wc(a)){var l=a;break t}}l=null}if(n=l)fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,g_(this,n);else{this.i=!1,this.s=3,xt(12),$i(this),vc(this);break e}}this.S?(IA(this,u,o),r_&&this.i&&u==3&&(uA(this.U,this.V,"tick",this.mb),this.V.start())):(fo(this.j,this.m,o,null),g_(this,o)),u==4&&$i(this),this.i&&!this.J&&(u==4?HA(this.l,this):(this.i=!1,Pc(this)))}else b4(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),$i(this),vc(this)}}}catch{}finally{}};function wA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function IA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=i4(t,n),i==f_){e==4&&(t.s=4,xt(14),r=!1),fo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==_A){t.s=4,xt(15),fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fo(t.j,t.m,i,null),g_(t,i);wA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),U_(e),e.M=!0,xt(11))):(fo(t.j,t.m,n,"[Invalid Chunked Response]"),$i(t),vc(t))}T.mb=function(){if(this.g){var t=Hn(this.g),e=this.g.ja();this.o<e.length&&(dh(this),IA(this,t,e),this.i&&t!=4&&Pc(this))}};function i4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?f_:(n=Number(e.substring(n,r)),isNaN(n)?_A:(r+=1,r+n>e.length?f_:(e=e.slice(r,r+n),t.o=r+n,e)))}T.cancel=function(){this.J=!0,$i(this)};function Pc(t){t.Y=Date.now()+t.P,EA(t,t.P)}function EA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Rc(dt(t.lb,t),e)}function dh(t){t.C&&(L.clearTimeout(t.C),t.C=null)}T.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(t4(this.j,this.B),this.L!=2&&(Tc(),xt(17)),$i(this),this.s=2,vc(this)):EA(this,this.Y-t)};function vc(t){t.l.H==0||t.J||HA(t.l,t)}function $i(t){dh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,M_(t.V),dA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function g_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||m_(n.i,t))){if(!t.K&&m_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jd(n),gh(n);else break e;V_(n),xt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rc(dt(n.ib,n),6e3));if(1>=RA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zi(n,11)}else if((t.K||n.g==t)&&Jd(n),!wc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(k_(s,s.h),s.h=null))}if(r.F){let v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ce(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=WA(r,r.J?r.pa:null,r.Y),o.K){xA(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(dh(a),Pc(a)),r.g=o}else $A(r);0<n.j.length&&mh(n)}else l[0]!="stop"&&l[0]!="close"||zi(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?zi(n,7):L_(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Tc(4)}catch{}}function s4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(nh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function o4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(nh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function CA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(nh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=o4(t),r=s4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var bA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Hi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hi){this.h=t.h,Yd(this,t.j),this.s=t.s,this.g=t.g,Zd(this,t.m),this.l=t.l;var e=t.i,n=new Dc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),zS(this,n),this.o=t.o}else t&&(e=String(t).match(bA))?(this.h=!1,Yd(this,e[1]||"",!0),this.s=yc(e[2]||""),this.g=yc(e[3]||"",!0),Zd(this,e[4]),this.l=yc(e[5]||"",!0),zS(this,e[6]||"",!0),this.o=yc(e[7]||"")):(this.h=!1,this.i=new Dc(null,this.h))}Hi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_c(e,HS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_c(e,HS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_c(n,n.charAt(0)=="/"?u4:l4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_c(n,h4)),t.join("")};function yr(t){return new Hi(t)}function Yd(t,e,n){t.j=n?yc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function zS(t,e,n){e instanceof Dc?(t.i=e,f4(t.i,t.h)):(n||(e=_c(e,d4)),t.i=new Dc(e,t.h))}function Ce(t,e,n){t.i.set(e,n)}function hh(t){return Ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _c(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,c4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function c4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var HS=/[#\/\?@]/g,l4=/[#\?:]/g,u4=/[#\?]/g,d4=/[#\?@]/g,h4=/#/g;function Dc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Jr(t){t.g||(t.g=new Map,t.h=0,t.i&&a4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}T=Dc.prototype;T.add=function(t,e){Jr(this),this.i=null,t=mo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function TA(t,e){Jr(t),e=mo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function DA(t,e){return Jr(t),e=mo(t,e),t.g.has(e)}T.forEach=function(t,e){Jr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};T.ta=function(){Jr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};T.Z=function(t){Jr(this);let e=[];if(typeof t=="string")DA(this,t)&&(e=e.concat(this.g.get(mo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};T.set=function(t,e){return Jr(this),this.i=null,t=mo(this,t),DA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};T.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function SA(t,e,n){TA(t,e),0<n.length&&(t.i=null,t.g.set(mo(t,e),w_(n)),t.h+=n.length)}T.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function mo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function f4(t,e){e&&!t.j&&(Jr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TA(this,r),SA(this,i,n))},t)),t.j=e}var p4=class{constructor(t,e){this.g=t,this.map=e}};function AA(t){this.l=t||g4,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var g4=10;function MA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function RA(t){return t.h?1:t.g?t.g.size:0}function m_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function k_(t,e){t.g?t.g.add(e):t.h=e}function xA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AA.prototype.cancel=function(){if(this.i=NA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function NA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return w_(t.i)}var m4=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function y4(){this.g=new m4}function _4(t,e,n){let r=n||"";try{CA(t,function(i,s){let o=i;Ac(i)&&(o=S_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function v4(t,e){let n=new ah;if(L.Image){let r=new Image;r.onload=zd(Kd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zd(Kd,n,r,"TestLoadImage: error",!1,e),r.onabort=zd(Kd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zd(Kd,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Kd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kc(t){this.l=t.ec||null,this.j=t.ob||!1}Ze(kc,x_);kc.prototype.g=function(){return new fh(this.l,this.j)};kc.prototype.i=function(t){return function(){return t}}({});function fh(t,e){Ye.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=O_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(fh,Ye);var O_=0;T=fh.prototype;T.open=function(t,e){if(this.readyState!=O_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sc(this)};T.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};T.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oc(this)),this.readyState=O_};T.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sc(this)),this.g&&(this.readyState=3,Sc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function PA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}T.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Oc(this):Sc(this),this.readyState==3&&PA(this)}};T.Za=function(t){this.g&&(this.response=this.responseText=t,Oc(this))};T.Ya=function(t){this.g&&(this.response=t,Oc(this))};T.ka=function(){this.g&&Oc(this)};function Oc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sc(t)}T.setRequestHeader=function(t,e){this.v.append(t,e)};T.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};T.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Sc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var w4=L.JSON.parse;function Oe(t){Ye.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kA,this.L=this.M=!1}Ze(Oe,Ye);var kA="",I4=/^https?$/i,E4=["POST","PUT"];T=Oe.prototype;T.Oa=function(t){this.M=t};T.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():h_.g(),this.C=this.u?$S(this.u):$S(h_),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){qS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=L.FormData&&t instanceof L.FormData,!(0<=YS(E4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LA(this),0<this.B&&((this.L=C4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=R_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qS(this,s)}};function C4(t){return go&&typeof t.timeout=="number"&&t.ontimeout!==void 0}T.ua=function(){typeof v_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function qS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,OA(t),ph(t)}function OA(t){t.F||(t.F=!0,lt(t,"complete"),lt(t,"error"))}T.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),ph(this))};T.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ph(this,!0)),Oe.$.N.call(this)};T.La=function(){this.s||(this.G||this.v||this.l?FA(this):this.kb())};T.kb=function(){FA(this)};function FA(t){if(t.h&&typeof v_<"u"&&(!t.C[1]||Hn(t)!=4||t.da()!=2)){if(t.v&&Hn(t)==4)R_(t.La,0,t);else if(lt(t,"readystatechange"),Hn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(bA)[1]||null;!i&&L.self&&L.self.location&&(i=L.self.location.protocol.slice(0,-1)),r=!I4.test(i?i.toLowerCase():"")}n=r}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var s=2<Hn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",OA(t)}}finally{ph(t)}}}}function ph(t,e){if(t.g){LA(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function LA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}T.isActive=function(){return!!this.g};function Hn(t){return t.g?t.g.readyState:0}T.da=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}};T.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};T.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),w4(e)}};function GS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case kA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function b4(t){let e={};t=(t.g&&2<=Hn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(wc(t[r]))continue;var n=YH(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}GH(e,function(r){return r.join(", ")})}T.Ia=function(){return this.m};T.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VA(t){let e="";return E_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function F_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ce(t,e,n))}function gc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function UA(t){this.Ga=0,this.j=[],this.l=new ah,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gc("baseRetryDelayMs",5e3,t),this.hb=gc("retryDelaySeedMs",1e4,t),this.eb=gc("forwardChannelMaxRetries",2,t),this.xa=gc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new AA(t&&t.concurrentRequestLimit),this.Ja=new y4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}T=UA.prototype;T.ra=8;T.H=1;function L_(t){if(BA(t),t.H==3){var e=t.W++,n=yr(t.I);if(Ce(n,"SID",t.K),Ce(n,"RID",e),Ce(n,"TYPE","terminate"),Fc(t,n),e=new Nc(t,t.l,e),e.L=2,e.A=hh(yr(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.A,n=!0),n||(e.g=KA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Pc(e)}GA(t)}function gh(t){t.g&&(U_(t),t.g.cancel(),t.g=null)}function BA(t){gh(t),t.u&&(L.clearTimeout(t.u),t.u=null),Jd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function mh(t){if(!MA(t.i)&&!t.m){t.m=!0;var e=t.Na;Ec||cA(),Cc||(Ec(),Cc=!0),A_.add(e,t),t.C=0}}function T4(t,e){return RA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rc(dt(t.Na,t,e),qA(t,t.C)),t.C++,!0)}T.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Nc(this,this.l,t),s=this.s;if(this.U&&(s?(s=eA(s),tA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jA(this,i,e),n=yr(this.I),Ce(n,"RID",t),Ce(n,"CVER",22),this.F&&Ce(n,"X-HTTP-Session-Id",this.F),Fc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(VA(s)))+"&"+e:this.o&&F_(n,this.o,s)),k_(this.i,i),this.bb&&Ce(n,"TYPE","init"),this.P?(Ce(n,"$req",e),Ce(n,"SID","null"),i.aa=!0,p_(i,n,null)):p_(i,n,e),this.H=2}}else this.H==3&&(t?WS(this,t):this.j.length==0||MA(this.i)||WS(this))};function WS(t,e){var n;e?n=e.m:n=t.W++;let r=yr(t.I);Ce(r,"SID",t.K),Ce(r,"RID",n),Ce(r,"AID",t.V),Fc(t,r),t.o&&t.s&&F_(r,t.o,t.s),n=new Nc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),k_(t.i,n),p_(n,r,e)}function Fc(t,e){t.na&&E_(t.na,function(n,r){Ce(e,r,n)}),t.h&&CA({},function(n,r){Ce(e,r,n)})}function jA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{_4(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $A(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ec||cA(),Cc||(Ec(),Cc=!0),A_.add(e,t),t.A=0}}function V_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rc(dt(t.Ma,t),qA(t,t.A)),t.A++,!0)}T.Ma=function(){if(this.u=null,zA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rc(dt(this.jb,this),t)}};T.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xt(10),gh(this),zA(this))};function U_(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function zA(t){t.g=new Nc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=yr(t.wa);Ce(e,"RID","rpc"),Ce(e,"SID",t.K),Ce(e,"AID",t.V),Ce(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ce(e,"TO",t.qa),Ce(e,"TYPE","xmlhttp"),Fc(t,e),t.o&&t.s&&F_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=hh(yr(e)),n.u=null,n.S=!0,vA(n,t)}T.ib=function(){this.v!=null&&(this.v=null,gh(this),V_(this),xt(19))};function Jd(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function HA(t,e){var n=null;if(t.g==e){Jd(t),U_(t),t.g=null;var r=2}else if(m_(t.i,e))n=e.F,xA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ch(),lt(r,new pA(r,n)),mh(t)}else $A(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&T4(t,e)||r==2&&V_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zi(t,5);break;case 4:zi(t,10);break;case 3:zi(t,6);break;default:zi(t,2)}}}function qA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function zi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dt(t.pb,t);n||(n=new Hi("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||Yd(n,"https"),hh(n)),v4(n.toString(),r)}else xt(2);t.H=0,t.h&&t.h.za(e),GA(t),BA(t)}T.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xt(2)):(this.l.info("Failed to ping google.com"),xt(1))};function GA(t){if(t.H=0,t.ma=[],t.h){let e=NA(t.i);(e.length!=0||t.j.length!=0)&&(VS(t.ma,e),VS(t.ma,t.j),t.i.i.length=0,w_(t.j),t.j.length=0),t.h.ya()}}function WA(t,e,n){var r=n instanceof Hi?yr(n):new Hi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Zd(r,r.m);else{var i=L.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Hi(null);r&&Yd(s,r),e&&(s.g=e),i&&Zd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ce(r,n,e),Ce(r,"VER",t.ra),Fc(t,r),r}function KA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Oe(new kc({ob:n})):new Oe(t.va),e.Oa(t.J),e}T.isActive=function(){return!!this.h&&this.h.isActive(this)};function QA(){}T=QA.prototype;T.Ba=function(){};T.Aa=function(){};T.za=function(){};T.ya=function(){};T.isActive=function(){return!0};T.Va=function(){};function Xd(){if(go&&!(10<=Number($H)))throw Error("Environmental error: no available transport.")}Xd.prototype.g=function(t,e){return new Zt(t,e)};function Zt(t,e){Ye.call(this),this.g=new UA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!wc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new yo(this)}Ze(Zt,Ye);Zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=WA(t,null,t.Y),mh(t)};Zt.prototype.close=function(){L_(this.g)};Zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=S_(t),t=n);e.j.push(new p4(e.fb++,t)),e.H==3&&mh(e)};Zt.prototype.N=function(){this.g.h=null,delete this.j,L_(this.g),delete this.g,Zt.$.N.call(this)};function YA(t){N_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(YA,N_);function ZA(){P_.call(this),this.status=1}Ze(ZA,P_);function yo(t){this.g=t}Ze(yo,QA);yo.prototype.Ba=function(){lt(this.g,"a")};yo.prototype.Aa=function(t){lt(this.g,new YA(t))};yo.prototype.za=function(t){lt(this.g,new ZA)};yo.prototype.ya=function(){lt(this.g,"b")};function D4(){this.blockSize=-1}function wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ze(wn,D4);wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function n_(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}wn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)n_(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){n_(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){n_(this,r),i=0;break}}this.h=i,this.i+=e};wn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ge(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var S4={};function B_(t){return-128<=t&&128>t?UH(t,function(e){return new ge([e|0],0>e?-1:0)}):new ge([t|0],0>t?-1:0)}function qn(t){if(isNaN(t)||!isFinite(t))return po;if(0>t)return ct(qn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=y_;return new ge(e,0)}function JA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ct(JA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qn(Math.pow(e,8)),r=po,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=qn(Math.pow(e,s)),r=r.R(s).add(qn(o))):(r=r.R(n),r=r.add(qn(o)))}return r}var y_=4294967296,po=B_(0),__=B_(1),KS=B_(16777216);T=ge.prototype;T.ea=function(){if(un(this))return-ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:y_+r)*e,e*=y_}return t};T.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(mr(this))return"0";if(un(this))return"-"+ct(this).toString(t);for(var e=qn(Math.pow(t,6)),n=this,r="";;){var i=th(n,e).g;n=eh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,mr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};T.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function mr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function un(t){return t.h==-1}T.X=function(t){return t=eh(this,t),un(t)?-1:mr(t)?0:1};function ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ge(n,~t.h).add(__)}T.abs=function(){return un(this)?ct(this):this};T.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function eh(t,e){return t.add(ct(e))}T.R=function(t){if(mr(this)||mr(t))return po;if(un(this))return un(t)?ct(this).R(ct(t)):ct(ct(this).R(t));if(un(t))return ct(this.R(ct(t)));if(0>this.X(KS)&&0>t.X(KS))return qn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Qd(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Qd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ge(n,0)};function Qd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function mc(t,e){this.g=t,this.h=e}function th(t,e){if(mr(e))throw Error("division by zero");if(mr(t))return new mc(po,po);if(un(t))return e=th(ct(t),e),new mc(ct(e.g),ct(e.h));if(un(e))return e=th(t,ct(e)),new mc(ct(e.g),e.h);if(30<t.g.length){if(un(t)||un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=__,r=e;0>=r.X(t);)n=QS(n),r=QS(r);var i=ho(n,1),s=ho(r,1);for(r=ho(r,2),n=ho(n,2);!mr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ho(r,1),n=ho(n,1)}return e=eh(t,i.R(e)),new mc(i,e)}for(i=po;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=qn(n),o=s.R(e);un(o)||0<o.X(t);)n-=r,s=qn(n),o=s.R(e);mr(s)&&(s=__),i=i.add(s),t=eh(t,o)}return new mc(i,t)}T.gb=function(t){return th(this,t).h};T.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ge(n,this.h&t.h)};T.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ge(n,this.h|t.h)};T.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ge(n,this.h^t.h)};function QS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ge(n,t.h)}function ho(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ge(i,t.h)}Xd.prototype.createWebChannel=Xd.prototype.g;Zt.prototype.send=Zt.prototype.u;Zt.prototype.open=Zt.prototype.m;Zt.prototype.close=Zt.prototype.close;lh.NO_ERROR=0;lh.TIMEOUT=8;lh.HTTP_ERROR=6;gA.COMPLETE="complete";mA.EventType=xc;xc.OPEN="a";xc.CLOSE="b";xc.ERROR="c";xc.MESSAGE="d";Ye.prototype.listen=Ye.prototype.O;Oe.prototype.listenOnce=Oe.prototype.P;Oe.prototype.getLastError=Oe.prototype.Sa;Oe.prototype.getLastErrorCode=Oe.prototype.Ia;Oe.prototype.getStatus=Oe.prototype.da;Oe.prototype.getResponseJson=Oe.prototype.Wa;Oe.prototype.getResponseText=Oe.prototype.ja;Oe.prototype.send=Oe.prototype.ha;Oe.prototype.setWithCredentials=Oe.prototype.Oa;wn.prototype.digest=wn.prototype.l;wn.prototype.reset=wn.prototype.reset;wn.prototype.update=wn.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=qn;ge.fromString=JA;var XA=In.createWebChannelTransport=function(){return new Xd},eM=In.getStatEventTarget=function(){return ch()},yh=In.ErrorCode=lh,tM=In.EventType=gA,nM=In.Event=qi,j_=In.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kte=In.FetchXmlHttpFactory=kc,Lc=In.WebChannel=mA,rM=In.XhrIo=Oe,A4=In.Md5=wn,iM=In.Integer=ge;var sM="@firebase/firestore";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Oo="10.9.0";var Zi=new Ut("@firebase/firestore");function Vc(){return Zi.logLevel}function M(t,...e){if(Zi.logLevel<=W.DEBUG){let n=e.map(dw);Zi.debug(`Firestore (${Oo}): ${t}`,...n)}}function ei(t,...e){if(Zi.logLevel<=W.ERROR){let n=e.map(dw);Zi.error(`Firestore (${Oo}): ${t}`,...n)}}function Ch(t,...e){if(Zi.logLevel<=W.WARN){let n=e.map(dw);Zi.warn(`Firestore (${Oo}): ${t}`,...n)}}function dw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function re(t="Unexpected state"){let e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function et(t,e){t||re()}function be(t,e){return t}var I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends Le{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var bh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},q_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}},G_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},W_=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new bh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new Je(e)}},K_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Q_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new K_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Y_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Z_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new Y_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function M4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Th=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=M4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var gt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ve=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new gt(0,0))}static max(){return new t(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Dh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},$e=class t extends Dh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new k(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},R4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jt=class t extends Dh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return R4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new k(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new k(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new k(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var X=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var J_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};J_.UNKNOWN_ID=-1;function x4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Ji(i,X.empty(),e)}function N4(t){return new Ji(t.readTime,t.key,-1)}var Ji=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ve.min(),X.empty(),-1)}static max(){return new t(Ve.max(),X.empty(),-1)}};function P4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var k4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",X_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function DM(t){return f(this,null,function*(){if(t.code!==I.FAILED_PRECONDITION||t.message!==k4)throw t;M("LocalStore","Unexpectedly lost primary lease")})}var E=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var ev=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Qn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ki(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=hw(r.target.error);this.V.reject(new Ki(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Ki(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(M("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new nv(n)}},Sh=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(ke())===12.2&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return M("SimpleDb","Removing database:",e),Gi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Vn())return!1;if(t.C())return!0;let e=ke(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(M("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Ki(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new k(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new k(I.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ki(e,o))},i.onupgradeneeded=s=>{M("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{M("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=ev.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),E.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(M("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},tv=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Gi(this.k.delete())}},Ki=class extends k{constructor(e,n){super(I.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function qh(t){return t.name==="IndexedDbTransactionError"}var nv=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(M("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gi(r)}add(e){return M("SimpleDb","ADD",this.store.name,e,e),Gi(this.store.add(e))}get(e){return Gi(this.store.get(e)).next(n=>(n===void 0&&(n=null),M("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return M("SimpleDb","DELETE",this.store.name,e),Gi(this.store.delete(e))}count(){return M("SimpleDb","COUNT",this.store.name),Gi(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new E((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new E((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){M("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new E((r,i)=>{n.onerror=s=>{let o=hw(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new E((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new tv(a),l=n(a.primaryKey,a.value,c);if(l instanceof E){let u=l.catch(d=>(c.done(),E.reject(d)));r.push(u)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>E.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Gi(t){return new E((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=hw(r.target.error);n(i)}})}var oM=!1;function hw(t){let e=Sh.S(ke());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new k("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oM||(oM=!0,setTimeout(()=>{throw r},0)),r}}return t}var O4=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function fw(t){return t==null}function Hc(t){return t===0&&1/t==-1/0}function F4(t){return typeof t=="number"&&Number.isInteger(t)&&!Hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var L4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ine=[...L4,"documentOverlays"],V4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],U4=V4,sne=[...U4,"indexConfiguration","indexState","indexEntries"];function aM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xt=class t{constructor(e,n){this.comparator=e,this.root=n||Yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}},vo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Yn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();let e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}};Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Nt=class t{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ah(this.data.getIterator())}getIteratorFrom(e){return new Ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ah=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Kn=class t{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Nt(Jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var rv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ti=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rv("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ti.EMPTY_BYTE_STRING=new ti("");var B4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(t){if(et(!!t),typeof t=="string"){let e=0,n=B4.exec(t);if(et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?ti.fromBase64String(t):ti.fromUint8Array(t)}function pw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function AM(t){let e=t.mapValue.fields.__previous_value__;return pw(e)?AM(e):e}function Mh(t){let e=Xi(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}var iv=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},sv=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var _h={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pw(t)?4:MM(t)?9007199254740991:10:re()}function Zn(t,e){if(t===e)return!0;let n=Co(t);if(n!==Co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mh(t).isEqual(Mh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Xi(i.timestampValue),a=Xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Eo(i.bytesValue).isEqual(Eo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qe(i.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qe(i.integerValue)===qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=qe(i.doubleValue),a=qe(s.doubleValue);return o===a?Hc(o)===Hc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Io(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(aM(o)!==aM(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Zn(o[c],a[c])))return!1;return!0}(t,e);default:return re()}}function qc(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function bo(t,e){if(t===e)return 0;let n=Co(t),r=Co(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=qe(s.integerValue||s.doubleValue),c=qe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return cM(t.timestampValue,e.timestampValue);case 4:return cM(Mh(t),Mh(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Eo(s),c=Eo(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Ee(a[l],c[l]);if(u!==0)return u}return Ee(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ee(qe(s.latitude),qe(o.latitude));return a!==0?a:Ee(qe(s.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=bo(a[l],c[l]);if(u)return u}return Ee(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===_h.mapValue&&o===_h.mapValue)return 0;if(s===_h.mapValue)return 1;if(o===_h.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let h=Ee(c[d],u[d]);if(h!==0)return h;let p=bo(a[c[d]],l[u[d]]);if(p!==0)return p}return Ee(c.length,u.length)}(t.mapValue,e.mapValue);default:throw re()}}function cM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=Xi(t),r=Xi(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function To(t){return ov(t)}function ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=ov(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ov(n.fields[o])}`;return i+"}"}(t.mapValue):re()}function av(t){return!!t&&"integerValue"in t}function gw(t){return!!t&&"arrayValue"in t}function Ih(t){return!!t&&"mapValue"in t}function Bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Kc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Wn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Bc(this.value))}};function RM(t){let e=[];return Kc(t.fields,(n,r)=>{let i=new Jt([n]);if(Ih(r)){let s=RM(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Kn(e)}var Do=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Ve.min(),Ve.min(),Ve.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ve.min(),Ve.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ve.min(),Ve.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var So=class{constructor(e,n){this.position=e,this.inclusive=n}};function lM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=bo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}var Ao=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function j4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Rh=class{},Xe=class t extends Rh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lv(e,n,r):n==="array-contains"?new hv(e,r):n==="in"?new fv(e,r):n==="not-in"?new pv(e,r):n==="array-contains-any"?new gv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uv(e,r):new dv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&Co(this.value)===Co(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ni=class t extends Rh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return xM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function xM(t){return t.op==="and"}function NM(t){return $4(t)&&xM(t)}function $4(t){for(let e of t.filters)if(e instanceof ni)return!1;return!0}function cv(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+To(t.value);if(NM(t))return t.filters.map(e=>cv(e)).join(",");{let e=t.filters.map(n=>cv(n)).join(",");return`${t.op}(${e})`}}function PM(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)}(t,e):t instanceof ni?function(r,i){return i instanceof ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PM(o,i.filters[a]),!0):!1}(t,e):void re()}function kM(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(t):t instanceof ni?function(n){return n.op.toString()+" {"+n.getFilters().map(kM).join(" ,")+"}"}(t):"Filter"}var lv=class extends Xe{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){let n=X.comparator(e.key,this.key);return this.matchesComparison(n)}},uv=class extends Xe{constructor(e,n){super(e,"in",n),this.keys=OM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},dv=class extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=OM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function OM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}var hv=class extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return gw(n)&&qc(n.arrayValue,this.value)}},fv=class extends Xe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}},pv=class extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!qc(this.value.arrayValue,n)}},gv=class extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!gw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}};var mv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function dM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new mv(t,e,n,r,i,s,o)}function mw(t){let e=be(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>To(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>To(r)).join(",")),e.ce=n}return e.ce}function yw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uM(t.startAt,e.startAt)&&uM(t.endAt,e.endAt)}var Mo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function z4(t,e,n,r,i,s,o,a){return new Mo(t,e,n,r,i,s,o,a)}function H4(t){return new Mo(t)}function hM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q4(t){return t.collectionGroup!==null}function jc(t){let e=be(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Nt(Jt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ao(s,r))}),n.has(Jt.keyField().canonicalString())||e.le.push(new Ao(Jt.keyField(),r))}return e.le}function Qi(t){let e=be(t);return e.he||(e.he=G4(e,jc(t))),e.he}function G4(t,e){if(t.limitType==="F")return dM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ao(i.field,s)});let n=t.endAt?new So(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new So(t.startAt.position,t.startAt.inclusive):null;return dM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yv(t,e,n){return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function FM(t,e){return yw(Qi(t),Qi(e))&&t.limitType===e.limitType}function LM(t){return`${mw(Qi(t))}|lt:${t.limitType}`}function Uc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kM(i)).join(", ")}]`),fw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>To(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>To(i)).join(",")),`Target(${r})`}(Qi(t))}; limitType=${t.limitType})`}function _w(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of jc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=lM(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,jc(r),i)||r.endAt&&!function(o,a,c){let l=lM(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,jc(r),i))}(t,e)}function W4(t){return(e,n)=>{let r=!1;for(let i of jc(t)){let s=K4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function K4(t,e,n){let r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?bo(c,l):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}var ri=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return SM(this.inner)}size(){return this.innerSize}};var Q4=new Xt(X.comparator);function xh(){return Q4}var VM=new Xt(X.comparator);function vh(...t){let e=VM;for(let n of t)e=e.insert(n.key,n);return e}function UM(t){let e=VM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return $c()}function BM(){return $c()}function $c(){return new ri(t=>t.toString(),(t,e)=>t.isEqual(e))}var Y4=new Xt(X.comparator),Z4=new Nt(X.comparator);function pt(...t){let e=Z4;for(let n of t)e=e.add(n);return e}var J4=new Nt(Ee);function X4(){return J4}function jM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function $M(t){return{integerValue:""+t}}function eq(t,e){return F4(e)?$M(e):jM(t,e)}var Ro=class{constructor(){this._=void 0}};function tq(t,e,n){return t instanceof xo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pw(s)&&(s=AM(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof es?HM(t,e):t instanceof ts?qM(t,e):function(i,s){let o=zM(i,s),a=fM(o)+fM(i.Ie);return av(o)&&av(i.Ie)?$M(a):jM(i.serializer,a)}(t,e)}function nq(t,e,n){return t instanceof es?HM(t,e):t instanceof ts?qM(t,e):n}function zM(t,e){return t instanceof No?function(r){return av(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var xo=class extends Ro{},es=class extends Ro{constructor(e){super(),this.elements=e}};function HM(t,e){let n=GM(e);for(let r of t.elements)n.some(i=>Zn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ts=class extends Ro{constructor(e){super(),this.elements=e}};function qM(t,e){let n=GM(e);for(let r of t.elements)n=n.filter(i=>!Zn(i,r));return{arrayValue:{values:n}}}var No=class extends Ro{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function fM(t){return qe(t.integerValue||t.doubleValue)}function GM(t){return gw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof es&&i instanceof es||r instanceof ts&&i instanceof ts?Io(r.elements,i.elements,Zn):r instanceof No&&i instanceof No?Zn(r.Ie,i.Ie):r instanceof xo&&i instanceof xo}(t.transform,e.transform)}var _v=class{constructor(e,n){this.version=e,this.transformResults=n}},Yi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Po=class{};function WM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nh(t.key,Yi.none()):new ns(t.key,t.data,Yi.none());{let n=t.data,r=Wn.empty(),i=new Nt(Jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vr(t.key,r,new Kn(i.toArray()),Yi.none())}}function iq(t,e,n){t instanceof ns?function(i,s,o){let a=i.value.clone(),c=gM(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vr?function(i,s,o){if(!Eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=gM(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(KM(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zc(t,e,n,r){return t instanceof ns?function(s,o,a,c){if(!Eh(s.precondition,o))return a;let l=s.value.clone(),u=mM(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof vr?function(s,o,a,c){if(!Eh(s.precondition,o))return a;let l=mM(s.fieldTransforms,c,o),u=o.data;return u.setAll(KM(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=zM(r.transform,i||null);s!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,s))}return n||null}function pM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Io(r,i,(s,o)=>rq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ns=class extends Po{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},vr=class extends Po{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function KM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function gM(t,e,n){let r=new Map;et(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nq(o,a,n[i]))}return r}function mM(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,tq(s,o,e))}return r}var Nh=class extends Po{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vv=class extends Po{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var wv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&iq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=zc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=BM();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=WM(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(n,r)=>pM(n,r))&&Io(this.baseMutations,e.baseMutations,(n,r)=>pM(n,r))}},Iv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length);let i=function(){return Y4}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Ev=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Be,oe;function oq(t){switch(t){default:return re();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function aq(t){if(t===void 0)return ei("GRPC error has no .code"),I.UNKNOWN;switch(t){case Be.OK:return I.OK;case Be.CANCELLED:return I.CANCELLED;case Be.UNKNOWN:return I.UNKNOWN;case Be.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Be.INTERNAL:return I.INTERNAL;case Be.UNAVAILABLE:return I.UNAVAILABLE;case Be.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Be.NOT_FOUND:return I.NOT_FOUND;case Be.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Be.ABORTED:return I.ABORTED;case Be.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Be.DATA_LOSS:return I.DATA_LOSS;default:return re()}}(oe=Be||(Be={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var ane=new iM([4294967295,4294967295],0);var Cv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function bv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lq(t,e){return bv(t,e.toTimestamp())}function wo(t){return et(!!t),Ve.fromTimestamp(function(n){let r=Xi(n);return new gt(r.seconds,r.nanos)}(t))}function QM(t,e){return Tv(t,e).canonicalString()}function Tv(t,e){let n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uq(t){let e=$e.fromString(t);return et(_q(e)),e}function Dv(t,e){return QM(t.databaseId,e.path)}function dq(t){let e=uq(t);return e.length===4?$e.emptyPath():fq(e)}function hq(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fq(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yM(t,e,n){return{name:Dv(t,e),fields:n.value.mapValue.fields}}function pq(t,e){let n;if(e instanceof ns)n={update:yM(t,e.key,e.value)};else if(e instanceof Nh)n={delete:Dv(t,e.key)};else if(e instanceof vr)n={update:yM(t,e.key,e.data),updateMask:yq(e.fieldMask)};else{if(!(e instanceof vv))return re();n={verify:Dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof xo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof es)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ts)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof No)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:lq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(t,e.precondition)),n}function gq(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?wo(i.updateTime):wo(s);return o.isEqual(Ve.min())&&(o=wo(s)),new _v(o,i.transformResults||[])}(n,e))):[]}function mq(t){let e=dq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){et(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let h=YM(d);return h instanceof ni&&NM(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new Ao(_o(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,fw(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new So(p,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let h=!d.before,p=d.values||[];return new So(p,h)}(n.endAt)),z4(e,i,o,s,a,"F",c,l)}function YM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=_o(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_o(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=_o(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=_o(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(_o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ni.create(n.compositeFilter.filters.map(r=>YM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function _o(t){return Jt.fromServerFormat(t.fieldPath)}function yq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _q(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Sv=class{constructor(e){this.ct=e}};function vq(t){let e=mq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yv(e,e.limit,"L"):e}var Ph=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(qe(e.integerValue));else if("doubleValue"in e){let r=qe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Hc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Eo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?MM(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):re()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),X.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Ph.bt=new Ph;var Av=class{constructor(){this._n=new Mv}addToCollectionParentIndex(e,n){return this._n.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(Ji.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}},Mv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt($e.comparator)).toArray()}};var cne=new Uint8Array(0);var Gn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(41943040,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);var Gc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Rv=class{constructor(){this.changes=new ri(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Do.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Nv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zc(r.mutation,i,Kn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){let i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xh(),o=$c(),a=function(){return $c()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof vr)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),zc(u.mutation,l,u.mutation.getFieldMask(),gt.now())):o.set(l.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new xv(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=$c(),i=new Xt((o,a)=>o-a),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||Kn.empty();u=a.applyToLocalView(l,u),r.set(c,u);let d=(i.get(a.batchId)||pt()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=BM();u.forEach(h=>{if(!s.has(h)){let p=WM(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(Wi()),a=-1,c=s;return o.next(l=>E.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?E.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,pt())).next(u=>({batchId:a,changes:UM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=vh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=vh();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,c=>{let l=function(d,h){return new Mo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,Do.newInvalidDocument(u)))});let a=vh();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&zc(u.mutation,l,Kn.empty(),gt.now()),_w(n,l)&&(a=a.insert(c,l))}),a})}};var Pv=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return E.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wo(i.createTime)}}(n)),E.resolve()}getNamedQuery(e,n){return E.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:vq(i.bundledQuery),readTime:wo(i.readTime)}}(n)),E.resolve()}};var kv=class{constructor(){this.overlays=new Xt(X.comparator),this.hr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Wi();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){let i=Wi(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xt((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=Wi(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Wi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return E.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ev(n,r));let s=this.hr.get(n);s===void 0&&(s=pt(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Wc=class{constructor(){this.Pr=new Nt(je.Ir),this.Tr=new Nt(je.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new je(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new je(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new X(new $e([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new X(new $e([])),r=new je(n,e),i=new je(n,e+1),s=pt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new je(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return X.comparator(e.key,n.key)||Ee(e.pr,n.pr)}static Er(e,n){return Ee(e.pr,n.pr)||X.comparator(e.key,n.key)}};var Ov=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Nt(je.Ir)}checkEmpty(e){return E.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new wv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Ee);return n.forEach(i=>{let s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),E.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;X.isDocumentKey(s)||(s=s.child(""));let o=new je(new X(s),0),a=new Nt(Ee);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),E.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return E.forEach(n.mutations,i=>{let s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new je(n,0),i=this.wr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,E.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Fv=class{constructor(e){this.vr=e,this.docs=function(){return new Xt(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():Do.newInvalidDocument(n))}getEntries(e,n){let r=xh();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Do.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xh(),o=n.path,a=new X(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||P4(N4(u),r)<=0||(i.has(u.key)||_w(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}Fr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lv(this)}getSize(e){return E.resolve(this.size)}},Lv=class extends Rv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Vv=class{constructor(e){this.persistence=e,this.Mr=new ri(n=>mw(n),yw),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wc,this.targetCount=0,this.Lr=Gc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),E.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Gc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.qn(n),E.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),E.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Nr.containsKey(n))}};var Uv=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new O4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Vv(this),this.indexManager=new Av,this.remoteDocumentCache=function(i){return new Fv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Sv(n),this.$r=new Pv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ov(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);let i=new Bv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return E.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Bv=class extends X_{constructor(e){super(),this.currentSequenceNumber=e}},jv=class t{constructor(e){this.persistence=e,this.zr=new Wc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw re()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),E.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Jr,r=>{let i=X.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return E.or([()=>E.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var $v=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=pt(),i=pt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var zv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Hv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return AD()?8:Sh.v(ke())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new zv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Vc()<=W.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",Uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),E.resolve()):(Vc()<=W.DEBUG&&M("QueryEngine","Query:",Uc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Vc()<=W.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",Uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):E.resolve())}ji(e,n){if(hM(n))return E.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yv(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,yv(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return hM(n)||i.isEqual(Ve.min())?E.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?E.resolve(null):(Vc()<=W.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uc(n)),this.es(e,o,n,x4(i,-1)).next(a=>a))})}Zi(e,n){let r=new Nt(W4(e));return n.forEach((i,s)=>{_w(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Vc()<=W.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",Uc(n)),this.zi.getDocumentsMatchingQuery(e,n,Ji.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var qv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Xt(Ee),this.rs=new ri(s=>mw(s),yw),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function wq(t,e,n,r){return new qv(t,e,n,r)}function ZM(t,e){return f(this,null,function*(){let n=be(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=pt();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Iq(t,e){let n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,h=d.keys(),p=E.resolve();return h.forEach(y=>{p=p.next(()=>u.getEntry(c,y)).next(v=>{let w=l.docVersions.get(y);et(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Eq(t){let e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Cq(t,e){let n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var kh=class{constructor(){this.activeTargetIds=X4()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Gv=class{constructor(){this.no=new kh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new kh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Wv=class{io(e){}shutdown(){}};var Oh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wh=null;function $_(){return wh===null?wh=function(){return 268435456+Math.round(2147483648*Math.random())}():wh++,"0x"+wh.toString(16)}var bq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Kv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var ft="WebChannelConnection",Qv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=$_(),c=this.bo(n,r.toUriEncodedString());M("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,c,l,i).then(u=>(M("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ch("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=bq[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=$_();return new Promise((o,a)=>{let c=new rM;c.setWithCredentials(!0),c.listenOnce(tM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yh.NO_ERROR:let u=c.getResponseJson();M(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case yh.TIMEOUT:M(ft,`RPC '${e}' ${s} timed out`),a(new k(I.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:let d=c.getStatus();if(M(ft,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let y=function(w){let A=w.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(A)>=0?A:I.UNKNOWN}(p.status);a(new k(y,p.message))}else a(new k(I.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new k(I.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{M(ft,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);M(ft,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Fo(e,n,r){let i=$_(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XA(),a=eM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=s.join("");M(ft,`Creating RPC '${e}' stream ${i}: ${u}`,c);let d=o.createWebChannel(u,c),h=!1,p=!1,y=new Kv({lo:w=>{p?M(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(M(ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),M(ft,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),v=(w,A,z)=>{w.listen(A,Y=>{try{z(Y)}catch(se){setTimeout(()=>{throw se},0)}})};return v(d,Lc.EventType.OPEN,()=>{p||M(ft,`RPC '${e}' stream ${i} transport opened.`)}),v(d,Lc.EventType.CLOSE,()=>{p||(p=!0,M(ft,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),v(d,Lc.EventType.ERROR,w=>{p||(p=!0,Ch(ft,`RPC '${e}' stream ${i} transport errored:`,w),y.Vo(new k(I.UNAVAILABLE,"The operation could not be completed")))}),v(d,Lc.EventType.MESSAGE,w=>{var A;if(!p){let z=w.data[0];et(!!z);let Y=z,se=Y.error||((A=Y[0])===null||A===void 0?void 0:A.error);if(se){M(ft,`RPC '${e}' stream ${i} received error:`,se);let nt=se.status,Ae=function(ui){let gs=Be[ui];if(gs!==void 0)return aq(gs)}(nt),kt=se.message;Ae===void 0&&(Ae=I.INTERNAL,kt="Unknown error status: "+nt+" with message "+se.message),p=!0,y.Vo(new k(Ae,kt)),d.close()}else M(ft,`RPC '${e}' stream ${i} received:`,z),y.mo(z)}}),v(a,nM.STAT_EVENT,w=>{w.stat===j_.PROXY?M(ft,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===j_.NOPROXY&&M(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}};function z_(){return typeof document<"u"?document:null}function Gh(t){return new Cv(t,!0)}var Fh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Yv=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Fh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new k(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Zv=class extends Yv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=gq(e.writeResults,e.commitTime),r=wo(e.commitTime);return this.listener.T_(r,n)}return et(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=hq(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>pq(this.serializer,r))};this.t_(n)}};var Jv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new k(I.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Tv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(I.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Tv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(I.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Xv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ei(n),this.g_=!1):M("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var ew=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>f(this,null,function*(){Yc(this)&&(M("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let l=be(c);l.v_.add(4),yield Qc(l),l.x_.set("Unknown"),l.v_.delete(4),yield Wh(l)})}(this))}))}),this.x_=new Xv(r,i)}};function Wh(t){return f(this,null,function*(){if(Yc(t))for(let e of t.F_)yield e(!0)})}function Qc(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function Yc(t){return be(t).v_.size===0}function JM(t,e,n){return f(this,null,function*(){if(!qh(e))throw e;t.v_.add(1),yield Qc(t),t.x_.set("Offline"),n||(n=()=>Eq(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){M("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Wh(t)}))})}function XM(t,e){return e().catch(n=>JM(t,n,e))}function Kh(t){return f(this,null,function*(){let e=be(t),n=ii(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Tq(e);)try{let i=yield Cq(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Dq(e,i)}catch(i){yield JM(e,i)}eR(e)&&tR(e)})}function Tq(t){return Yc(t)&&t.D_.length<10}function Dq(t,e){t.D_.push(e);let n=ii(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function eR(t){return Yc(t)&&!ii(t).Ho()&&t.D_.length>0}function tR(t){ii(t).start()}function Sq(t){return f(this,null,function*(){ii(t).d_()})}function Aq(t){return f(this,null,function*(){let e=ii(t);for(let n of t.D_)e.I_(n.mutations)})}function Mq(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=Iv.from(r,e,n);yield XM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Kh(t)})}function Rq(t,e){return f(this,null,function*(){e&&ii(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return oq(o)&&o!==I.ABORTED}(i.code)){let s=r.D_.shift();ii(r).Zo(),yield XM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Kh(r)}})}(t,e)),eR(t)&&tR(t)})}function _M(t,e){return f(this,null,function*(){let n=be(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");let r=Yc(n);n.v_.add(3),yield Qc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Wh(n)})}function xq(t,e){return f(this,null,function*(){let n=be(t);e?(n.v_.delete(2),yield Wh(n)):e||(n.v_.add(2),yield Qc(n),n.x_.set("Unknown"))})}function ii(t){return t.L_||(t.L_=function(n,r,i){let s=be(n);return s.R_(),new Zv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Sq.bind(null,t),To:Rq.bind(null,t),E_:Aq.bind(null,t),T_:Mq.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.L_.Zo(),yield Kh(t)):(yield t.L_.stop(),t.D_.length>0&&(M("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var tw=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nR(t,e){if(ei("AsyncQueue",`${e}: ${t}`),qh(t))return new k(I.UNAVAILABLE,`${e}: ${t}`);throw t}var nw=class{constructor(){this.queries=new ri(e=>LM(e),FM),this.onlineState="Unknown",this.W_=new Set}};function Nq(t){t.W_.forEach(e=>{e.next()})}var vM,wM;(wM=vM||(vM={})).j_="default",wM.Cache="cache";var rw=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ri(a=>LM(a),FM),this.Sa=new Map,this.ba=new Set,this.Da=new Xt(X.comparator),this.Ca=new Map,this.va=new Wc,this.Fa={},this.Ma=new Map,this.xa=Gc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function Pq(t,e,n){return f(this,null,function*(){let r=Lq(t);try{let i=yield function(o,a){let c=be(o),l=gt.now(),u=a.reduce((p,y)=>p.add(y.key),pt()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=xh(),v=pt();return c.os.getEntries(p,u).next(w=>{y=w,y.forEach((A,z)=>{z.isValidDocument()||(v=v.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(w=>{d=w;let A=[];for(let z of a){let Y=sq(z,d.get(z.key).overlayedDocument);Y!=null&&A.push(new vr(z.key,Y,RM(Y.value.mapValue),Yi.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,A,a)}).next(w=>{h=w;let A=w.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(p,w.batchId,A)})}).then(()=>({batchId:h.batchId,changes:UM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Fa[o.currentUser.toKey()];l||(l=new Xt(Ee)),l=l.insert(a,c),o.Fa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Qh(r,i.changes),yield Kh(r.remoteStore)}catch(i){let s=nR(i,"Failed to persist write");n.reject(s)}})}function IM(t,e,n){let r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=be(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let h of d.Q_)h.G_(a)&&(l=!0)}),l&&Nq(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kq(t,e){return f(this,null,function*(){let n=be(t),r=e.batch.batchId;try{let i=yield Iq(n.localStore,e);iR(n,r,null),rR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Qh(n,i)}catch(i){yield DM(i)}})}function Oq(t,e,n){return f(this,null,function*(){let r=be(t);try{let i=yield function(o,a){let c=be(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(et(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);iR(r,e,n),rR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Qh(r,i)}catch(i){yield DM(i)}})}function rR(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function iR(t,e,n){let r=be(t),i=r.Fa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Qh(t,e,n){return f(this,null,function*(){let r=be(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let u=$v.Ki(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,l){return f(this,null,function*(){let u=be(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(l,h=>E.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>E.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!qh(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let p=u.ns.get(h),y=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(y);u.ns=u.ns.insert(h,v)}}})}(r.localStore,s))})}function Fq(t,e){return f(this,null,function*(){let n=be(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());let r=yield ZM(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new k(I.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qh(n,r.us)}})}function Lq(t){let e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oq.bind(null,e),e}var Lh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wq(this.persistence,new Hv,e.initialUser,this.serializer)}createPersistence(e){return new Uv(jv.Hr,this.serializer)}createSharedClientState(e){return new Gv}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var iw=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fq.bind(null,this.syncEngine),yield xq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new nw}()}createDatastore(e){let n=Gh(e.databaseInfo.databaseId),r=function(s){return new Qv(s)}(e.databaseInfo);return function(s,o,a,c){return new Jv(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new ew(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>IM(this.syncEngine,n,0),function(){return Oh.D()?new Oh:new Wv}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){let d=new rw(i,s,o,a,c,l);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=be(r);M("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Qc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var sw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=Th.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){M("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(M("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=nR(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function H_(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield ZM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function EM(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Uq(t);M("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_M(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_M(e.remoteStore,i)),t._onlineComponents=e})}function Vq(t){return t.name==="FirebaseError"?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Uq(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{yield H_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Vq(n))throw n;Ch("Error using user provided cache. Falling back to memory cache: "+n),yield H_(t,new Lh)}}else M("FirestoreClient","Using default OfflineComponentProvider"),yield H_(t,new Lh);return t._offlineComponents})}function Bq(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),yield EM(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),yield EM(t,new iw))),t._onlineComponents})}function jq(t){return Bq(t).then(e=>e.syncEngine)}function sR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var CM=new Map;function oR(t,e,n){if(!n)throw new k(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $q(t,e,n,r){if(e===!0&&r===!0)throw new k(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bM(t){if(!X.isDocumentKey(t))throw new k(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TM(t){if(X.isDocumentKey(t))throw new k(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function aR(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vw(t);throw new k(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Vh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$q("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new k(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new k(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new k(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ko=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new k(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q_;switch(r.type){case"firstParty":return new Q_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=CM.get(n);r&&(M("ComponentProvider","Removing Datastore"),CM.delete(n),r.terminate())}(this),Promise.resolve()}};function cR(t,e,n,r={}){var i;let s=(t=aR(t,ko))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ch("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Je.MOCK_USER;else{a=co(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new k(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Je(l)}t._authCredentials=new G_(new bh(a,c))}}var ow=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},_r=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Xr=class t extends ow{constructor(e,n,r){super(e,n,H4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new X(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function lR(t,e,...n){if(t=Ie(t),oR("collection","path",e),t instanceof ko){let r=$e.fromString(e,...n);return TM(r),new Xr(t,null,r)}{if(!(t instanceof _r||t instanceof Xr))throw new k(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return TM(r),new Xr(t.firestore,null,r)}}function uR(t,e,...n){if(t=Ie(t),arguments.length===1&&(e=Th.newId()),oR("doc","path",e),t instanceof ko){let r=$e.fromString(e,...n);return bM(r),new _r(t,null,new X(r))}{if(!(t instanceof _r||t instanceof Xr))throw new k(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return bM(r),new _r(t.firestore,t instanceof Xr?t.converter:null,new X(r))}}var aw=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Fh(this,"async_queue_retry"),this.cu=()=>{let n=z_();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=z_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=z_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Qn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return f(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!qh(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=tw.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&re()}verifyOperationInProgress(){}Tu(){return f(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Uh=class extends ko{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new aw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hR(this),this._firestoreClient.terminate()}};function dR(t,e){let n=typeof t=="object"?t:Mt(),r=typeof t=="string"?t:e||"(default)",i=st(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ao("firestore");s&&cR(i,...s)}return i}function zq(t){return t._firestoreClient||hR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,u){return new iv(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,sR(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sw(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Bh=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ti.fromBase64String(e))}catch(n){throw new k(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var jh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $h=class{constructor(e){this._methodName=e}};var zh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var Hq=/^__.*__$/,cw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ns(e,this.data,n,this.fieldTransforms)}};function fR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var lw=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Hh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(fR(this.Vu)&&Hq.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},uw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gh(e)}Cu(e,n,r,i=!1){return new lw({Vu:e,methodName:n,Du:r,path:Jt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qq(t){let e=t._freezeSettings(),n=Gh(t._databaseId);return new uw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gq(t,e,n,r,i,s={}){let o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);yR("Data must be an object, but it was:",o,r);let a=gR(r,o),c,l;if(s.merge)c=new Kn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let h=Wq(e,d,n);if(!o.contains(h))throw new k(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Yq(u,h)||u.push(h)}c=new Kn(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new cw(new Wn(a),c,l)}function pR(t,e){if(mR(t=Ie(t)))return yR("Unsupported field value:",e,t),gR(t,e);if(t instanceof $h)return function(r,i){if(!fR(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=pR(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ie(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=gt.fromDate(r);return{timestampValue:bv(i.serializer,s)}}if(r instanceof gt){let s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bv(i.serializer,s)}}if(r instanceof zh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bh)return{bytesValue:cq(i.serializer,r._byteString)};if(r instanceof _r){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:QM(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${vw(r)}`)}(t,e)}function gR(t,e){let n={};return SM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kc(t,(r,i)=>{let s=pR(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof zh||t instanceof Bh||t instanceof _r||t instanceof $h)}function yR(t,e,n){if(!mR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=vw(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Wq(t,e,n){if((e=Ie(e))instanceof jh)return e._internalPath;if(typeof e=="string")return Qq(t,e);throw Hh("Field path arguments must be of type string or ",t,!1,void 0,n)}var Kq=new RegExp("[~\\*/\\[\\]]");function Qq(t,e,n){if(e.search(Kq)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new k(I.INVALID_ARGUMENT,a+t+c)}function Yq(t,e){return t.some(n=>n.isEqual(e))}function Zq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function _R(t,e){let n=aR(t.firestore,Uh),r=uR(t),i=Zq(t.converter,e);return Jq(n,[Gq(qq(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yi.exists(!1))]).then(()=>r)}function Jq(t,e){return function(r,i){let s=new Qn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Pq(yield jq(r),i,s)})),s.promise}(zq(t),e)}(function(e,n=!0){(function(i){Oo=i})(Bt),Ue(new Se("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Uh(new W_(r.getProvider("auth-internal")),new Z_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sv(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),V(sM,"4.5.0",e),V(sM,"4.5.0","esm2017")})();var si=class{constructor(e){return e}},vR="firestore",ww=class{constructor(){return Yt(vR)}};var Iw=new R("angularfire2.firestore-instances");function Xq(t,e){let n=ln(vR,t,e);return n&&new si(n)}function eG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new si(r)}}var tG={provide:ww,deps:[[new he,Iw]]},nG={provide:si,useFactory:Xq,deps:[[new he,Iw],at]},rG=(()=>{class t{constructor(){V("angularfire",ot.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Me({providers:[nG,tG]})}return t})();function wR(t,...e){return{ngModule:rG,providers:[{provide:Iw,useFactory:eG(t),multi:!0,deps:[B,we,jt,Rt,[new he,gr],[new he,jn],...e]}]}}var IR=He(_R,!0);var ER=He(lR,!0);var CR=He(dR,!0);var NR=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ne(Vr),ne(Tt))},e.\u0275dir=bt({type:e});let t=e;return t})(),iG=(()=>{let e=class e extends NR{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ba(e)))(s||e)}})(),e.\u0275dir=bt({type:e,features:[Ur]});let t=e;return t})(),PR=new R("");var sG={provide:PR,useExisting:Hs(()=>sf),multi:!0};function oG(){let t=ur()?ur().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var aG=new R(""),sf=(()=>{let e=class e extends NR{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!oG())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Vr),ne(Tt),ne(aG,8))},e.\u0275dir=bt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Br("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Ks([sG]),Ur]});let t=e;return t})();function oi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function kR(t){return t!=null&&typeof t.length=="number"}var OR=new R(""),FR=new R(""),cG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ai=class{static min(e){return lG(e)}static max(e){return uG(e)}static required(e){return dG(e)}static requiredTrue(e){return hG(e)}static email(e){return fG(e)}static minLength(e){return pG(e)}static maxLength(e){return gG(e)}static pattern(e){return mG(e)}static nullValidator(e){return LR(e)}static compose(e){return zR(e)}static composeAsync(e){return qR(e)}};function lG(t){return e=>{if(oi(e.value)||oi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function uG(t){return e=>{if(oi(e.value)||oi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function dG(t){return oi(t.value)?{required:!0}:null}function hG(t){return t.value===!0?null:{required:!0}}function fG(t){return oi(t.value)||cG.test(t.value)?null:{email:!0}}function pG(t){return e=>oi(e.value)||!kR(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function gG(t){return e=>kR(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function mG(t){if(!t)return LR;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(oi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function LR(t){return null}function VR(t){return t!=null}function UR(t){return Di(t)?ve(t):t}function BR(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function jR(t,e){return e.map(n=>n(t))}function yG(t){return!t.validate}function $R(t){return t.map(e=>yG(e)?e:n=>e.validate(n))}function zR(t){if(!t)return null;let e=t.filter(VR);return e.length==0?null:function(n){return BR(jR(n,e))}}function HR(t){return t!=null?zR($R(t)):null}function qR(t){if(!t)return null;let e=t.filter(VR);return e.length==0?null:function(n){let r=jR(n,e).map(UR);return Yf(r).pipe(K(BR))}}function GR(t){return t!=null?qR($R(t)):null}function bR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WR(t){return t._rawValidators}function KR(t){return t._rawAsyncValidators}function Ew(t){return t?Array.isArray(t)?t:[t]:[]}function Jh(t,e){return Array.isArray(t)?t.includes(e):t===e}function TR(t,e){let n=Ew(e);return Ew(t).forEach(i=>{Jh(n,i)||n.push(i)}),n}function DR(t,e){return Ew(e).filter(n=>!Jh(t,n))}var Xh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Lo=class extends Xh{get formDirective(){return null}get path(){return null}},Xc=class extends Xh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ef=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},_G={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Kre=le(D({},_G),{"[class.ng-submitted]":"isSubmitted"}),QR=(()=>{let e=class e extends ef{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Xc,2))},e.\u0275dir=bt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ou("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ur]});let t=e;return t})(),YR=(()=>{let e=class e extends ef{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Lo,10))},e.\u0275dir=bt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ou("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ur]});let t=e;return t})();var Zc="VALID",Yh="INVALID",Fo="PENDING",Jc="DISABLED";function Tw(t){return(of(t)?t.validators:t)||null}function vG(t){return Array.isArray(t)?HR(t):t||null}function Dw(t,e){return(of(e)?e.asyncValidators:t)||null}function wG(t){return Array.isArray(t)?GR(t):t||null}function of(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ZR(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new O(1e3,"");if(!r[n])throw new O(1001,"")}function JR(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new O(1002,"")})}var Vo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zc}get invalid(){return this.status===Yh}get pending(){return this.status==Fo}get disabled(){return this.status===Jc}get enabled(){return this.status!==Jc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DR(e,this._rawAsyncValidators))}hasValidator(e){return Jh(this._rawValidators,e)}hasAsyncValidator(e){return Jh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this.errors=null,this._forEachChild(r=>{r.disable(le(D({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this._forEachChild(r=>{r.enable(le(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zc||this.status===Fo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jc:Zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fo,this._hasOwnPendingAsyncValidator=!0;let n=UR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Jc:this.errors?Yh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fo)?Fo:this._anyControlsHaveStatus(Yh)?Yh:Zc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){of(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wG(this._rawAsyncValidators)}},tf=class extends Vo{constructor(e,n,r){super(Tw(n),Dw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){JR(this,!0,e),Object.keys(e).forEach(r=>{ZR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Cw=class extends tf{};var XR=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Sw}),Sw="always";function IG(t,e){return[...e.path,t]}function SR(t,e,n=Sw){Aw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),CG(t,e),TG(t,e),bG(t,e),EG(t,e)}function AR(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),rf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function nf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function EG(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Aw(t,e){let n=WR(t);e.validator!==null?t.setValidators(bR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=KR(t);e.asyncValidator!==null?t.setAsyncValidators(bR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();nf(e._rawValidators,i),nf(e._rawAsyncValidators,i)}function rf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=WR(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=KR(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return nf(e._rawValidators,r),nf(e._rawAsyncValidators,r),n}function CG(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ex(t,e)})}function bG(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ex(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ex(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function TG(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function DG(t,e){t==null,Aw(t,e)}function SG(t,e){return rf(t,e)}function AG(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function MG(t){return Object.getPrototypeOf(t.constructor)===iG}function RG(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function xG(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===sf?n=s:MG(s)?r=s:i=s}),i||r||n||null}function NG(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function MR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Zh=class extends Vo{constructor(e=null,n,r){super(Tw(n),Dw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),of(n)&&(n.nonNullable||n.initialValueIsDefault)&&(RR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var PG=t=>t instanceof Zh;var tx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var nx=new R("");var kG={provide:Lo,useExisting:Hs(()=>Mw)},Mw=(()=>{let e=class e extends Lo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return SR(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){AR(r.control||null,r,!1),NG(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,RG(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(AR(i||null,r),PG(s)&&(SR(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);DG(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&SG(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Aw(this.form,this),this._oldForm&&rf(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(ne(OR,10),ne(FR,10),ne(XR,8))},e.\u0275dir=bt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Br("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[ut.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ks([kG]),Ur,Pn]});let t=e;return t})();var OG={provide:Xc,useExisting:Hs(()=>Rw)},Rw=(()=>{let e=class e extends Xc{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new We,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=xG(this,o)}ngOnChanges(r){this._added||this._setUpControl(),AG(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return IG(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(ne(Lo,13),ne(OR,10),ne(FR,10),ne(PR,10),ne(nx,8))},e.\u0275dir=bt({type:e,selectors:[["","formControlName",""]],inputs:{name:[ut.None,"formControlName","name"],isDisabled:[ut.None,"disabled","isDisabled"],model:[ut.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ks([OG]),Ur,Pn]});let t=e;return t})();var FG=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=Me({});let t=e;return t})(),bw=class extends Vo{constructor(e,n,r){super(Tw(n),Dw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){JR(this,!1,e),e.forEach((r,i)=>{ZR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function xR(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var rx=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return xR(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new tf(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Cw(s,i)}control(r,i,s){let o={};return this.useNonNullable?(xR(i)?o=i:(o.validators=i,o.asyncValidators=s),new Zh(r,le(D({},o),{nonNullable:!0}))):new Zh(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new bw(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Zh)return r;if(r instanceof Vo)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ix=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:nx,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:XR,useValue:r.callSetDisabledState??Sw}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=Me({imports:[FG]});let t=e;return t})();var sx=(()=>{let e=class e{constructor(r){this.fb=r,this.firestore=C(si),this.createContactForm()}createContactForm(){this.contactForm=this.fb.group({name:["",[ai.required]],email:["",[ai.required,ai.email]],phone:["",[ai.required]],message:["",[ai.required]]})}onSubmit(){return f(this,null,function*(){if(this.contactForm.valid)try{let r=yield IR(ER(this.firestore,"contacts"),this.contactForm.value);console.log("Document written with ID: ",r.id),this.contactForm.reset()}catch(r){console.error("Error adding document: ",r)}})}};e.\u0275fac=function(i){return new(i||e)(ne(rx))},e.\u0275cmp=ee({type:e,selectors:[["app-contact"]],standalone:!0,features:[Ks([si]),te],decls:90,vars:1,consts:[[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"text-center","text-sm-left","section-50","section-sm-top-100","section-sm-bottom-100"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-md-8"],[1,"font-default","text-center"],[1,"text-center"],[1,"form-contact-line","text-left","offset-top-35",3,"ngSubmit","formGroup"],[1,"form-inline-flex"],[1,"form-group"],["for","contact-name",1,"form-label","form-label-outside"],["id","contact-name","type","text","placeholder","Your Name","formControlName","name",1,"form-control"],["for","contact-email",1,"form-label","form-label-outside"],["id","contact-email","type","email","placeholder","Your Email","formControlName","email",1,"form-control"],[1,"form-group","offset-top-15"],["for","contact-phone",1,"form-label","form-label-outside"],["id","contact-phone","type","text","placeholder","Your Phone Number","formControlName","phone",1,"form-control"],["for","message",1,"form-label","form-label-outside"],["id","message","placeholder","Your Message","formControlName","message",1,"form-control"],[1,"offset-top-15"],["type","submit",1,"btn","btn-primary","btn-fullwidth"],[1,"cell-md-4","offset-top-50","offset-md-top-0","text-left"],[1,"inset-lg-left-70"],[1,"range"],[1,"cell-xs-6","cell-md-12"],[1,"h6","text-uppercase"],[1,"text-subline","offset-top-15"],[1,"offset-top-25"],[1,"list-inline"],["href","https://www.facebook.com/YourBackstageBilliardsPage","aria-label","Facebook",1,"icon","icon-xs","link-gray-light","fa-facebook"],["href","https://twitter.com/YourBackstageBilliardsProfile","aria-label","Twitter",1,"icon","icon-xs","link-gray-light","fa-twitter"],["href","https://plus.google.com/YourBackstageBilliardsPage","aria-label","Google Plus",1,"icon","icon-xs","link-gray-light","fa-google-plus"],["href","https://www.instagram.com/YourBackstageBilliardsProfile","aria-label","Instagram",1,"icon","icon-xs","link-gray-light","fa-instagram"],[1,"cell-xs-6","cell-md-12","offset-top-50"],[1,"unit","unit-horizontal","unit-middle","unit-spacing-xs"],[1,"unit-left"],[1,"icon","icon-xs","icon-primary","text-middle","mdi","mdi-phone"],[1,"unit-body"],["href","tel:407-345-0323",1,"link-default"],[1,"offset-top-25","unit","unit-horizontal","unit-spacing-xs"],[1,"icon","icon-xs","icon-primary","text-middle","mdi","mdi-map-marker"],["href","#",1,"link-default"],[1,"icon","icon-xs","icon-primary","mdi","mdi-clock","text-middle"],[1,"text-dark","inset-left-5"]],template:function(i,s){i&1&&(g(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),_(5,"Contact Backstage Billiards"),m(),g(6,"ul",5)(7,"li")(8,"a",6),_(9,"Home"),m()(),g(10,"li",7),_(11,"Contact"),m()()()()()(),g(12,"section",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h4",12),_(17,"Connect with Us"),m(),g(18,"p",13),_(19,"Reach out for questions, reservations, or just to say hello. We're here to ensure your experience at Backstage Billiards is unforgettable. Use our contact form or the information below to get in touch."),m(),g(20,"form",14),Br("ngSubmit",function(){return s.onSubmit()}),g(21,"div",15)(22,"div",16)(23,"label",17),_(24,"Name"),m(),S(25,"input",18),m(),g(26,"div",16)(27,"label",19),_(28,"E-mail"),m(),S(29,"input",20),m()(),g(30,"div",21)(31,"label",22),_(32,"Phone"),m(),S(33,"input",23),m(),g(34,"div",21)(35,"label",24),_(36,"Message"),m(),S(37,"textarea",25),m(),g(38,"div",26)(39,"button",27),_(40,"Send Message"),m()()()(),g(41,"div",28)(42,"aside",29)(43,"div",30)(44,"div",31)(45,"div",32),_(46,"Follow Us on Social Media"),m(),S(47,"div",33),g(48,"div",34)(49,"ul",35)(50,"ul",35)(51,"li"),S(52,"a",36),m(),g(53,"li"),S(54,"a",37),m(),g(55,"li"),S(56,"a",38),m(),g(57,"li"),S(58,"a",39),m()()()()(),g(59,"div",40)(60,"div",32),_(61,"Phone"),m(),S(62,"div",33),g(63,"div",34)(64,"div",41)(65,"div",42),S(66,"span",43),m(),g(67,"div",44)(68,"a",45),_(69,"407-345-0323"),m()()()()(),g(70,"div",40)(71,"div",32),_(72,"Address"),m(),S(73,"div",33),g(74,"div",46)(75,"div",42),S(76,"span",47),m(),g(77,"div",44)(78,"a",48),_(79,"8957 International Drive Orlando, FL 32819"),m()()()(),g(80,"div",40)(81,"div",32),_(82,"Operating Hours"),m(),S(83,"div",33),g(84,"div",46)(85,"div",42),S(86,"span",49),m(),g(87,"div",44)(88,"span",50),_(89,"3:00 PM to 2:15 AM daily"),m()()()()()()()()()()),i&2&&(wb(20),qg("formGroup",s.contactForm))},dependencies:[ix,tx,sf,QR,YR,Mw,Rw]});let t=e;return t})();var ox=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-tournaments"]],standalone:!0,features:[te],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"tournaments works!"),m())}});let t=e;return t})();var ax=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-gallery"]],standalone:!0,features:[te],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"gallery works!"),m())}});let t=e;return t})();var cx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-partners"]],standalone:!0,features:[te],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"partners works!"),m())}});let t=e;return t})();var lx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-faq"]],standalone:!0,features:[te],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"faq works!"),m())}});let t=e;return t})();var ux=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-blog"]],standalone:!0,features:[te],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"blog works!"),m())}});let t=e;return t})();var dx=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:wD},{path:"about",component:ID},{path:"menu",component:ED},{path:"contact",component:sx},{path:"tournaments",component:ox},{path:"gallery",component:ax},{path:"partners",component:cx},{path:"faq",component:lx},{path:"blog",component:ux}];var px="@firebase/installations",kw="0.6.5";var gx=1e4,mx=`w:${kw}`,yx="FIS_v2",VG="https://firebaseinstallations.googleapis.com/v1",UG=60*60*1e3,BG="installations",jG="Installations";var $G={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},is=new At(BG,jG,$G);function _x(t){return t instanceof Le&&t.code.includes("request-failed")}function vx({projectId:t}){return`${VG}/projects/${t}/installations`}function wx(t){return{token:t.token,requestStatus:2,expiresIn:HG(t.expiresIn),creationTime:Date.now()}}function Ix(t,e){return f(this,null,function*(){let r=(yield e.json()).error;return is.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Ex({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zG(t,{refreshToken:e}){let n=Ex(t);return n.append("Authorization",qG(e)),n}function Cx(t){return f(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function HG(t){return Number(t.replace("s","000"))}function qG(t){return`${yx} ${t}`}function GG(r,i){return f(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=vx(t),o=Ex(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let c={fid:n,authVersion:yx,appId:t.appId,sdkVersion:mx},l={method:"POST",headers:o,body:JSON.stringify(c)},u=yield Cx(()=>fetch(s,l));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:wx(d.authToken)}}else throw yield Ix("Create Installation",u)})}function bx(t){return new Promise(e=>{setTimeout(e,t)})}function WG(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var KG=/^[cdef][\w-]{21}$/,Pw="";function QG(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=YG(t);return KG.test(n)?n:Pw}catch{return Pw}}function YG(t){return WG(t).substr(0,22)}function cf(t){return`${t.appName}!${t.appId}`}var Tx=new Map;function Dx(t,e){let n=cf(t);Sx(n,e),ZG(n,e)}function Sx(t,e){let n=Tx.get(t);if(n)for(let r of n)r(e)}function ZG(t,e){let n=JG();n&&n.postMessage({key:t,fid:e}),XG()}var rs=null;function JG(){return!rs&&"BroadcastChannel"in self&&(rs=new BroadcastChannel("[Firebase] FID Change"),rs.onmessage=t=>{Sx(t.data.key,t.data.fid)}),rs}function XG(){Tx.size===0&&rs&&(rs.close(),rs=null)}var e3="firebase-installations-database",t3=1,ss="firebase-installations-store",xw=null;function Ow(){return xw||(xw=md(e3,t3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ss)}}})),xw}function af(t,e){return f(this,null,function*(){let n=cf(t),i=(yield Ow()).transaction(ss,"readwrite"),s=i.objectStore(ss),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&Dx(t,e.fid),e})}function Ax(t){return f(this,null,function*(){let e=cf(t),r=(yield Ow()).transaction(ss,"readwrite");yield r.objectStore(ss).delete(e),yield r.done})}function lf(t,e){return f(this,null,function*(){let n=cf(t),i=(yield Ow()).transaction(ss,"readwrite"),s=i.objectStore(ss),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&Dx(t,a.fid),a})}function Fw(t){return f(this,null,function*(){let e,n=yield lf(t.appConfig,r=>{let i=n3(r),s=r3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Pw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function n3(t){let e=t||{fid:QG(),registrationStatus:0};return Mx(e)}function r3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(is.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=i3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:s3(t)}:{installationEntry:e}}function i3(t,e){return f(this,null,function*(){try{let n=yield GG(t,e);return af(t.appConfig,n)}catch(n){throw _x(n)&&n.customData.serverCode===409?yield Ax(t.appConfig):yield af(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function s3(t){return f(this,null,function*(){let e=yield hx(t.appConfig);for(;e.registrationStatus===1;)yield bx(100),e=yield hx(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Fw(t);return r||n}return e})}function hx(t){return lf(t,e=>{if(!e)throw is.create("installation-not-found");return Mx(e)})}function Mx(t){return o3(t)?{fid:t.fid,registrationStatus:0}:t}function o3(t){return t.registrationStatus===1&&t.registrationTime+gx<Date.now()}function a3(r,i){return f(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=c3(t,n),o=zG(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let c={installation:{sdkVersion:mx,appId:t.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},u=yield Cx(()=>fetch(s,l));if(u.ok){let d=yield u.json();return wx(d)}else throw yield Ix("Generate Auth Token",u)})}function c3(t,{fid:e}){return`${vx(t)}/${e}/authTokens:generate`}function Lw(t,e=!1){return f(this,null,function*(){let n,r=yield lf(t.appConfig,s=>{if(!Rx(s))throw is.create("not-registered");let o=s.authToken;if(!e&&d3(o))return s;if(o.requestStatus===1)return n=l3(t,e),s;{if(!navigator.onLine)throw is.create("app-offline");let a=f3(s);return n=u3(t,a),a}});return n?yield n:r.authToken})}function l3(t,e){return f(this,null,function*(){let n=yield fx(t.appConfig);for(;n.authToken.requestStatus===1;)yield bx(100),n=yield fx(t.appConfig);let r=n.authToken;return r.requestStatus===0?Lw(t,e):r})}function fx(t){return lf(t,e=>{if(!Rx(e))throw is.create("not-registered");let n=e.authToken;return p3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function u3(t,e){return f(this,null,function*(){try{let n=yield a3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield af(t.appConfig,r),n}catch(n){if(_x(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield Ax(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield af(t.appConfig,r)}throw n}})}function Rx(t){return t!==void 0&&t.registrationStatus===2}function d3(t){return t.requestStatus===2&&!h3(t)}function h3(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UG}function f3(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function p3(t){return t.requestStatus===1&&t.requestTime+gx<Date.now()}function g3(t){return f(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield Fw(e);return r?r.catch(console.error):Lw(e).catch(console.error),n.fid})}function m3(t,e=!1){return f(this,null,function*(){let n=t;return yield y3(n),(yield Lw(n,e)).token})}function y3(t){return f(this,null,function*(){let{registrationPromise:e}=yield Fw(t);e&&(yield e)})}function _3(t){if(!t||!t.options)throw Nw("App Configuration");if(!t.name)throw Nw("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Nw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Nw(t){return is.create("missing-app-config-values",{valueName:t})}var xx="installations",v3="installations-internal",w3=t=>{let e=t.getProvider("app").getImmediate(),n=_3(e),r=st(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},I3=t=>{let e=t.getProvider("app").getImmediate(),n=st(e,xx).getImmediate();return{getId:()=>g3(n),getToken:i=>m3(n,i)}};function E3(){Ue(new Se(xx,w3,"PUBLIC")),Ue(new Se(v3,I3,"PRIVATE"))}E3();V(px,kw);V(px,kw,"esm2017");var uf="analytics",C3="firebase_id",b3="origin",T3=60*1e3,D3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hw="https://www.googletagmanager.com/gtag/js";var Pt=new Ut("@firebase/analytics");var S3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},en=new At("analytics","Analytics",S3);function A3(t){if(!t.startsWith(Hw)){let e=en.create("invalid-gtag-resource",{gtagURL:t});return Pt.warn(e.message),""}return t}function Vx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function M3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function R3(t,e){let n=M3("firebase-js-sdk-policy",{createScriptURL:A3}),r=document.createElement("script"),i=`${Hw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function x3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function N3(t,e,n,r,i,s){return f(this,null,function*(){let o=r[i];try{if(o)yield e[o];else{let c=(yield Vx(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Pt.error(a)}t("config",i,s)})}function P3(t,e,n,r,i){return f(this,null,function*(){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let a=yield Vx(n);for(let c of o){let l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Pt.error(s)}})}function k3(t,e,n,r){function i(s,...o){return f(this,null,function*(){try{if(s==="event"){let[a,c]=o;yield P3(t,e,n,a,c)}else if(s==="config"){let[a,c]=o;yield N3(t,e,n,r,a,c)}else if(s==="consent"){let[a]=o;t("consent","update",a)}else if(s==="get"){let[a,c,l]=o;t("get",a,c,l)}else if(s==="set"){let[a]=o;t("set",a)}else t(s,...o)}catch(a){Pt.error(a)}})}return i}function O3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=k3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function F3(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(Hw)&&n.src.includes(t))return n;return null}var L3=30,V3=1e3,Uw=class{constructor(e={},n=V3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},Ux=new Uw;function U3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function B3(t){return f(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:U3(r)},s=D3.replace("{app-id}",n),o=yield fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{let c=yield o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw en.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function j3(r){return f(this,arguments,function*(t,e=Ux,n){let{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw en.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw en.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Bw;return setTimeout(()=>f(this,null,function*(){c.abort()}),n!==void 0?n:T3),Bx({appId:i,apiKey:s,measurementId:o},a,c,e)})}function Bx(s,o,a){return f(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Ux){var c;let{appId:l,measurementId:u}=t;try{yield $3(r,e)}catch(d){if(u)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{let d=yield B3(t);return i.deleteThrottleMetadata(l),d}catch(d){let h=d;if(!z3(h)){if(i.deleteThrottleMetadata(l),u)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw d}let p=Number((c=h?.customData)===null||c===void 0?void 0:c.httpStatus)===503?oc(n,i.intervalMillis,L3):oc(n,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(l,y),Pt.debug(`Calling attemptFetch again in ${p} millis`),Bx(t,y,r,i)}})}function $3(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(en.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function z3(t){if(!(t instanceof Le)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Bw=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var jw;function H3(t,e,n,r,i){return f(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let s=yield e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}})}function q3(t,e,n,r){return f(this,null,function*(){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();{let i=yield e;t("config",i,{update:!0,user_id:n})}})}var $w;function G3(t){$w=t}function W3(t){jw=t}function K3(){return f(this,null,function*(){if(Vn())try{yield Ni()}catch(t){return Pt.warn(en.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Pt.warn(en.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Q3(t,e,n,r,i,s,o){return f(this,null,function*(){var a;let c=j3(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Pt.error(p)),e.push(c);let l=K3().then(p=>{if(p)return r.getId()}),[u,d]=yield Promise.all([c,l]);F3(s)||R3(s,u.measurementId),$w&&(i("consent","default",$w),G3(void 0)),i("js",new Date);let h=(a=o?.config)!==null&&a!==void 0?a:{};return h[b3]="firebase",h.update=!0,d!=null&&(h[C3]=d),i("config",u.measurementId,h),jw&&(i("set",jw),W3(void 0)),u.measurementId})}var zw=class{constructor(e){this.app=e}_delete(){return delete Uo[this.app.options.appId],Promise.resolve()}},Uo={},Nx=[],Px={},Vw="dataLayer",Y3="gtag",kx,qw,Ox=!1;function Z3(){let t=[];if(nc()&&t.push("This is a browser extension environment."),ty()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=en.create("invalid-analytics-context",{errorInfo:e});Pt.warn(n.message)}}function J3(t,e,n){Z3();let r=t.options.appId;if(!r)throw en.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw en.create("no-api-key");if(Uo[r]!=null)throw en.create("already-exists",{id:r});if(!Ox){x3(Vw);let{wrappedGtag:s,gtagCore:o}=O3(Uo,Nx,Px,Vw,Y3);qw=s,kx=o,Ox=!0}return Uo[r]=Q3(t,Nx,Px,e,kx,Vw,n),new zw(t)}function jx(t=Mt()){t=Ie(t);let e=st(t,uf);return e.isInitialized()?e.getImmediate():$x(t)}function $x(t,e={}){let n=st(t,uf);if(n.isInitialized()){let i=n.getImmediate();if(hr(e,n.getOptions()))return i;throw en.create("already-initialized")}return n.initialize({options:e})}function zx(){return f(this,null,function*(){if(nc()||!ty()||!Vn())return!1;try{return yield Ni()}catch{return!1}})}function Hx(t,e,n){t=Ie(t),q3(qw,Uo[t.app.options.appId],e,n).catch(r=>Pt.error(r))}function Gw(t,e,n,r){t=Ie(t),H3(qw,Uo[t.app.options.appId],e,n,r).catch(i=>Pt.error(i))}var Fx="@firebase/analytics",Lx="0.10.1";function X3(){Ue(new Se(uf,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return J3(r,i,n)},"PUBLIC")),Ue(new Se("analytics-internal",t,"PRIVATE")),V(Fx,Lx),V(Fx,Lx,"esm2017");function t(e){try{let n=e.getProvider(uf).getImmediate();return{logEvent:(r,i,s)=>Gw(n,r,i,s)}}catch(n){throw en.create("interop-component-reg-failed",{reason:n})}}}X3();var os=class{constructor(e){return e}},Wx="analytics",Kw=class{constructor(){return Yt(Wx)}};var Qw="__angularfire_symbol__analyticsIsSupportedValue",Kx="__angularfire_symbol__analyticsIsSupported";globalThis[Kx]||=zx().then(t=>globalThis[Qw]=t).catch(()=>globalThis[Qw]=!1);var df={async:()=>globalThis[Kx],sync:()=>{let t=globalThis[Qw];if(t===void 0)throw new Error(vd("Analytics"));return t}},Qx=df.async,Yx=He(jx,!0);var eW=He(Gw,!0);var tW=He(Hx,!0);var hf=(()=>{class t{initialized;disposables=[];constructor(n,r,i){V("angularfire",ot.full,"user-tracking");let s;this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),Qx().then(()=>{let o=i.get(os);o?this.disposables=[FS(n).subscribe(a=>{tW(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(x(ji),x(B),x(we))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),nW="firebase_event_origin",rW="firebase_previous_class",iW="firebase_previous_id",sW="firebase_previous_screen",oW="firebase_screen_class",qx="firebase_screen_id",aW="firebase_screen",Yw="outlet",cW="page_path",lW="page_title",el="screen_class",Gx="screen_name",uW="screen_view",dW="auto",hW="#",fW=Math.floor(Math.random()*(2**32-1))-2**31,Ww={},pW=t=>{let e=[t[el],t[Yw]].join(hW);if(Ww.hasOwnProperty(e))return Ww[e];{let n=fW++;return Ww[e]=n,n}},gW=(t,e,n)=>t.events.pipe(wt(i=>i instanceof Ua)).pipe(It(i=>{let o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!a)return N(null);let c=a;for(;c.firstChild;)c=c.firstChild;let l=c.pathFromRoot.map(h=>h.routeConfig?.path).filter(h=>h).join("/")||"/",u={[Gx]:l,[cW]:`/${o}`,[nW]:dW,[aW]:l,[Yw]:i.snapshot.outlet};e&&(u[lW]=e.getTitle());let d=a.component;if(d){if(d===Bm){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;d=h.component}}else d=i.snapshot.component;if(typeof d=="string")return N(le(D({},u),{[el]:d}));if(d){let h=n.resolveComponentFactory(d);return N(le(D({},u),{[el]:h.selector}))}return N(null)}),wt(i=>!!i),K(i=>D({[oW]:i[el],[qx]:pW(i)},i)),Xf(i=>i[Yw]),Pe(i=>i.pipe(Jf((s,o)=>JSON.stringify(s)===JSON.stringify(o)),oa(void 0),tp(),K(([s,o])=>s?D({[rW]:s[el],[sW]:s[Gx],[iW]:s[qx]},o):o)))),Zw=(()=>{class t{disposable;constructor(n,r,i,s,o,a){V("angularfire",ot.full,"screen-tracking"),Qx().then(()=>{let c=a.get(os);!n||!c||s.runOutsideAngular(()=>{this.disposable=gW(n,r,i).pipe(It(l=>f(this,null,function*(){return o&&(yield o.initialized),eW(c,uW,l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(r){return new(r||t)(x(cn,8),x(zu,8),x(Gs),x(B),x(hf,8),x(we))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Jw=new R("angularfire2.analytics-instances");function mW(t,e){if(!df.sync())return null;let n=ln(Wx,t,e);return n&&new os(n)}function yW(t){return(e,n)=>{if(!df.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new os(r)}}var _W={provide:Kw,deps:[[new he,Jw]]},vW={provide:os,useFactory:mW,deps:[[new he,Jw],at]},wW=(()=>{class t{constructor(n,r){V("angularfire",ot.full,"analytics")}static \u0275fac=function(r){return new(r||t)(x(Zw,8),x(hf,8))};static \u0275mod=Re({type:t});static \u0275inj=Me({providers:[vW,_W,{provide:jr,useValue:df.async,multi:!0}]})}return t})();function Zx(t,...e){return{ngModule:wW,providers:[{provide:Jw,useFactory:yW(t),multi:!0,deps:[B,we,jt,Rt,...e]}]}}var Jx="@firebase/database",Xx="1.0.3";var YI="";function IW(t){YI=t}var oI=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:oo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var aI=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var xN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new oI(e)}}catch{}return new aI},cs=xN("localStorage"),cI=xN("sessionStorage");var zo=new Ut("@firebase/database"),EW=function(){let t=1;return function(){return t++}}(),NN=function(t){let e=kD(t),n=new ud;n.update(e);let r=n.digest();return dd.encodeByteArray(r)},fl=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fl.apply(null,r):typeof r=="object"?e+=Qe(r):e+=r,e+=" "}return e},ls=null,eN=!0,CW=function(t,e){b(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(zo.logLevel=W.VERBOSE,ls=zo.log.bind(zo),e&&cI.set("logging_enabled",!0)):typeof t=="function"?ls=t:(ls=null,cI.remove("logging_enabled"))},mt=function(...t){if(eN===!0&&(eN=!1,ls===null&&cI.get("logging_enabled")===!0&&CW(!0)),ls){let e=fl.apply(null,t);ls(e)}},pl=function(t){return function(...e){mt(t,...e)}},lI=function(...t){let e="FIREBASE INTERNAL ERROR: "+fl(...t);zo.error(e)},Ir=function(...t){let e=`FIREBASE FATAL ERROR: ${fl(...t)}`;throw zo.error(e),new Error(e)},tn=function(...t){let e="FIREBASE WARNING: "+fl(...t);zo.warn(e)},bW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},PN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},TW=function(t){if(Ln()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qo="[MIN_NAME]",us="[MAX_NAME]",Jo=function(t,e){if(t===e)return 0;if(t===qo||e===us)return-1;if(e===qo||t===us)return 1;{let n=tN(t),r=tN(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},DW=function(t,e){return t===e?0:t<e?-1:1},tl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qe(e))},ZI=function(t){if(typeof t!="object"||t===null)return Qe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Qe(e[r]),n+=":",n+=ZI(t[e[r]]);return n+="}",n},kN=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function fn(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var ON=function(t){b(!PN(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},SW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},AW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var MW=new RegExp("^-?(0*)\\d{1,10}$"),RW=-2147483648,xW=2147483647,tN=function(t){if(MW.test(t)){let e=Number(t);if(e>=RW&&e<=xW)return e}return null},gl=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw tn("Exception was thrown by user callback.",n),e},Math.floor(0))}},NW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ol=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var uI=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){tn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var dI=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tn(e)}},al=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),pf="5",FN="v",LN="s",VN="r",UN="f",BN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jN="ls",$N="p",hI="ac",zN="websocket",HN="long_polling";var gf=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function PW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qN(t,e,n){b(typeof e=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let r;if(e===zN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===HN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);PW(t)&&(n.ns=t.namespace);let i=[];return fn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var fI=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return TD(this.counters_)}};var Xw={},eI={};function JI(t){let e=t.toString();return Xw[e]||(Xw[e]=new fI),Xw[e]}function kW(t,e){let n=t.toString();return eI[n]||(eI[n]=e()),eI[n]}var pI=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&gl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var nN="start",OW="close",FW="pLPCommand",LW="pRTLPCB",GN="id",WN="pw",KN="ser",VW="cb",UW="seg",BW="ts",jW="d",$W="dframe",QN=1870,YN=30,zW=QN-YN,HW=25e3,qW=3e4,gI=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pl(e),this.stats_=JI(n),this.urlFn=c=>(this.appCheckToken&&(c[hI]=this.appCheckToken),qN(n,HN,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qW)),TW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mI((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nN)this.id=a,this.password=c;else if(o===OW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[nN]="t",r[KN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[VW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[FN]=pf,this.transportSessionId&&(r[LN]=this.transportSessionId),this.lastSessionId&&(r[jN]=this.lastSessionId),this.applicationId&&(r[$N]=this.applicationId),this.appCheckToken&&(r[hI]=this.appCheckToken),typeof location<"u"&&location.hostname&&BN.test(location.hostname)&&(r[VN]=UN);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Ln()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SW()&&!AW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Zm(n),i=kN(r,zW);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Ln())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[$W]="t",r[GN]=e,r[WN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},mI=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ln())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=EW(),window[FW+this.uniqueCallbackIdentifier]=e,window[LW+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){mt("frame writing exception"),a.stack&&mt(a.stack),mt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[GN]=this.myID,e[WN]=this.myPW,e[KN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+YN+r.length<=QN;){let o=this.pendingSegs.shift();r=r+"&"+UW+i+"="+o.seg+"&"+BW+i+"="+o.ts+"&"+jW+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(HW)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Ln()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var GW=16384,WW=45e3,mf=null;typeof MozWebSocket<"u"?mf=MozWebSocket:typeof WebSocket<"u"&&(mf=WebSocket);var nl=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pl(this.connId),this.stats_=JI(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[FN]=pf,!Ln()&&typeof location<"u"&&location.hostname&&BN.test(location.hostname)&&(a[VN]=UN),r&&(a[LN]=r),i&&(a[jN]=i),s&&(a[hI]=s),o&&(a[$N]=o),qN(n,zN,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cs.set("previous_websocket_failure",!0);try{let i;if(Ln()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${pf}/${YI}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new mf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&mf!==null&&!t.forceDisallow_}static previouslyFailed(){return cs.isInMemoryStorage||cs.get("previous_websocket_failure")===!0}markConnectionHealthy(){cs.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=oo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Qe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=kN(r,GW);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WW))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),KW=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[gI,nl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=nl&&nl.isAvailable(),i=r&&!nl.previouslyFailed();if(n.webSocketOnly&&(r||tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[nl];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),QW=6e4,YW=5e3,ZW=10*1024,JW=100*1024,tI="t",rN="d",XW="s",iN="r",e5="e",sN="o",oN="a",aN="n",cN="p",t5="h",yI=class{constructor(e,n,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pl("c:"+this.id+":"),this.transportManager_=new KW(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ol(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>JW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(tI in e){let n=e[tI];n===oN?this.upgradeIfSecondaryHealthy_():n===iN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=tl("t",e),r=tl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:oN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=tl("t",e),r=tl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=tl(tI,e);if(rN in e){let r=e[rN];if(n===t5){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===aN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XW?this.onConnectionShutdown_(r):n===iN?this.onReset_(r):n===e5?lI("Server Error: "+r):n===sN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lI("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pf!==r&&tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ol(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(QW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ol(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cN,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var yf=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var _f=class{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var vf=class t extends _f{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var lN=32,uN=768,_e=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function me(){return new _e("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function li(t){return t.pieces_.length-t.pieceNum_}function Te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _e(t.pieces_,e)}function ZN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function n5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function JN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function XN(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _e(e,0)}function tt(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _e)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _e(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function dn(t,e){let n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return dn(Te(t),Te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function eP(t,e){if(li(t)!==li(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Cn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(li(t)>li(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var _I=class{constructor(e,n){this.errorPrefix_=n,this.parts_=JN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=sc(this.parts_[r]);tP(this)}};function r5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=sc(e),tP(t)}function i5(t){let e=t.parts_.pop();t.byteLength_-=sc(e),t.parts_.length>0&&(t.byteLength_-=1)}function tP(t){if(t.byteLength_>uN)throw new Error(t.errorPrefix_+"has a key path longer than "+uN+" bytes ("+t.byteLength_+").");if(t.parts_.length>lN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lN+") or object contains a cycle "+as(t))}function as(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var vI=class t extends _f{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}};var rl=1e3,s5=60*5*1e3,dN=30*1e3,o5=1.3,a5=3e4,c5="server_kill",hN=3,XI=(()=>{class t extends yf{constructor(n,r,i,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=pl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rl,this.maxReconnectDelay_=s5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ln())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vI.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&vf.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Qe(o)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Ri,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Un(n,"w")){let i=Pi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||xD(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dN)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=RD(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Qe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):lI("Unrecognized action received from server: "+Qe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>a5&&(this.reconnectDelay_=rl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*o5)}this.onConnectStatus_(!1)}establishConnection_(){return f(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(h){b(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,p]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,c=new yI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,y=>{tn(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(c5)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&tn(h),l())}}})}interrupt(n){mt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){mt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],rc(this.interruptReasons_)&&(this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>ZI(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new _e(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){mt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hN&&(this.reconnectDelay_=dN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){mt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Ln()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+YI.replace(/\./g,"-")]=1,tc()?n["framework.cordova"]=1:fd()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=vf.getInstance().currentlyOnline();return rc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ce=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Go=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ce(qo,e),i=new ce(qo,n);return this.compare(r,i)!==0}minPost(){return ce.MIN}};var ff,wf=class extends Go{static get __EMPTY_NODE(){return ff}static set __EMPTY_NODE(e){ff=e}compare(e,n){return Jo(e.name,n.name)}isDefinedOn(e){throw xi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(us,ff)}makePost(e,n){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,ff)}toString(){return".key"}},Ho=new wf;var jo=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},En=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??hn.EMPTY_NODE,this.right=o??hn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return hn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return hn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),wI=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new En(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},hn=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,En.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,En.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jo(this.root_,null,this.comparator_,!0,e)}};hn.EMPTY_NODE=new wI;function l5(t,e){return Jo(t.name,e.name)}function eE(t,e){return Jo(t,e)}var II;function u5(t){II=t}var nP=function(t){return typeof t=="number"?"number:"+ON(t):"string:"+t},rP=function(t){if(t.isLeafNode()){let e=t.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Un(e,".sv"),"Priority must be a string or number.")}else b(t===II||t.isEmpty(),"priority of unexpected type.");b(t===II||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var fN,Wo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rP(this.priorityNode_)}static set __childrenNodeConstructor(n){fN=n}static get __childrenNodeConstructor(){return fN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ie(n)?this:ae(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=ae(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||li(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+nP(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=ON(this.value_):n+=this.value_,this.lazyHash_=NN(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return b(s>=0,"Unknown leaf type: "+r),b(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),iP,sP;function d5(t){iP=t}function h5(t){sP=t}var EI=class extends Go{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Jo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(us,new Wo("[PRIORITY-POST]",sP))}makePost(e,n){let r=iP(e);return new ce(n,new Wo("[PRIORITY-POST]",r))}toString(){return".priority"}},_t=new EI;var f5=Math.log(2),CI=class{constructor(e){let n=s=>parseInt(Math.log(s)/f5,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},If=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=t[c],h=n?n(d):d,new En(h,d.node,En.BLACK,null,null);{let p=parseInt(u/2,10)+c,y=i(c,p),v=i(p+1,l);return d=t[p],h=n?n(d):d,new En(h,d.node,En.BLACK,y,v)}},s=function(c){let l=null,u=null,d=t.length,h=function(y,v){let w=d-y,A=d;d-=y;let z=i(w+1,A),Y=t[w],se=n?n(Y):Y;p(new En(se,Y.node,v,null,z))},p=function(y){l?(l.left=y,l=y):(u=y,l=y)};for(let y=0;y<c.count;++y){let v=c.nextBitIsOne(),w=Math.pow(2,c.count-(y+1));v?h(w,En.BLACK):(h(w,En.BLACK),h(w,En.RED))}return u},o=new CI(t.length),a=s(o);return new hn(r||e,a)};var nI,Bo={},Ko=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return b(Bo&&_t,"ChildrenNode.ts has not been loaded"),nI=nI||new t({".priority":Bo},{".priority":_t}),nI}get(e){let n=Pi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hn?n:null}hasIndex(e){return Un(this.indexSet_,e.toString())}addIndex(e,n){b(e!==Ho,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(ce.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=If(r,e.getCompare()):a=Bo;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=ic(this.indexes_,(i,s)=>{let o=Pi(this.indexSet_,s);if(b(o,"Missing index implementation for "+s),i===Bo)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(ce.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),If(a,o.getCompare())}else return Bo;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new ce(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=ic(this.indexes_,i=>{if(i===Bo)return i;{let s=n.get(e.name);return s?i.remove(new ce(e.name,s)):i}});return new t(r,this.indexSet_)}};var il,xe=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&rP(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return il||(il=new t(new hn(eE),null,Ko.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||il}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?il:r}}getChild(n){let r=ae(n);return r===null?this:this.getImmediateChild(r).getChild(Te(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(b(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ce(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?il:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=ae(n);if(i===null)return r;{b(ae(n)!==".priority"||li(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Te(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(_t,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+nP(this.getPriority().val())+":"),this.forEachChild(_t,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":NN(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new ce(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ce(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ce(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,ce.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,ce.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ml?-1:0}withIndex(n){if(n===Ho||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ho||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(_t),s=r.getIterator(_t),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ho?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),bI=class extends xe{constructor(){super(new hn(eE),xe.EMPTY_NODE,Ko.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xe.EMPTY_NODE}isEmpty(){return!1}},ml=new bI;Object.defineProperties(ce,{MIN:{value:new ce(qo,xe.EMPTY_NODE)},MAX:{value:new ce(us,ml)}});wf.__EMPTY_NODE=xe.EMPTY_NODE;Wo.__childrenNodeConstructor=xe;u5(ml);h5(ml);var p5=!0;function yt(t,e=null){if(t===null)return xe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Wo(n,yt(e))}if(!(t instanceof Array)&&p5){let n=[],r=!1;if(fn(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=yt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ce(o,c)))}}),n.length===0)return xe.EMPTY_NODE;let s=If(n,l5,o=>o.name,eE);if(r){let o=If(n,_t.getCompare());return new xe(s,yt(e),new Ko({".priority":o},{".priority":_t}))}else return new xe(s,yt(e),Ko.Default)}else{let n=xe.EMPTY_NODE;return fn(t,(r,i)=>{if(Un(t,r)&&r.substring(0,1)!=="."){let s=yt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(yt(e))}}d5(yt);var TI=class extends Go{constructor(e){super(),this.indexPath_=e,b(!ie(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Jo(e.name,n.name):s}makePost(e,n){let r=yt(e),i=xe.EMPTY_NODE.updateChild(this.indexPath_,r);return new ce(n,i)}maxPost(){let e=xe.EMPTY_NODE.updateChild(this.indexPath_,ml);return new ce(us,e)}toString(){return JN(this.indexPath_,0).join("/")}};var DI=class extends Go{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Jo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){let r=yt(e);return new ce(n,r)}toString(){return".value"}},g5=new DI;function m5(t){return{type:"value",snapshotNode:t}}function y5(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _5(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pN(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function v5(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var SI=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_t}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qo}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_t}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function gN(t){let e={};if(t.isDefault())return e;let n;if(t.index_===_t?n="$priority":t.index_===g5?n="$value":t.index_===Ho?n="$key":(b(t.index_ instanceof TI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Qe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Qe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Qe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function mN(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==_t&&(e.i=t.index_.toString()),e}var AI=class t extends yf{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=pl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=gN(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),Pi(this.listens_,o)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=gN(e._queryParams),r=e._path.toString(),i=new Ri;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ki(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=oo(a.responseText)}catch{tn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&tn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var MI=class{constructor(){this.rootNode_=xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ef(){return{value:null,children:new Map}}function oP(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=ae(e);t.children.has(r)||t.children.set(r,Ef());let i=t.children.get(r);e=Te(e),oP(i,e,n)}}function RI(t,e,n){t.value!==null?n(e,t.value):w5(t,(r,i)=>{let s=new _e(e.toString()+"/"+r);RI(i,s,n)})}function w5(t,e){t.children.forEach((n,r)=>{e(r,n)})}var xI=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&fn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var yN=10*1e3,I5=30*1e3,E5=5*60*1e3,NI=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xI(e);let r=yN+(I5-yN)*Math.random();ol(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;fn(e,(i,s)=>{s>0&&Un(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ol(this.reportStats_.bind(this),Math.floor(Math.random()*2*E5))}};var wr=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(wr||{});function aP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var PI=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=wr.ACK_USER_WRITE,this.source=aP()}operationForChild(e){if(ie(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new _e(e));return new t(me(),n,this.revert)}}else return b(ae(this.path)===e,"operationForChild called for unrelated child."),new t(Te(this.path),this.affectedTree,this.revert)}};var Qo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=wr.OVERWRITE}operationForChild(e){return ie(this.path)?new t(this.source,me(),this.snap.getImmediateChild(e)):new t(this.source,Te(this.path),this.snap)}};var Cf=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=wr.MERGE}operationForChild(e){if(ie(this.path)){let n=this.children.subtree(new _e(e));return n.isEmpty()?null:n.value?new Qo(this.source,me(),n.value):new t(this.source,me(),n)}else return b(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ul=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;let n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function C5(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(v5(o.childName,o.snapshotNode))}),sl(t,i,"child_removed",e,r,n),sl(t,i,"child_added",e,r,n),sl(t,i,"child_moved",s,r,n),sl(t,i,"child_changed",e,r,n),sl(t,i,"value",e,r,n),i}function sl(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>T5(t,a,c)),o.forEach(a=>{let c=b5(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function b5(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function T5(t,e,n){if(e.childName==null||n.childName==null)throw xi("Should only compare child_ events.");let r=new ce(e.childName,e.snapshotNode),i=new ce(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function uP(t,e){return{eventCache:t,serverCache:e}}function cl(t,e,n,r){return uP(new ul(e,n,r),t.serverCache)}function dP(t,e,n,r){return uP(t.eventCache,new ul(e,n,r))}function kI(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ds(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var rI,D5=()=>(rI||(rI=new hn(DW)),rI),$t=class t{constructor(e,n=D5()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return fn(e,(r,i)=>{n=n.set(new _e(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(ie(e))return null;{let r=ae(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Te(e),n);return s!=null?{path:tt(new _e(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{let n=ae(e),r=this.children.get(n);return r!==null?r.subtree(Te(e)):new t(null)}}set(e,n){if(ie(e))return new t(n,this.children);{let r=ae(e),s=(this.children.get(r)||new t(null)).set(Te(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(ie(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ae(e),r=this.children.get(n);if(r){let i=r.remove(Te(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(ie(e))return this.value;{let n=ae(e),r=this.children.get(n);return r?r.get(Te(e)):null}}setTree(e,n){if(ie(e))return n;{let r=ae(e),s=(this.children.get(r)||new t(null)).setTree(Te(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(me(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(tt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(ie(e))return null;{let s=ae(e),o=this.children.get(s);return o?o.findOnPath_(Te(e),tt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,r){if(ie(e))return this;{this.value&&r(n,this.value);let i=ae(e),s=this.children.get(i);return s?s.foreachOnPath_(Te(e),tt(n,i),r):new t(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(tt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var bn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new $t(null))}};function ll(t,e,n){if(ie(e))return new bn(new $t(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=dn(i,e);return s=s.updateChild(o,n),new bn(t.writeTree_.set(i,s))}else{let i=new $t(n),s=t.writeTree_.setTree(e,i);return new bn(s)}}}function _N(t,e,n){let r=t;return fn(n,(i,s)=>{r=ll(r,tt(e,i),s)}),r}function vN(t,e){if(ie(e))return bn.empty();{let n=t.writeTree_.setTree(e,new $t(null));return new bn(n)}}function OI(t,e){return hs(t,e)!=null}function hs(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dn(n.path,e)):null}function wN(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(_t,(r,i)=>{e.push(new ce(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ce(r,i.value))}),e}function ci(t,e){if(ie(e))return t;{let n=hs(t,e);return n!=null?new bn(new $t(n)):new bn(t.writeTree_.subtree(e))}}function FI(t){return t.writeTree_.isEmpty()}function Yo(t,e){return hP(me(),t.writeTree_,e)}function hP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(b(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=hP(tt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(tt(t,".priority"),r)),n}}function fP(t,e){return _P(e,t)}function S5(t,e,n,r,i){b(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ll(t.visibleWrites,e,n)),t.lastWriteId=r}function A5(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function M5(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&R5(a,r.path)?i=!1:Cn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return x5(t),!0;if(r.snap)t.visibleWrites=vN(t.visibleWrites,r.path);else{let a=r.children;fn(a,c=>{t.visibleWrites=vN(t.visibleWrites,tt(r.path,c))})}return!0}else return!1}function R5(t,e){if(t.snap)return Cn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Cn(tt(t.path,n),e))return!0;return!1}function x5(t){t.visibleWrites=pP(t.allWrites,N5,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function N5(t){return t.visible}function pP(t,e,n){let r=bn.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Cn(n,o)?(a=dn(n,o),r=ll(r,a,s.snap)):Cn(o,n)&&(a=dn(o,n),r=ll(r,me(),s.snap.getChild(a)));else if(s.children){if(Cn(n,o))a=dn(n,o),r=_N(r,a,s.children);else if(Cn(o,n))if(a=dn(o,n),ie(a))r=_N(r,me(),s.children);else{let c=Pi(s.children,ae(a));if(c){let l=c.getChild(Te(a));r=ll(r,me(),l)}}}else throw xi("WriteRecord should have .snap or .children")}}return r}function gP(t,e,n,r,i){if(!r&&!i){let s=hs(t.visibleWrites,e);if(s!=null)return s;{let o=ci(t.visibleWrites,e);if(FI(o))return n;if(n==null&&!OI(o,me()))return null;{let a=n||xe.EMPTY_NODE;return Yo(o,a)}}}else{let s=ci(t.visibleWrites,e);if(!i&&FI(s))return n;if(!i&&n==null&&!OI(s,me()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Cn(l.path,e)||Cn(e,l.path))},a=pP(t.allWrites,o,e),c=n||xe.EMPTY_NODE;return Yo(a,c)}}}function P5(t,e,n){let r=xe.EMPTY_NODE,i=hs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(_t,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=ci(t.visibleWrites,e);return n.forEachChild(_t,(o,a)=>{let c=Yo(ci(s,new _e(o)),a);r=r.updateImmediateChild(o,c)}),wN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=ci(t.visibleWrites,e);return wN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function k5(t,e,n,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=tt(e,n);if(OI(t.visibleWrites,s))return null;{let o=ci(t.visibleWrites,s);return FI(o)?i.getChild(n):Yo(o,i.getChild(n))}}function O5(t,e,n,r){let i=tt(e,n),s=hs(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=ci(t.visibleWrites,i);return Yo(o,r.getNode().getImmediateChild(n))}else return null}function F5(t,e){return hs(t.visibleWrites,e)}function L5(t,e,n,r,i,s,o){let a,c=ci(t.visibleWrites,e),l=hs(c,me());if(l!=null)a=l;else if(n!=null)a=Yo(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),p=h.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function V5(){return{visibleWrites:bn.empty(),allWrites:[],lastWriteId:-1}}function LI(t,e,n,r){return gP(t.writeTree,t.treePath,e,n,r)}function mP(t,e){return P5(t.writeTree,t.treePath,e)}function IN(t,e,n,r){return k5(t.writeTree,t.treePath,e,n,r)}function bf(t,e){return F5(t.writeTree,tt(t.treePath,e))}function U5(t,e,n,r,i,s){return L5(t.writeTree,t.treePath,e,n,r,i,s)}function tE(t,e,n){return O5(t.writeTree,t.treePath,e,n)}function yP(t,e){return _P(tt(t.treePath,e),t.writeTree)}function _P(t,e){return{treePath:t,writeTree:e}}var VI=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,pN(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_5(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,y5(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,pN(r,e.snapshotNode,i.oldSnap));else throw xi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var UI=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},vP=new UI,dl=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new ul(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tE(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ds(this.viewCache_),s=U5(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function B5(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function j5(t,e,n,r,i){let s=new VI,o,a;if(n.type===wr.OVERWRITE){let l=n;l.source.fromUser?o=BI(t,e,l.path,l.snap,r,i,s):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!ie(l.path),o=Tf(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===wr.MERGE){let l=n;l.source.fromUser?o=z5(t,e,l.path,l.children,r,i,s):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=jI(t,e,l.path,l.children,r,i,a,s))}else if(n.type===wr.ACK_USER_WRITE){let l=n;l.revert?o=G5(t,e,l.path,r,i,s):o=H5(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===wr.LISTEN_COMPLETE)o=q5(t,e,n.path,r,s);else throw xi("Unknown operation type: "+n.type);let c=s.getChanges();return $5(e,o,c),{viewCache:o,changes:c}}function $5(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=kI(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(m5(kI(e)))}}function wP(t,e,n,r,i,s){let o=e.eventCache;if(bf(r,n)!=null)return e;{let a,c;if(ie(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=ds(e),u=l instanceof xe?l:xe.EMPTY_NODE,d=mP(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let l=LI(r,ds(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=ae(n);if(l===".priority"){b(li(n)===1,"Can't have a priority with additional path components");let u=o.getNode();c=e.serverCache.getNode();let d=IN(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=Te(n),d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let h=IN(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(l).updateChild(u,h):d=o.getNode().getImmediateChild(l)}else d=tE(r,l,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),l,d,u,i,s):a=o.getNode()}}return cl(e,a,o.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function Tf(t,e,n,r,i,s,o,a){let c=e.serverCache,l,u=o?t.filter:t.filter.getIndexedFilter();if(ie(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let p=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),p,null)}else{let p=ae(n);if(!c.isCompleteForPath(n)&&li(n)>1)return e;let y=Te(n),w=c.getNode().getImmediateChild(p).updateChild(y,r);p===".priority"?l=u.updatePriority(c.getNode(),w):l=u.updateChild(c.getNode(),p,w,y,vP,null)}let d=dP(e,l,c.isFullyInitialized()||ie(n),u.filtersNodes()),h=new dl(i,d,s);return wP(t,d,n,i,h,a)}function BI(t,e,n,r,i,s,o){let a=e.eventCache,c,l,u=new dl(i,e,s);if(ie(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=cl(e,l,!0,t.filter.filtersNodes());else{let d=ae(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=cl(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=Te(n),p=a.getNode().getImmediateChild(d),y;if(ie(h))y=r;else{let v=u.getCompleteChild(d);v!=null?ZN(h)===".priority"&&v.getChild(XN(h)).isEmpty()?y=v:y=v.updateChild(h,r):y=xe.EMPTY_NODE}if(p.equals(y))c=e;else{let v=t.filter.updateChild(a.getNode(),d,y,h,u,o);c=cl(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function EN(t,e){return t.eventCache.isCompleteForChild(e)}function z5(t,e,n,r,i,s,o){let a=e;return r.foreach((c,l)=>{let u=tt(n,c);EN(e,ae(u))&&(a=BI(t,a,u,l,i,s,o))}),r.foreach((c,l)=>{let u=tt(n,c);EN(e,ae(u))||(a=BI(t,a,u,l,i,s,o))}),a}function CN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function jI(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;ie(n)?l=r:l=new $t(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let p=e.serverCache.getNode().getImmediateChild(d),y=CN(t,p,h);c=Tf(t,c,new _e(d),y,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{let p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){let y=e.serverCache.getNode().getImmediateChild(d),v=CN(t,y,h);c=Tf(t,c,new _e(d),v,i,s,o,a)}}),c}function H5(t,e,n,r,i,s,o){if(bf(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ie(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Tf(t,e,n,c.getNode().getChild(n),i,s,a,o);if(ie(n)){let l=new $t(null);return c.getNode().forEachChild(Ho,(u,d)=>{l=l.set(new _e(u),d)}),jI(t,e,n,l,i,s,a,o)}else return e}else{let l=new $t(null);return r.foreach((u,d)=>{let h=tt(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),jI(t,e,n,l,i,s,a,o)}}function q5(t,e,n,r,i){let s=e.serverCache,o=dP(e,s.getNode(),s.isFullyInitialized()||ie(n),s.isFiltered());return wP(t,o,n,r,vP,i)}function G5(t,e,n,r,i,s){let o;if(bf(r,n)!=null)return e;{let a=new dl(r,e,i),c=e.eventCache.getNode(),l;if(ie(n)||ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=LI(r,ds(e));else{let d=e.serverCache.getNode();b(d instanceof xe,"serverChildren would be complete if leaf node"),u=mP(r,d)}u=u,l=t.filter.updateFullNode(c,u,s)}else{let u=ae(n),d=tE(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,Te(n),a,s):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,xe.EMPTY_NODE,Te(n),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=LI(r,ds(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||bf(r,me())!=null,cl(e,l,o,t.filter.filtersNodes())}}function W5(t,e){let n=ds(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function bN(t,e,n,r){e.type===wr.MERGE&&e.source.queryId!==null&&(b(ds(t.viewCache_),"We should always have a full cache before handling merges"),b(kI(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=j5(t.processor_,i,e,n,r);return B5(t.processor_,s.viewCache),b(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,K5(t,s.changes,s.viewCache.eventCache.getNode(),null)}function K5(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return C5(t.eventGenerator_,e,n,i)}var TN;function Q5(t){b(!TN,"__referenceConstructor has already been defined"),TN=t}function nE(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return b(s!=null,"SyncTree gave us an op for an invalid query."),bN(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(bN(o,e,n,r));return s}}function rE(t,e){let n=null;for(let r of t.views.values())n=n||W5(r,e);return n}var DN;function Y5(t){b(!DN,"__referenceConstructor has already been defined"),DN=t}var Df=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $t(null),this.pendingWriteTree_=V5(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Z5(t,e,n,r,i){return S5(t.pendingWriteTree_,e,n,r,i),i?Af(t,new Qo(aP(),e,n)):[]}function $o(t,e,n=!1){let r=A5(t.pendingWriteTree_,e);if(M5(t.pendingWriteTree_,e)){let s=new $t(null);return r.snap!=null?s=s.set(me(),!0):fn(r.children,o=>{s=s.set(new _e(o),!0)}),Af(t,new PI(r.path,s,n))}else return[]}function Sf(t,e,n){return Af(t,new Qo(cP(),e,n))}function J5(t,e,n){let r=$t.fromObject(n);return Af(t,new Cf(cP(),e,r))}function X5(t,e,n,r){let i=bP(t,r);if(i!=null){let s=TP(i),o=s.path,a=s.queryId,c=dn(o,e),l=new Qo(lP(a),c,n);return DP(t,o,l)}else return[]}function e6(t,e,n,r){let i=bP(t,r);if(i){let s=TP(i),o=s.path,a=s.queryId,c=dn(o,e),l=$t.fromObject(n),u=new Cf(lP(a),c,l);return DP(t,o,u)}else return[]}function IP(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=dn(o,e),l=rE(a,c);if(l)return l});return gP(i,e,s,n,!0)}function Af(t,e){return EP(e,t.syncPointTree_,null,fP(t.pendingWriteTree_,me()))}function EP(t,e,n,r){if(ie(t.path))return CP(t,e,n,r);{let i=e.get(me());n==null&&i!=null&&(n=rE(i,me()));let s=[],o=ae(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let l=n?n.getImmediateChild(o):null,u=yP(r,o);s=s.concat(EP(a,c,l,u))}return i&&(s=s.concat(nE(i,t,r,n))),s}}function CP(t,e,n,r){let i=e.get(me());n==null&&i!=null&&(n=rE(i,me()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,l=yP(r,o),u=t.operationForChild(o);u&&(s=s.concat(CP(u,a,c,l)))}),i&&(s=s.concat(nE(i,t,r,n))),s}function bP(t,e){return t.tagToQueryMap.get(e)}function TP(t){let e=t.indexOf("$");return b(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _e(t.substr(0,e))}}function DP(t,e,n){let r=t.syncPointTree_.get(e);b(r,"Missing sync point for query tag that we're tracking");let i=fP(t.pendingWriteTree_,e);return nE(r,n,i,null)}var $I=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},zI=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=tt(this.path_,e);return new t(this.syncTree_,n)}node(){return IP(this.syncTree_,this.path_)}},t6=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},SN=function(t,e,n){if(!t||typeof t!="object")return t;if(b(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return n6(t[".sv"],e,n);if(typeof t[".sv"]=="object")return r6(t[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},n6=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+t)}},r6=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&b(!1,"Unexpected increment value: "+r);let i=e.node();if(b(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},i6=function(t,e,n,r){return iE(e,new zI(n,t),r)},s6=function(t,e,n){return iE(t,new $I(e),n)};function iE(t,e,n){let r=t.getPriority().val(),i=SN(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=SN(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Wo(a,yt(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Wo(i))),o.forEachChild(_t,(a,c)=>{let l=iE(c,e.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var hl=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function sE(t,e){let n=e instanceof _e?e:new _e(e),r=t,i=ae(n);for(;i!==null;){let s=Pi(r.node.children,i)||{children:{},childCount:0};r=new hl(i,r,s),n=Te(n),i=ae(n)}return r}function Xo(t){return t.node.value}function SP(t,e){t.node.value=e,HI(t)}function AP(t){return t.node.childCount>0}function o6(t){return Xo(t)===void 0&&!AP(t)}function Mf(t,e){fn(t.node.children,(n,r)=>{e(new hl(n,t,r))})}function MP(t,e,n,r){n&&!r&&e(t),Mf(t,i=>{MP(i,e,!0,r)}),n&&r&&e(t)}function a6(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function yl(t){return new _e(t.parent===null?t.name:yl(t.parent)+"/"+t.name)}function HI(t){t.parent!==null&&c6(t.parent,t.name,t)}function c6(t,e,n){let r=o6(n),i=Un(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,HI(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,HI(t))}var l6=/[\[\].#$\/\u0000-\u001F\u007F]/,u6=/[\[\].#$\u0000-\u001F\u007F]/,iI=10*1024*1024,RP=function(t){return typeof t=="string"&&t.length!==0&&!l6.test(t)},d6=function(t){return typeof t=="string"&&t.length!==0&&!u6.test(t)},h6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),d6(t)};var xP=function(t,e,n){let r=n instanceof _e?new _I(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+as(r));if(typeof e=="function")throw new Error(t+"contains a function "+as(r)+" with contents = "+e.toString());if(PN(e))throw new Error(t+"contains "+e.toString()+" "+as(r));if(typeof e=="string"&&e.length>iI/3&&sc(e)>iI)throw new Error(t+"contains a string greater than "+iI+" utf8 bytes "+as(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(fn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!RP(o)))throw new Error(t+" contains an invalid key ("+o+") "+as(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r5(r,o),xP(t,a,r),i5(r)}),i&&s)throw new Error(t+' contains ".value" child '+as(r)+" in addition to actual children.")}};var f6=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!RP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!h6(n))throw new Error(PD(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var qI=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function p6(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!eP(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function fs(t,e,n){p6(t,n),g6(t,r=>Cn(r,e)||Cn(e,r))}function g6(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(m6(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function m6(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();ls&&mt("event: "+n.toString()),gl(r)}}}var y6="repo_interrupt",_6=25,GI=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ef(),this.transactionQueueTree_=new hl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function v6(t,e,n){if(t.stats_=JI(t.repoInfo_),t.forceRestClient_||NW())t.server_=new AI(t.repoInfo_,(r,i,s,o)=>{AN(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>MN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new XI(t.repoInfo_,e,(r,i,s,o)=>{AN(t,r,i,s,o)},r=>{MN(t,r)},r=>{I6(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=kW(t.repoInfo_,()=>new NI(t.stats_,t.server_)),t.infoData_=new MI,t.infoSyncTree_=new Df({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Sf(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),oE(t,"connected",!1),t.serverSyncTree_=new Df({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);fs(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function w6(t){let n=t.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function NP(t){return t6({timestamp:w6(t)})}function AN(t,e,n,r,i){t.dataUpdateCount++;let s=new _e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=ic(n,l=>yt(l));o=e6(t.serverSyncTree_,s,c,i)}else{let c=yt(n);o=X5(t.serverSyncTree_,s,c,i)}else if(r){let c=ic(n,l=>yt(l));o=J5(t.serverSyncTree_,s,c)}else{let c=yt(n);o=Sf(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=cE(t,s)),fs(t.eventQueue_,a,o)}function MN(t,e){oE(t,"connected",e),e===!1&&C6(t)}function I6(t,e){fn(e,(n,r)=>{oE(t,n,r)})}function oE(t,e,n){let r=new _e("/.info/"+e),i=yt(n);t.infoData_.updateSnapshot(r,i);let s=Sf(t.infoSyncTree_,r,i);fs(t.eventQueue_,r,s)}function E6(t){return t.nextWriteId_++}function C6(t){PP(t,"onDisconnectEvents");let e=NP(t),n=Ef();RI(t.onDisconnect_,me(),(i,s)=>{let o=i6(i,s,t.serverSyncTree_,e);oP(n,i,o)});let r=[];RI(n,me(),(i,s)=>{r=r.concat(Sf(t.serverSyncTree_,i,s));let o=S6(t,i);cE(t,o)}),t.onDisconnect_=Ef(),fs(t.eventQueue_,me(),r)}function b6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(y6)}function PP(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mt(n,...e)}function kP(t,e,n){return IP(t.serverSyncTree_,e,n)||xe.EMPTY_NODE}function aE(t,e=t.transactionQueueTree_){if(e||Rf(t,e),Xo(e)){let n=FP(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&T6(t,yl(e),n)}else AP(e)&&Mf(e,n=>{aE(t,n)})}function T6(t,e,n){let r=n.map(l=>l.currentWriteId),i=kP(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let u=n[l];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=dn(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,l=>{PP(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat($o(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Rf(t,sE(t.transactionQueueTree_,e)),aE(t,t.transactionQueueTree_),fs(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)gl(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{tn("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}cE(t,e)}},o)}function cE(t,e){let n=OP(t,e),r=yl(n),i=FP(t,n);return D6(t,i,r),r}function D6(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=dn(n,c.path),u=!1,d;if(b(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat($o(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=_6)u=!0,d="maxretry",i=i.concat($o(t.serverSyncTree_,c.currentWriteId,!0));else{let h=kP(t,c.path,o);c.currentInputSnapshot=h;let p=e[a].update(h.val());if(p!==void 0){xP("transaction failed: Data returned ",p,c.path);let y=yt(p);typeof p=="object"&&p!=null&&Un(p,".priority")||(y=y.updatePriority(h.getPriority()));let w=c.currentWriteId,A=NP(t),z=s6(y,h,A);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=z,c.currentWriteId=E6(t),o.splice(o.indexOf(w),1),i=i.concat(Z5(t.serverSyncTree_,c.path,z,c.currentWriteId,c.applyLocally)),i=i.concat($o(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat($o(t.serverSyncTree_,c.currentWriteId,!0))}fs(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Rf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)gl(r[a]);aE(t,t.transactionQueueTree_)}function OP(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&Xo(r)===void 0;)r=sE(r,n),e=Te(e),n=ae(e);return r}function FP(t,e){let n=[];return LP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function LP(t,e,n){let r=Xo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Mf(e,i=>{LP(t,i,n)})}function Rf(t,e){let n=Xo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,SP(e,n.length>0?n:void 0)}Mf(e,r=>{Rf(t,r)})}function S6(t,e){let n=yl(OP(t,e)),r=sE(t.transactionQueueTree_,e);return a6(r,i=>{sI(t,i)}),sI(t,r),MP(r,i=>{sI(t,i)}),n}function sI(t,e){let n=Xo(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(b(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(b(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($o(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?SP(e,void 0):n.length=s+1,fs(t.eventQueue_,yl(e),i);for(let o=0;o<r.length;o++)gl(r[o])}}function A6(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function M6(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tn(`Invalid query segment '${n}' in query '${t}'`)}return e}var RN=function(t,e){let n=R6(t),r=n.namespace;n.domain==="firebase.com"&&Ir(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ir("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bW();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gf(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _e(n.pathString)}},R6=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=A6(t.substring(u,d)));let h=M6(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let p=e.slice(0,l);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{let y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var WI=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ie(this._path)?null:ZN(this._path)}get ref(){return new Zo(this._repo,this._path)}get _queryIdentifier(){let e=mN(this._queryParams),n=ZI(e);return n==="{}"?"default":n}get _queryObject(){return mN(this._queryParams)}isEqual(e){if(e=Ie(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=eP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+n5(this._path)}};var Zo=class t extends WI{constructor(e,n){super(e,n,new SI,!1)}get parent(){let e=XN(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};Q5(Zo);Y5(Zo);var x6="FIREBASE_DATABASE_EMULATOR_HOST",KI={},N6=!1;function P6(t,e,n,r){t.repoInfo_=new gf(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function k6(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ir("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=RN(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[x6]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=RN(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new al(al.OWNER):new dI(t.name,t.options,e);f6("Invalid Firebase Database URL",o),ie(o.path)||Ir("Database URL must point to the root of a Firebase Database (not including a child path).");let d=F6(a,t,u,new uI(t.name,n));return new QI(d,t)}function O6(t,e){let n=KI[e];(!n||n[t.key]!==t)&&Ir(`Database ${e}(${t.repoInfo_}) has already been deleted.`),b6(t),delete n[t.key]}function F6(t,e,n,r){let i=KI[e.name];i||(i={},KI[e.name]=i);let s=i[t.toURLString()];return s&&Ir("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new GI(t,N6,n,r),i[t.toURLString()]=s,s}var QI=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(v6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zo(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(O6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ir("Cannot call "+e+" on a deleted database.")}};function VP(t=Mt(),e){let n=st(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=ao("database");r&&UP(n,...r)}return n}function UP(t,e,n,r={}){t=Ie(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ir("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ir('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new al(al.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:co(r.mockUserToken,t.app.options.projectId);s=new al(o)}P6(i,e,n,s)}function L6(t){IW(Bt),Ue(new Se("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return k6(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),V(Jx,Xx,t),V(Jx,Xx,"esm2017")}XI.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};XI.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};L6();var _l=class{constructor(e){return e}},BP="database",lE=class{constructor(){return Yt(BP)}};var uE=new R("angularfire2.database-instances");function V6(t,e){let n=ln(BP,t,e);return n&&new _l(n)}function U6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _l(r)}}var B6={provide:lE,deps:[[new he,uE]]},j6={provide:_l,useFactory:V6,deps:[[new he,uE],at]},$6=(()=>{class t{constructor(){V("angularfire",ot.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Me({providers:[j6,B6]})}return t})();function jP(t,...e){return{ngModule:$6,providers:[{provide:uE,useFactory:U6(t),multi:!0,deps:[B,we,jt,Rt,[new he,gr],[new he,jn],...e]}]}}var $P=He(VP,!0);var KP="firebasestorage.googleapis.com",z6="storageBucket",H6=2*60*1e3,q6=10*60*1e3;var Jn=class t extends Le{constructor(e,n,r=0){super(dE(e),`Firebase Storage: ${n} (${dE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Cr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Cr||{});function dE(t){return"storage/"+t}function G6(){let t="An unknown error occurred, please check the error payload for server response.";return new Jn(Cr.UNKNOWN,t)}function W6(){return new Jn(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K6(){return new Jn(Cr.CANCELED,"User canceled the upload/download.")}function Q6(t){return new Jn(Cr.INVALID_URL,"Invalid URL '"+t+"'.")}function Y6(t){return new Jn(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zP(t){return new Jn(Cr.INVALID_ARGUMENT,t)}function QP(){return new Jn(Cr.APP_DELETED,"The Firebase app was deleted.")}function Z6(t){return new Jn(Cr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Er=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Y6(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(se){se.path_=decodeURIComponent(se.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},v=n===KP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",A=new RegExp(`^https?://${v}/${i}/${w}`,"i"),Y=[{regex:a,indices:c,postModify:s},{regex:p,indices:y,postModify:l},{regex:A,indices:{bucket:1,path:2},postModify:l}];for(let se=0;se<Y.length;se++){let nt=Y[se],Ae=nt.regex.exec(e);if(Ae){let kt=Ae[nt.indices.bucket],Tn=Ae[nt.indices.path];Tn||(Tn=""),r=new t(kt,Tn),nt.postModify(r);break}}if(r==null)throw Q6(e);return r}},hE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function J6(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...w){l||(l=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(p,c())},w)}function h(){s&&clearTimeout(s)}function p(w,...A){if(l){h();return}if(w){h(),u.call(null,w,...A);return}if(c()||o){h(),u.call(null,w,...A);return}r<64&&(r*=2);let Y;a===1?(a=2,Y=0):Y=(r+Math.random())*1e3,d(Y)}let y=!1;function v(w){y||(y=!0,h(),!l&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function X6(t){t(!1)}function e9(t){return t!==void 0}function HP(t,e,n,r){if(r<e)throw zP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zP(`Invalid value for '${t}'. Expected ${n} or less.`)}function t9(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var fE=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(fE||{});function n9(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var pE=class{constructor(e,n,r,i,s,o,a,c,l,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ea(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===fE.NO_ERROR,c=s.getStatus();if(!a||n9(c,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===fE.ABORT;r(!1,new ea(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new ea(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());e9(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=G6();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?QP():K6();o(c)}else{let c=W6();o(c)}};this.canceled_?n(!1,new ea(!1,null,!0)):this.backoffId_=J6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ea=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function r9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function o9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function a9(t,e,n,r,i,s,o=!0){let a=t9(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return s9(l,e),r9(l,n),i9(l,s),o9(l,r),new pE(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function c9(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function l9(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var soe=256*1024;var gE=class t{constructor(e,n){this._service=e,n instanceof Er?this._location=n:this._location=Er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l9(this._location.path)}get storage(){return this._service}get parent(){let e=c9(this._location.path);if(e===null)return null;let n=new Er(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z6(e)}};function qP(t,e){let n=e?.[z6];return n==null?null:Er.makeFromBucketSpec(n,t)}function u9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:co(i,t.app.options.projectId))}var mE=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=KP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H6,this._maxUploadRetryTime=q6,this._requests=new Set,i!=null?this._bucket=Er.makeFromBucketSpec(i,this._host):this._bucket=qP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,e):this._bucket=qP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return f(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return f(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gE(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new hE(QP());{let o=a9(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return f(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},GP="@firebase/storage",WP="0.12.2";var YP="storage";function ZP(t=Mt(),e){t=Ie(t);let r=st(t,YP).getImmediate({identifier:e}),i=ao("storage");return i&&JP(r,...i),r}function JP(t,e,n,r={}){u9(t,e,n,r)}function d9(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new mE(n,r,i,e,Bt)}function h9(){Ue(new Se(YP,d9,"PUBLIC").setMultipleInstances(!0)),V(GP,WP,""),V(GP,WP,"esm2017")}h9();var vl=class{constructor(e){return e}},XP="storage",yE=class{constructor(){return Yt(XP)}};var _E=new R("angularfire2.storage-instances");function f9(t,e){let n=ln(XP,t,e);return n&&new vl(n)}function p9(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vl(r)}}var g9={provide:yE,deps:[[new he,_E]]},m9={provide:vl,useFactory:f9,deps:[[new he,_E],at]},y9=(()=>{class t{constructor(){V("angularfire",ot.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Me({providers:[m9,g9]})}return t})();function ek(t,...e){return{ngModule:y9,providers:[{provide:_E,useFactory:p9(t),multi:!0,deps:[B,we,jt,Rt,[new he,gr],[new he,jn],...e]}]}}var tk=He(ZP,!0);var vE="@firebase/remote-config",nk="0.4.5";var rk="remote-config";var _9={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},zt=new At("remoteconfig","Remote Config",_9);function ik(t=Mt()){return t=Ie(t),st(t,rk).getImmediate()}function sk(t){let e=Ie(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}var wE=class{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){return f(this,null,function*(){let[n,r]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;let i=yield this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})}};function v9(t=navigator){return t.languages&&t.languages[0]||t.language}var IE=class{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){return f(this,null,function*(){let[n,r]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:v9()},c={method:"POST",headers:o,body:JSON.stringify(a)},l=fetch(s,c),u=new Promise((w,A)=>{e.signal.addEventListener(()=>{let z=new Error("The operation was aborted.");z.name="AbortError",A(z)})}),d;try{yield Promise.race([l,u]),d=yield l}catch(w){let A="fetch-client-network";throw w?.name==="AbortError"&&(A="fetch-timeout"),zt.create(A,{originalErrorMessage:w?.message})}let h=d.status,p=d.headers.get("ETag")||void 0,y,v;if(d.status===200){let w;try{w=yield d.json()}catch(A){throw zt.create("fetch-client-parse",{originalErrorMessage:A?.message})}y=w.entries,v=w.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?h=500:v==="NO_CHANGE"?h=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(y={}),h!==304&&h!==200)throw zt.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:y}})}};function w9(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(zt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function I9(t){if(!(t instanceof Le)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var EE=class{constructor(e,n){this.client=e,this.storage=n}fetch(e){return f(this,null,function*(){let n=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)})}attemptFetch(i,s){return f(this,arguments,function*(e,{throttleEndTimeMillis:n,backoffCount:r}){yield w9(e.signal,n);try{let o=yield this.client.fetch(e);return yield this.storage.deleteThrottleMetadata(),o}catch(o){if(!I9(o))throw o;let a={throttleEndTimeMillis:Date.now()+oc(r),backoffCount:r+1};return yield this.storage.setThrottleMetadata(a),this.attemptFetch(e,a)}})}};var E9=60*1e3,C9=12*60*60*1e3,CE=class{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:E9,minimumFetchIntervalMillis:C9},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}};function xf(t,e){let n=t.target.error||void 0;return zt.create(e,{originalErrorMessage:n&&n?.message})}var ps="app_namespace_store",b9="firebase_remote_config",T9=1;function D9(){return new Promise((t,e)=>{try{let n=indexedDB.open(b9,T9);n.onerror=r=>{e(xf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ps,{keyPath:"compositeKey"})}}}catch(n){e(zt.create("storage-open",{originalErrorMessage:n?.message}))}})}var bE=class{constructor(e,n,r,i=D9()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){return f(this,null,function*(){let n=yield this.openDbPromise;return new Promise((r,i)=>{let o=n.transaction([ps],"readonly").objectStore(ps),a=this.createCompositeKey(e);try{let c=o.get(a);c.onerror=l=>{i(xf(l,"storage-get"))},c.onsuccess=l=>{let u=l.target.result;r(u?u.value:void 0)}}catch(c){i(zt.create("storage-get",{originalErrorMessage:c?.message}))}})})}set(e,n){return f(this,null,function*(){let r=yield this.openDbPromise;return new Promise((i,s)=>{let a=r.transaction([ps],"readwrite").objectStore(ps),c=this.createCompositeKey(e);try{let l=a.put({compositeKey:c,value:n});l.onerror=u=>{s(xf(u,"storage-set"))},l.onsuccess=()=>{i()}}catch(l){s(zt.create("storage-set",{originalErrorMessage:l?.message}))}})})}delete(e){return f(this,null,function*(){let n=yield this.openDbPromise;return new Promise((r,i)=>{let o=n.transaction([ps],"readwrite").objectStore(ps),a=this.createCompositeKey(e);try{let c=o.delete(a);c.onerror=l=>{i(xf(l,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){i(zt.create("storage-delete",{originalErrorMessage:c?.message}))}})})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}};var TE=class{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){return f(this,null,function*(){let e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=yield e;i&&(this.lastFetchStatus=i);let s=yield n;s&&(this.lastSuccessfulFetchTimestampMillis=s);let o=yield r;o&&(this.activeConfig=o)})}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}};function S9(){Ue(new Se(rk,t,"PUBLIC").setMultipleInstances(!0)),V(vE,nk),V(vE,nk,"esm2017");function t(e,{instanceIdentifier:n}){let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw zt.create("registration-window");if(!Vn())throw zt.create("indexed-db-unavailable");let{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw zt.create("registration-project-id");if(!o)throw zt.create("registration-api-key");if(!a)throw zt.create("registration-app-id");n=n||"firebase";let c=new bE(a,r.name,n),l=new TE(c),u=new Ut(vE);u.logLevel=W.ERROR;let d=new IE(i,Bt,n,s,o,a),h=new EE(d,c),p=new wE(h,c,l,u),y=new CE(r,p,l,c,u);return sk(y),y}}function ok(){return f(this,null,function*(){if(!Vn())return!1;try{return yield Ni()}catch{return!1}})}S9();var wl=class{constructor(e){return e}},ak="remote-config",DE=class{constructor(){return Yt(ak)}};var SE="__angularfire_symbol__remoteConfigIsSupportedValue",ck="__angularfire_symbol__remoteConfigIsSupported";globalThis[ck]||=ok().then(t=>globalThis[SE]=t).catch(()=>globalThis[SE]=!1);var Nf={async:()=>globalThis[ck],sync:()=>{let t=globalThis[SE];if(t===void 0)throw new Error(vd("RemoteConfig"));return t}},AE=new R("angularfire2.remote-config-instances");function A9(t,e){if(!Nf.sync())return null;let n=ln(ak,t,e);return n&&new wl(n)}function M9(t){return(e,n)=>{if(!Nf.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new wl(r)}}var R9={provide:DE,deps:[[new he,AE]]},x9={provide:wl,useFactory:A9,deps:[[new he,AE],at]},N9=(()=>{class t{constructor(){V("angularfire",ot.full,"rc")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Me({providers:[x9,R9,{provide:jr,useValue:Nf.async,multi:!0}]})}return t})();function lk(t,...e){return{ngModule:N9,providers:[{provide:AE,useFactory:M9(t),multi:!0,deps:[B,we,jt,Rt,...e]}]}}var nae=Nf.async;var uk=He(ik,!0);var dk={providers:[cD(dx),sr(WD(()=>KD({projectId:"backstage-billiards",appId:"1:435373889174:web:dcb331ca5daf25e24a54b7",storageBucket:"backstage-billiards.appspot.com",apiKey:"AIzaSyAUDXcUMYlpzRhuS778tKPD87By6xYxoq8",authDomain:"backstage-billiards.firebaseapp.com",messagingSenderId:"435373889174",measurementId:"G-1HYYQ2JW1K"}))),sr(OS(()=>LS())),sr(Zx(()=>Yx())),Zw,hf,sr(wR(()=>CR())),sr(jP(()=>$P())),sr(ek(()=>tk())),sr(lk(()=>uk()))]};var hk=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-footer"]],standalone:!0,features:[te],decls:66,vars:0,consts:[[1,"page-foot","text-sm-left"],[1,"bg-gray-darker","section-top-55","section-bottom-60"],[1,"shell"],[1,"range","border-left-cell"],[1,"cell-sm-6","cell-md-3","cell-lg-4"],[1,"text-uppercase"],[1,"list-unstyled","contact-info","offset-top-5"],[1,"unit","unit-horizontal","unit-top","unit-spacing-xxs"],[1,"unit-left"],[1,"text-white"],[1,"unit-body","text-left","text-gray-light"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-sm-top-0"],[1,"list-tags","offset-top-15"],[1,"text-gray-light"],[1,"link-gray-light"],[1,"cell-sm-10","cell-lg-5","offset-top-50","offset-md-top-0","cell-md-6"],[1,"offset-top-20"],["data-form-output","form-output-global","data-form-type","subscribe","method","post","action","bat/rd-mailform.php",1,"rd-mailform","form-subscribe","form-inline-flex-xs"],[1,"form-group"],["placeholder","Your Email","type","email","name","email","data-constraints","@Required @Email",1,"form-control"],["type","submit",1,"btn","btn-primary-lighter","btn-shape-circle"]],template:function(i,s){i&1&&(g(0,"footer",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),_(6,"Contact"),m(),g(7,"ul",6)(8,"li")(9,"div",7)(10,"div",8)(11,"span",9),_(12,"Phone:"),m()(),g(13,"div",10)(14,"p"),_(15,"407-345-0323"),m()()()(),g(16,"li")(17,"div",7)(18,"div",8)(19,"span",9),_(20,"Email:"),m()(),g(21,"div",10)(22,"p"),_(23,"tavig123@gmail.com"),m()()()(),g(24,"li")(25,"div",7)(26,"div",8)(27,"span",9),_(28,"Address:"),m()(),g(29,"div",10)(30,"p"),_(31,"8957 International Drive Orlando, FL 32819"),m()()()()()(),g(32,"div",11)(33,"h4",5),_(34,"services"),m(),g(35,"ul",12)(36,"li",13)(37,"a",14),_(38,"Pool"),m()(),g(39,"li",13)(40,"a",14),_(41,"Poker"),m()(),g(42,"li",13)(43,"a",14),_(44,"Darts"),m()(),g(45,"li",13)(46,"a",14),_(47,"Leagues"),m()(),g(48,"li",13)(49,"a",14),_(50,"Torunaments"),m()(),g(51,"li",13)(52,"a",14),_(53,"Food"),m()(),g(54,"li",13)(55,"a",14),_(56,"Drinks"),m()()()(),g(57,"div",15)(58,"h4",5),_(59,"newsletter"),m(),g(60,"div",16)(61,"form",17)(62,"div",18),S(63,"input",19),m(),g(64,"button",20),_(65,"Subscribe"),m()()()()()()()())},encapsulation:2});let t=e;return t})();var fk=(()=>{let e=class e{constructor(r){this.el=r,this.menuItems=[{name:"Sandwiches",img:"assets/images/menu-food-01.png",route:"/menu/sandwiches"},{name:"Burgers",img:"assets/images/menu-food-02.png",route:"/menu/burgers"},{name:"Pizzas",img:"assets/images/menu-food-03.png",route:"/menu/pizzas"}]}ngAfterViewInit(){this.initializeRdNavbar()}initializeRdNavbar(){let r=$(this.el.nativeElement).find(".rd-navbar");r.length&&(r.RDNavbar({stickUpClone:r.attr("data-stick-up-clone")?r.attr("data-stick-up-clone")==="true":!1}),r.attr("data-body-class")&&(document.body.className+=" "+r.attr("data-body-class")))}};e.\u0275fac=function(i){return new(i||e)(ne(Tt))},e.\u0275cmp=ee({type:e,selectors:[["app-navbar"]],standalone:!0,features:[te],decls:82,vars:0,consts:[[1,"page-head"],[1,"rd-navbar-wrap","rd-navbar-default"],["data-layout","rd-navbar-fixed","data-sm-layout","rd-navbar-fixed","data-md-device-layout","rd-navbar-fixed","data-lg-layout","rd-navbar-static","data-lg-device-layout","rd-navbar-static","data-stick-up-clone","false","data-md-stick-up-offset","100px","data-lg-stick-up-offset","150px",1,"rd-navbar"],[1,"shell","shell-fluid"],[1,"rd-navbar-inner"],[1,"rd-navbar-nav-wrap-outer"],[1,"rd-navbar-aside"],[1,"rd-navbar-aside-content",2,"display","flex","justify-content","space-between","align-items","center"],[1,"rd-navbar-panel","rd-navbar-aside-left",2,"flex-grow","0","display","flex","align-items","center"],["data-rd-navbar-toggle",".rd-navbar-nav-wrap",1,"rd-navbar-toggle"],["href","index.html",1,"rd-navbar-brand","brand","hidden-xs",2,"margin-right","20px","display","flex","justify-content","left"],["src","assets/images/backstage-logo.png","alt","Backstage Billiards Logo",2,"height","60px"],[1,"rd-navbar-brand-center"],[2,"font-family","'Almendra', serif","font-size","24px","color","#ffffff"],[2,"flex-grow","1"],[1,"rd-navbar-aside-right","hidden-xs",2,"flex-grow","1","display","flex","justify-content","flex-end"],[1,"list-links","list-inline","text-left"],[1,"unit","unit-horizontal","unit-middle","unit-spacing-xs"],[1,"unit-left"],[1,"icon","icon-circle","icon-primary-lighter","icon-xxs","mdi","mdi-map-marker","text-middle"],[1,"unit-body"],[1,"contact-info"],["href","#",1,"link-gray-light-1","link-xs","link-fixed-color"],[1,"visible-md","visible-lg"],[1,"icon","icon-circle","icon-primary-lighter","icon-xxs","mdi","mdi-phone","text-middle"],["href","tel:407-345-0323",1,"link-gray-light-1","link-xs","link-fixed-color"],[1,"reveal-block","text-gray-light-1","link-xs","link-fixed-color"],[1,"hidden-md","hidden-sm"],[1,"list-inline","list-inline-sm"],["href","https://www.instagram.com/backstagebilliardsidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-instagram"],["href","https://www.facebook.com/backstagebilliardsidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-facebook"],["href","https://twitter.com/backstageidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-twitter"],[1,"rd-navbar-nav-wrap"],[1,"rd-navbar-nav"],["routerLinkActive","active"],["routerLink","/home"],["routerLink","/about"],["routerLink","/menu"],["routerLink","/tournaments"],["routerLink","/gallery"],["routerLink","/contact"],["routerLink","/partners"],[1,"rd-navbar-dropdown","menu-img-wrap"],[1,"menu-img"],["href","#"],["src","assets/images/rack-n-draw-logo.png","alt","Partner Logo 1","width","100%"],["src","assets/images/sunshine-state-billiards.jpeg","alt","Partner Logo 2","width","100%"]],template:function(i,s){i&1&&(g(0,"header",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"button",9),S(10,"span"),m(),g(11,"a",10),S(12,"img",11),m(),g(13,"div",12)(14,"span",13),_(15,"Backstage Billiards "),g(16,"span"),_(17,"I-Drive"),m()()()(),S(18,"div",14),g(19,"div",15)(20,"ul",16)(21,"li")(22,"div",17)(23,"div",18),S(24,"span",19),m(),g(25,"div",20)(26,"address",21)(27,"a",22),_(28,"8957 International Drive "),S(29,"br",23),_(30," Orlando, FL 32819"),m()()()()(),g(31,"li")(32,"div",17)(33,"div",18),S(34,"span",24),m(),g(35,"div",20)(36,"address",21)(37,"a",25),_(38,"407-345-0323"),m(),g(39,"span",26),_(40,"Daily: 3:00 PM \u2013 2:15 AM"),m()()()()(),g(41,"li",27)(42,"ul",28)(43,"li")(44,"a",29),S(45,"span",30),m()(),g(46,"li")(47,"a",31),S(48,"span",32),m()(),g(49,"li")(50,"a",33),S(51,"span",34),m()()()()()()()()(),g(52,"div",35)(53,"ul",36)(54,"li",37)(55,"a",38),_(56,"Home"),m()(),g(57,"li",37)(58,"a",39),_(59,"About Us"),m()(),g(60,"li",37)(61,"a",40),_(62,"Menu"),m()(),g(63,"li",37)(64,"a",41),_(65,"Tournaments & Events"),m()(),g(66,"li",37)(67,"a",42),_(68,"Gallery"),m()(),g(69,"li",37)(70,"a",43),_(71,"Contacts"),m()(),g(72,"li",37)(73,"a",44),_(74,"Partners"),m(),g(75,"ul",45)(76,"li",46)(77,"a",47),S(78,"img",48),m()(),g(79,"li",46)(80,"a",47),S(81,"img",49),m()()()()()()()()()()())},dependencies:[fD,sd,oD],styles:["html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]{width:200px!important;padding:10px!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]{display:block!important;text-align:center!important;margin-bottom:10px!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block!important;width:100%!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%!important;height:auto!important}"]});let t=e;return t})();var pk=(()=>{let e=class e{constructor(){this.title="backstage-billiards"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ee({type:e,selectors:[["app-root"]],standalone:!0,features:[te],decls:30,vars:0,consts:[[1,"page","text-center"],[1,"page-content"],["id","form-output-global",1,"snackbars"],["tabindex","-1","role","dialog","aria-hidden","true",1,"pswp"],[1,"pswp__bg"],[1,"pswp__scroll-wrap"],[1,"pswp__container"],[1,"pswp__item"],[1,"pswp__ui","pswp__ui--hidden"],[1,"pswp__top-bar"],[1,"pswp__counter"],["title","Close (Esc)",1,"pswp__button","pswp__button--close"],["title","Share",1,"pswp__button","pswp__button--share"],["title","Toggle fullscreen",1,"pswp__button","pswp__button--fs"],["title","Zoom in/out",1,"pswp__button","pswp__button--zoom"],[1,"pswp__preloader"],[1,"pswp__preloader__icn"],[1,"pswp__preloader__cut"],[1,"pswp__preloader__donut"],[1,"pswp__share-modal","pswp__share-modal--hidden","pswp__single-tap"],[1,"pswp__share-tooltip"],["title","Previous (arrow left)",1,"pswp__button","pswp__button--arrow--left"],["title","Next (arrow right)",1,"pswp__button","pswp__button--arrow--right"],[1,"pswp__caption"],[1,"pswp__caption__cent"]],template:function(i,s){i&1&&(g(0,"div",0),S(1,"app-navbar"),g(2,"main",1),S(3,"router-outlet"),m(),S(4,"app-footer"),m(),S(5,"div",2),g(6,"div",3),S(7,"div",4),g(8,"div",5)(9,"div",6),S(10,"div",7)(11,"div",7)(12,"div",7),m(),g(13,"div",8)(14,"div",9),S(15,"div",10)(16,"button",11)(17,"button",12)(18,"button",13)(19,"button",14),g(20,"div",15)(21,"div",16)(22,"div",17),S(23,"div",18),m()()()(),g(24,"div",19),S(25,"div",20),m(),S(26,"button",21)(27,"button",22),g(28,"div",23),S(29,"div",24),m()()()())},dependencies:[Um,fk,hk]});let t=e;return t})();vT(pk,dk).catch(t=>console.error(t));
