var bA=Object.defineProperty,SA=Object.defineProperties;var DA=Object.getOwnPropertyDescriptors;var N_=Object.getOwnPropertySymbols,AA=Object.getPrototypeOf,RA=Object.prototype.hasOwnProperty,MA=Object.prototype.propertyIsEnumerable,xA=Reflect.get;var P_=(t,e,n)=>e in t?bA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})RA.call(e,n)&&P_(t,n,e[n]);if(N_)for(var n of N_(e))MA.call(e,n)&&P_(t,n,e[n]);return t},pe=(t,e)=>SA(t,DA(e));var Zn=(t,e,n)=>xA(AA(t),n,e);var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var k_=null;var cd=1,O_=Symbol("SIGNAL");function ie(t){let e=k_;return k_=t,e}var L_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function NA(t){if(!(dd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cd)){if(!t.producerMustRecompute(t)&&!ld(t)){t.dirty=!1,t.lastCleanEpoch=cd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=cd}}function F_(t){return t&&(t.nextProducerIndex=0),ie(t)}function V_(t,e){if(ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(dd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ud(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ld(t){Ka(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(NA(n),r!==n.version))return!0}return!1}function U_(t){if(Ka(t),dd(t))for(let e=0;e<t.producerNode.length;e++)ud(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ud(t,e){if(PA(t),Ka(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ud(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ka(i),i.producerIndexOfThis[r]=e}}function dd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ka(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function PA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function kA(){throw new Error}var OA=kA;function B_(t){OA=t}function L(t){return typeof t=="function"}function _i(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qa=_i(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Sr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof Qa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{j_(s)}catch(o){e=e??[],o instanceof Qa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)j_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Sr(n,e)}remove(e){let{_finalizers:n}=this;n&&Sr(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var hd=Te.EMPTY;function Ya(t){return t instanceof Te||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function j_(t){L(t)?t():t.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vi={setTimeout(t,e,...n){let{delegate:r}=vi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=vi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Za(t){vi.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(t);else throw t})}function js(){}var $_=fd("C",void 0,void 0);function z_(t){return fd("E",void 0,t)}function H_(t){return fd("N",t,void 0)}function fd(t,e,n){return{kind:t,value:e,error:n}}var Dr=null;function wi(t){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!Dr;if(e&&(Dr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Dr;if(Dr=null,n)throw r}}else t()}function q_(t){Ht.useDeprecatedSynchronousErrorHandling&&Dr&&(Dr.errorThrown=!0,Dr.error=t)}var Ar=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ya(e)&&e.add(this)):this.destination=VA}static create(e,n,r){return new Ii(e,n,r)}next(e){this.isStopped?gd(H_(e),this):this._next(e)}error(e){this.isStopped?gd(z_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gd($_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LA=Function.prototype.bind;function pd(t,e){return LA.call(t,e)}var md=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ja(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ja(r)}else Ja(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ja(n)}}},Ii=class extends Ar{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ht.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pd(e.next,s),error:e.error&&pd(e.error,s),complete:e.complete&&pd(e.complete,s)}):i=e}this.destination=new md(i)}};function Ja(t){Ht.useDeprecatedSynchronousErrorHandling?q_(t):Za(t)}function FA(t){throw t}function gd(t,e){let{onStoppedNotification:n}=Ht;n&&vi.setTimeout(()=>n(t,e))}var VA={closed:!0,next:js,error:FA,complete:js};var Ei=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(t){return t}function yd(...t){return _d(t)}function _d(t){return t.length===0?rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=BA(n)?n:new Ii(n,r,i);return wi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=W_(r),new r((i,s)=>{let o=new Ii({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ei](){return this}pipe(...n){return _d(n)(this)}toPromise(n){return n=W_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function W_(t){var e;return(e=t??Ht.Promise)!==null&&e!==void 0?e:Promise}function UA(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function BA(t){return t&&t instanceof Ar||UA(t)&&Ya(t)}function vd(t){return L(t?.lift)}function B(t){return e=>{if(vd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,r,i){return new $s(t,e,n,r,i)}var $s=class extends Ar{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ci(){return B((t,e)=>{let n=null;t._refCount++;let r=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ti=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return Ci()(this)}};var G_=_i(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Xa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new G_}next(n){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?hd:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,Sr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new Xa(e,n),t})(),Xa=class extends ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:hd}};var $e=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wd={now(){return(wd.delegate||Date).now()},delegate:void 0};var ec=class extends Te{constructor(e,n){super()}schedule(e,n=0){return this}};var zs={setInterval(t,e,...n){let{delegate:r}=zs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var bi=class extends ec{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return zs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Sr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Si=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Si.now=wd.now;var Di=class extends Si{constructor(e,n=Si.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Id=new Di(bi);var tc=class extends bi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var nc=class extends Di{};var Ed=new nc(tc);var It=new Q(t=>t.complete());function K_(t){return t&&L(t.schedule)}function Q_(t){return t[t.length-1]}function Y_(t){return L(Q_(t))?t.pop():void 0}function Jn(t){return K_(Q_(t))?t.pop():void 0}function Cd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function J_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Z_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rr(t){return this instanceof Rr?(this.v=t,this):new Rr(t)}function X_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(y){return new Promise(function(_,v){s.push([h,y,_,v])>1||a(h,y)})})}function a(h,y){try{c(r[h](y))}catch(_){d(s[0][3],_)}}function c(h){h.value instanceof Rr?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,y){h(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ev(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Z_=="function"?Z_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var rc=t=>t&&typeof t.length=="number"&&typeof t!="function";function ic(t){return L(t?.then)}function sc(t){return L(t[Ei])}function oc(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function ac(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cc=jA();function lc(t){return L(t?.[cc])}function uc(t){return X_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Rr(n.read());if(i)return yield Rr(void 0);yield yield Rr(r)}}finally{n.releaseLock()}})}function dc(t){return L(t?.getReader)}function De(t){if(t instanceof Q)return t;if(t!=null){if(sc(t))return $A(t);if(rc(t))return zA(t);if(ic(t))return HA(t);if(oc(t))return tv(t);if(lc(t))return qA(t);if(dc(t))return WA(t)}throw ac(t)}function $A(t){return new Q(e=>{let n=t[Ei]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zA(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HA(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Za)})}function qA(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tv(t){return new Q(e=>{GA(t,e).catch(n=>e.error(n))})}function WA(t){return tv(uc(t))}function GA(t,e){var n,r,i,s;return J_(this,void 0,void 0,function*(){try{for(n=ev(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Xn(t,e=0){return B((n,r)=>{n.subscribe(j(r,i=>dt(r,t,()=>r.next(i),e),()=>dt(r,t,()=>r.complete(),e),i=>dt(r,t,()=>r.error(i),e)))})}function er(t,e=0){return B((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nv(t,e){return De(t).pipe(er(e),Xn(e))}function rv(t,e){return De(t).pipe(er(e),Xn(e))}function iv(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function sv(t,e){return new Q(n=>{let r;return dt(n,e,()=>{r=t[cc](),dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function hc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{dt(n,e,()=>{let r=t[Symbol.asyncIterator]();dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ov(t,e){return hc(uc(t),e)}function av(t,e){if(t!=null){if(sc(t))return nv(t,e);if(rc(t))return iv(t,e);if(ic(t))return rv(t,e);if(oc(t))return hc(t,e);if(lc(t))return sv(t,e);if(dc(t))return ov(t,e)}throw ac(t)}function we(t,e){return e?av(t,e):De(t)}function A(...t){let e=Jn(t);return we(t,e)}function Ai(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function Td(t){return!!t&&(t instanceof Q||L(t.lift)&&L(t.subscribe))}var An=_i(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return B((n,r)=>{let i=0;n.subscribe(j(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:KA}=Array;function QA(t,e){return KA(e)?t(...e):t(e)}function cv(t){return W(e=>QA(t,e))}var{isArray:YA}=Array,{getPrototypeOf:ZA,prototype:JA,keys:XA}=Object;function lv(t){if(t.length===1){let e=t[0];if(YA(e))return{args:e,keys:null};if(eR(e)){let n=XA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eR(t){return t&&typeof t=="object"&&ZA(t)===JA}function uv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Hs(...t){let e=Jn(t),n=Y_(t),{args:r,keys:i}=lv(t);if(r.length===0)return we([],e);let s=new Q(tR(r,e,i?o=>uv(i,o):rt));return n?s.pipe(cv(n)):s}function tR(t,e,n=rt){return r=>{dv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)dv(e,()=>{let l=we(t[c],e),u=!1;l.subscribe(j(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function dv(t,e,n){t?dt(n,t,e):e()}function hv(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},y=v=>l<r?_(v):c.push(v),_=v=>{s&&e.next(v),l++;let E=!1;De(n(v,u++)).subscribe(j(e,D=>{i?.(D),s?y(D):e.next(D)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){let D=c.shift();o?dt(e,o,()=>_(D)):_(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(j(e,y,()=>{d=!0,h()})),()=>{a?.()}}function Ee(t,e,n=1/0){return L(e)?Ee((r,i)=>W((s,o)=>e(r,s,i,o))(De(t(r,i))),n):(typeof e=="number"&&(n=e),B((r,i)=>hv(r,i,t,n)))}function Ri(t=1/0){return Ee(rt,t)}function fv(){return Ri(1)}function Mi(...t){return fv()(we(t,Jn(t)))}function fc(t){return new Q(e=>{De(t()).subscribe(e)})}function it(t,e){return B((n,r)=>{let i=0;n.subscribe(j(r,s=>t.call(e,s,i++)&&r.next(s)))})}function tr(t){return B((e,n)=>{let r=null,i=!1,s;r=e.subscribe(j(n,void 0,void 0,o=>{s=De(t(o,tr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function pv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(j(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function nr(t,e){return L(e)?Ee(t,e,1):Ee(t,1)}function rr(t){return B((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Rn(t){return t<=0?()=>It:B((e,n)=>{let r=0;e.subscribe(j(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bd(t){return W(()=>t)}function Sd(t,e=rt){return t=t??nR,B((n,r)=>{let i,s=!0;n.subscribe(j(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function nR(t,e){return t===e}function pc(t=rR){return B((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rR(){return new An}function qs(t){return B((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,s)=>t(i,s,r)):rt,Rn(1),n?rr(e):pc(()=>new An))}function Dd(t,e,n,r){return B((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let a=new Map,c=_=>{a.forEach(_),_(s)},l=_=>c(v=>v.error(_)),u=0,d=!1,h=new $s(s,_=>{try{let v=t(_),E=a.get(v);if(!E){a.set(v,E=r?r():new ke);let D=y(v,E);if(s.next(D),n){let ne=j(E,()=>{E.complete(),ne?.unsubscribe()},void 0,void 0,()=>a.delete(v));h.add(De(n(D)).subscribe(ne))}}E.next(o?o(_):_)}catch(v){l(v)}},()=>c(_=>_.complete()),l,()=>a.clear(),()=>(d=!0,u===0));i.subscribe(h);function y(_,v){let E=new Q(D=>{u++;let ne=v.subscribe(D);return()=>{ne.unsubscribe(),--u===0&&d&&h.unsubscribe()}});return E.key=_,E}})}function xi(t){return t<=0?()=>It:B((e,n)=>{let r=[];e.subscribe(j(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ad(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,s)=>t(i,s,r)):rt,xi(1),n?rr(e):pc(()=>new An))}function Rd(){return B((t,e)=>{let n,r=!1;t.subscribe(j(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function Md(t,e){return B(pv(t,e,arguments.length>=2,!0))}function Ws(...t){let e=Jn(t);return B((n,r)=>{(e?Mi(t,n,e):Mi(t,n)).subscribe(r)})}function st(t,e){return B((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(j(r,c=>{i?.unsubscribe();let l=0,u=s++;De(t(c,u)).subscribe(i=j(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function xd(t){return B((e,n)=>{De(t).subscribe(j(n,()=>n.complete(),js)),!n.closed&&e.subscribe(n)})}function xe(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?B((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(j(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rt}var Yv="https://g.co/ng/security#xss",N=class extends Error{constructor(e,n){super(Ah(e,n)),this.code=e}};function Ah(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function so(t){return{toString:t}.toString()}var gc="__parameters__";function iR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Zv(t,e,n){return so(()=>{let r=iR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(gc)?c[gc]:Object.defineProperty(c,gc,{value:[]})[gc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Mr=globalThis;function he(t){for(let e in t)if(t[e]===he)return e;throw Error("Could not find renamed property on target object.")}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sR=he({__forward_ref__:he});function Jv(t){return t.__forward_ref__=Jv,t.toString=function(){return Et(this())},t}function kt(t){return Xv(t)?t():t}function Xv(t){return typeof t=="function"&&t.hasOwnProperty(sR)&&t.__forward_ref__===Jv}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ae(t){return{providers:t.providers||[],imports:t.imports||[]}}function Uc(t){return mv(t,tw)||mv(t,nw)}function ew(t){return Uc(t)!==null}function mv(t,e){return t.hasOwnProperty(e)?t[e]:null}function oR(t){let e=t&&(t[tw]||t[nw]);return e||null}function yv(t){return t&&(t.hasOwnProperty(_v)||t.hasOwnProperty(aR))?t[_v]:null}var tw=he({\u0275prov:he}),_v=he({\u0275inj:he}),nw=he({ngInjectableDef:he}),aR=he({ngInjectorDef:he}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rw(t){return t&&!!t.\u0275providers}var cR=he({\u0275cmp:he}),lR=he({\u0275dir:he}),uR=he({\u0275pipe:he}),dR=he({\u0275mod:he}),Cc=he({\u0275fac:he}),Gs=he({__NG_ELEMENT_ID__:he}),vv=he({__NG_ENV_ID__:he});function Rh(t){return typeof t=="string"?t:t==null?"":String(t)}function hR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rh(t)}function fR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new N(-200,t)}function Mh(t,e){throw new N(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),$d;function iw(){return $d}function Pt(t){let e=$d;return $d=t,e}function sw(t,e,n){let r=Uc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Mh(t,"Injector")}var pR={},Ks=pR,zd="__NG_DI_FLAG__",Tc="ngTempTokenPath",gR="ngTokenPath",mR=/\n/gm,yR="\u0275",wv="__source",Li;function _R(){return Li}function ir(t){let e=Li;return Li=t,e}function vR(t,e=z.Default){if(Li===void 0)throw new N(-203,!1);return Li===null?sw(t,void 0,e):Li.get(t,e&z.Optional?null:void 0,e)}function S(t,e=z.Default){return(iw()||vR)(kt(t),e)}function C(t,e=z.Default){return S(t,Bc(e))}function Bc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hd(t){let e=[];for(let n=0;n<t.length;n++){let r=kt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){let a=r[o],c=wR(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function ow(t,e){return t[zd]=e,t.prototype[zd]=e,t}function wR(t){return t[zd]}function IR(t,e,n,r){let i=t[Tc];throw e[wv]&&i.unshift(e[wv]),t.message=ER(`
`+t.message,i,n,r),t[gR]=i,t[Tc]=null,t}function ER(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yR?t.slice(2):t;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mR,`
  `)}`}var oe=ow(Zv("Optional"),8);var aw=ow(Zv("SkipSelf"),4);function Vi(t,e){let n=t.hasOwnProperty(Cc);return n?t[Cc]:null}function CR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function TR(t){return t.flat(Number.POSITIVE_INFINITY)}function xh(t,e){t.forEach(n=>Array.isArray(n)?xh(n,e):e(n))}function cw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Qs={},an=[],Ui=new R(""),lw=new R("",-1),uw=new R(""),Sc=class{get(e,n=Ks){if(n===Ks){let r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return n}},dw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dw||{}),un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{}),Gt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Gt||{});function bR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function qd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];SR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function hw(t){return t===3||t===4||t===6}function SR(t){return t.charCodeAt(0)===64}function Nh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Iv(t,n,i,null,e[++r]):Iv(t,n,i,null,null))}}return t}function Iv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var fw="ng-template";function DR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&bR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ph(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ph(t){return t.type===4&&t.value!==fw}function AR(t,e,n){let r=t.type===4&&!n?fw:t.value;return e===r}function RR(t,e,n){let r=4,i=t.attrs,s=i!==null?NR(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!qt(r)&&!qt(c))return!1;if(o&&qt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!AR(t,c,n)||c===""&&e.length===1){if(qt(r))return!1;o=!0}}else if(r&8){if(i===null||!DR(t,i,c,n)){if(qt(r))return!1;o=!0}}else{let l=e[++a],u=MR(c,i,Ph(t),n);if(u===-1){if(qt(r))return!1;o=!0;continue}if(l!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(qt(r))return!1;o=!0}}}}return qt(r)||o}function qt(t){return(t&1)===0}function MR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return PR(e,t)}function xR(t,e,n=!1){for(let r=0;r<e.length;r++)if(RR(t,e[r],n))return!0;return!1}function NR(t){for(let e=0;e<t.length;e++){let n=t[e];if(hw(n))return e}return t.length}function PR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ev(t,e){return t?":not("+e.trim()+")":e}function kR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!qt(o)&&(e+=Ev(s,i),i=""),r=o,s=s||!qt(r);n++}return i!==""&&(e+=Ev(s,i)),e}function OR(t){return t.map(kR).join(",")}function LR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!qt(i))break;i=s}r++}return{attrs:e,classes:n}}function G(t){return so(()=>{let e=_w(t),n=pe(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||an,_:null,schemas:t.schemas||null,tView:null,id:""});vw(n);let r=t.dependencies;return n.directiveDefs=Tv(r,!1),n.pipeDefs=Tv(r,!0),n.id=UR(n),n})}function FR(t){return or(t)||pw(t)}function VR(t){return t!==null}function Re(t){return so(()=>({type:t.type,bootstrap:t.bootstrap||an,declarations:t.declarations||an,imports:t.imports||an,exports:t.exports||an,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Cv(t,e){if(t==null)return Qs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Gt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Gt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function oo(t){return so(()=>{let e=_w(t);return vw(e),e})}function or(t){return t[cR]||null}function pw(t){return t[lR]||null}function gw(t){return t[uR]||null}function mw(t){let e=or(t)||pw(t)||gw(t);return e!==null?e.standalone:!1}function yw(t,e){let n=t[dR]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function _w(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||an,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cv(t.inputs,e),outputs:Cv(t.outputs),debugInfo:null}}function vw(t){t.features?.forEach(e=>e(t))}function Tv(t,e){if(!t)return null;let n=e?gw:FR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(VR)}function UR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jc(t){return{\u0275providers:t}}function Pn(...t){return{\u0275providers:ww(!0,t),\u0275fromNgModule:!0}}function ww(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return xh(e,o=>{let a=o;Wd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Iw(i,s),n}function Iw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];kh(i,s=>{e(s,r)})}}function Wd(t,e,n,r){if(t=kt(t),!t)return!1;let i=null,s=yv(t),o=!s&&or(t);if(!s&&!o){let c=t.ngModule;if(s=yv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Wd(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{xh(s.imports,u=>{Wd(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Iw(l,e)}if(!a){let l=Vi(i)||(()=>new i);e({provide:i,useFactory:l,deps:an},i),e({provide:uw,useValue:i,multi:!0},i),e({provide:Ui,useValue:()=>S(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;kh(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function kh(t,e){for(let n of t)rw(n)&&(n=n.\u0275providers),Array.isArray(n)?kh(n,e):e(n)}var BR=he({provide:String,useValue:he});function Ew(t){return t!==null&&typeof t=="object"&&BR in t}function jR(t){return!!(t&&t.useExisting)}function $R(t){return!!(t&&t.useFactory)}function Gd(t){return typeof t=="function"}var $c=new R(""),yc={},zR={},Nd;function Oh(){return Nd===void 0&&(Nd=new Sc),Nd}var Tt=class{},Ys=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qd(e,o=>this.processProvider(o)),this.records.set(lw,Ni(void 0,this)),i.has("environment")&&this.records.set(Tt,Ni(void 0,this));let s=this.records.get($c);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uw,an,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ir(this),r=Pt(void 0),i;try{return e()}finally{ir(n),Pt(r)}}get(e,n=Ks,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vv))return e[vv](this);r=Bc(r);let i,s=ir(this),o=Pt(void 0);try{if(!(r&z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=QR(e)&&Uc(e);l&&this.injectableDefInScope(l)?c=Ni(Kd(e),yc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&z.Self?Oh():this.parent;return n=r&z.Optional&&n===Ks?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Tc]=a[Tc]||[]).unshift(Et(e)),s)throw a;return IR(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(o),ir(s)}}resolveInjectorInitializers(){let e=ie(null),n=ir(this),r=Pt(void 0),i;try{let s=this.get(Ui,an,z.Self);for(let o of s)o()}finally{ir(n),Pt(r),ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){e=kt(e);let n=Gd(e)?e:kt(e&&e.provide),r=qR(e);if(!Gd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ni(void 0,yc,!0),i.factory=()=>Hd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ie(null);try{return n.value===yc&&(n.value=zR,n.value=n.factory()),typeof n.value=="object"&&n.value&&KR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=kt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Kd(t){let e=Uc(t),n=e!==null?e.factory:Vi(t);if(n!==null)return n;if(t instanceof R)throw new N(204,!1);if(t instanceof Function)return HR(t);throw new N(204,!1)}function HR(t){if(t.length>0)throw new N(204,!1);let n=oR(t);return n!==null?()=>n.factory(t):()=>new t}function qR(t){if(Ew(t))return Ni(void 0,t.useValue);{let e=WR(t);return Ni(e,yc)}}function WR(t,e,n){let r;if(Gd(t)){let i=kt(t);return Vi(i)||Kd(i)}else if(Ew(t))r=()=>kt(t.useValue);else if($R(t))r=()=>t.useFactory(...Hd(t.deps||[]));else if(jR(t))r=()=>S(kt(t.useExisting));else{let i=kt(t&&(t.useClass||t.provide));if(GR(t))r=()=>new i(...Hd(t.deps));else return Vi(i)||Kd(i)}return r}function Ni(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function GR(t){return!!t.deps}function KR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QR(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function Qd(t,e){for(let n of t)Array.isArray(n)?Qd(n,e):n&&rw(n)?Qd(n.\u0275providers,e):e(n)}function kn(t,e){t instanceof Ys&&t.assertNotDestroyed();let n,r=ir(t),i=Pt(void 0);try{return e()}finally{ir(r),Pt(i)}}function Cw(){return iw()!==void 0||_R()!=null}function YR(t){if(!Cw())throw new N(-203,!1)}function ZR(t){return typeof t=="function"}var On=0,H=1,P=2,ze=3,Wt=4,Qt=5,Dc=6,Zs=7,Mn=8,Bi=9,Kt=10,bt=11,Js=12,bv=13,ao=14,dn=15,co=16,Pi=17,xn=18,zc=19,Tw=20,sr=21,Pd=22,Pr=23,kr=25,bw=1;var Or=7,Ac=8,ji=9,Ct=10,Lh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Lh||{});function xr(t){return Array.isArray(t)&&typeof t[bw]=="object"}function Ln(t){return Array.isArray(t)&&t[bw]===!0}function Sw(t){return(t.flags&4)!==0}function Fh(t){return t.componentOffset>-1}function Dw(t){return(t.flags&1)===1}function lo(t){return!!t.template}function JR(t){return(t[P]&512)!==0}var Yd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Aw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function qi(){return Rw}function Rw(t){return t.type.prototype.ngOnChanges&&(t.setInput=eM),XR}qi.ngInherit=!0;function XR(){let t=xw(this),e=t?.current;if(e){let n=t.previous;if(n===Qs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eM(t,e,n,r,i){let s=this.declaredInputs[r],o=xw(t)||tM(t,{previous:Qs,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Yd(l&&l.currentValue,n,c===Qs),Aw(t,e,i,n)}var Mw="__ngSimpleChanges__";function xw(t){return t[Mw]||null}function tM(t,e){return t[Mw]=e}var Sv=null;var cn=function(t,e,n){Sv?.(t,e,n)},nM="svg",rM="math",iM=!1;function sM(){return iM}function Nn(t){for(;Array.isArray(t);)t=t[On];return t}function Yt(t,e){return Nn(e[t.index])}function Nw(t,e){return t.data[e]}function Vr(t,e){let n=e[t];return xr(n)?n:n[On]}function oM(t){return(t[P]&4)===4}function Vh(t){return(t[P]&128)===128}function aM(t){return Ln(t[ze])}function Dv(t,e){return e==null?null:t[e]}function Pw(t){t[Pi]=0}function cM(t){t[P]&1024||(t[P]|=1024,Vh(t)&&Xs(t))}function Uh(t){return!!(t[P]&9216||t[Pr]?.dirty)}function Zd(t){t[Kt].changeDetectionScheduler?.notify(1),Uh(t)?Xs(t):t[P]&64&&(sM()?(t[P]|=1024,Xs(t)):t[Kt].changeDetectionScheduler?.notify())}function Xs(t){t[Kt].changeDetectionScheduler?.notify();let e=eo(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Vh(e)));)e=eo(e)}function kw(t,e){if((t[P]&256)===256)throw new N(911,!1);t[sr]===null&&(t[sr]=[]),t[sr].push(e)}function lM(t,e){if(t[sr]===null)return;let n=t[sr].indexOf(e);n!==-1&&t[sr].splice(n,1)}function eo(t){let e=t[ze];return Ln(e)?e[ze]:e}var se={lFrame:jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uM(){return se.lFrame.elementDepthCount}function dM(){se.lFrame.elementDepthCount++}function hM(){se.lFrame.elementDepthCount--}function Ow(){return se.bindingsEnabled}function fM(){return se.skipHydrationRootTNode!==null}function pM(t){return se.skipHydrationRootTNode===t}function gM(){se.skipHydrationRootTNode=null}function Ne(){return se.lFrame.lView}function Ur(){return se.lFrame.tView}function Lt(){let t=Lw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Lw(){return se.lFrame.currentTNode}function mM(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hc(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function Fw(){return se.lFrame.isParent}function yM(){se.lFrame.isParent=!1}function _M(t){return se.lFrame.bindingIndex=t}function vM(){return se.lFrame.bindingIndex++}function wM(){return se.lFrame.inI18n}function IM(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jd(e)}function EM(){return se.lFrame.currentDirectiveIndex}function Jd(t){se.lFrame.currentDirectiveIndex=t}function Vw(){return se.lFrame.currentQueryIndex}function Bh(t){se.lFrame.currentQueryIndex=t}function CM(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[Qt]:null}function Uw(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=CM(s),i===null||(s=s[ao],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=se.lFrame=Bw();return r.currentTNode=e,r.lView=t,!0}function jh(t){let e=Bw(),n=t[H];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Bw(){let t=se.lFrame,e=t===null?null:t.child;return e===null?jw(t):e}function jw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $w(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zw=$w;function $h(){let t=$w();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function TM(){return se.lFrame.selectedIndex}function Lr(t){se.lFrame.selectedIndex=t}function bM(){let t=se.lFrame;return Nw(t.tView,t.selectedIndex)}function SM(){return se.lFrame.currentNamespace}var Hw=!0;function qw(){return Hw}function Ww(t){Hw=t}function DM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Rw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Gw(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function _c(t,e,n){Kw(t,e,3,n)}function vc(t,e,n,r){(t[P]&3)===n&&Kw(t,e,n,r)}function kd(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function Kw(t,e,n,r){let i=r!==void 0?t[Pi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Pi]+=65536),(a<s||s==-1)&&(AM(t,n,e,c),t[Pi]=(t[Pi]&4294901760)+c+2),c++}function Av(t,e){cn(4,t,e);let n=ie(null);try{e.call(t)}finally{ie(n),cn(5,t,e)}}function AM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[P]>>14<t[Pi]>>16&&(t[P]&3)===e&&(t[P]+=16384,Av(a,s)):Av(a,s)}var Fi=-1,to=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function RM(t){return t instanceof to}function MM(t){return(t.flags&8)!==0}function xM(t){return(t.flags&16)!==0}function Qw(t){return t!==Fi}function Rc(t){return t&32767}function NM(t){return t>>16}function Mc(t,e){let n=NM(t),r=e;for(;n>0;)r=r[ao],n--;return r}var Xd=!0;function Rv(t){let e=Xd;return Xd=t,e}var PM=256,Yw=PM-1,Zw=5,kM=0,ln={};function OM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gs)&&(r=n[Gs]),r==null&&(r=n[Gs]=kM++);let i=r&Yw,s=1<<i;e.data[t+(i>>Zw)]|=s}function Jw(t,e){let n=Xw(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Od(r.data,t),Od(e,null),Od(r.blueprint,null));let i=zh(t,e),s=t.injectorIndex;if(Qw(i)){let o=Rc(i),a=Mc(i,e),c=a[H].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Od(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=iI(i),r===null)return Fi;if(n++,i=i[ao],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fi}function LM(t,e,n){OM(t,e,n)}function FM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(hw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function eI(t,e,n){if(n&z.Optional||t!==void 0)return t;Mh(e,"NodeInjector")}function tI(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[Bi],s=Pt(void 0);try{return i?i.get(e,r,n&z.Optional):sw(e,r,n&z.Optional)}finally{Pt(s)}}return eI(r,e,n)}function nI(t,e,n,r=z.Default,i){if(t!==null){if(e[P]&2048&&!(r&z.Self)){let o=jM(t,e,n,r,ln);if(o!==ln)return o}let s=rI(t,e,n,r,ln);if(s!==ln)return s}return tI(e,n,r,i)}function rI(t,e,n,r,i){let s=UM(n);if(typeof s=="function"){if(!Uw(e,t,r))return r&z.Host?eI(i,n,r):tI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&z.Optional))Mh(n);else return o}finally{zw()}}else if(typeof s=="number"){let o=null,a=Xw(t,e),c=Fi,l=r&z.Host?e[dn][Qt]:null;for((a===-1||r&z.SkipSelf)&&(c=a===-1?zh(t,e):e[a+8],c===Fi||!xv(r,!1)?a=-1:(o=e[H],a=Rc(c),e=Mc(c,e)));a!==-1;){let u=e[H];if(Mv(s,a,u.data)){let d=VM(a,e,n,o,r,l);if(d!==ln)return d}c=e[a+8],c!==Fi&&xv(r,e[H].data[a+8]===l)&&Mv(s,a,e)?(o=u,a=Rc(c),e=Mc(c,e)):a=-1}}return i}function VM(t,e,n,r,i,s){let o=e[H],a=o.data[t+8],c=r==null?Fh(a)&&Xd:r!=o&&(a.type&3)!==0,l=i&z.Host&&s===a,u=wc(a,o,n,c,l);return u!==null?$i(e,o,u,a):ln}function wc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:l;for(let y=d;y<h;y++){let _=o[y];if(y<c&&n===_||y>=c&&_.type===n)return y}if(i){let y=o[c];if(y&&lo(y)&&y.type===n)return c}return null}function $i(t,e,n,r){let i=t[n],s=e.data;if(RM(i)){let o=i;o.resolving&&fR(hR(s[n]));let a=Rv(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Pt(o.injectImpl):null,u=Uw(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&DM(n,s[n],e)}finally{l!==null&&Pt(l),Rv(a),o.resolving=!1,zw()}}return i}function UM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Gs)?t[Gs]:void 0;return typeof e=="number"?e>=0?e&Yw:BM:e}function Mv(t,e,n){let r=1<<t;return!!(n[e+(t>>Zw)]&r)}function xv(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var Nr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nI(this._tNode,this._lView,e,Bc(r),n)}};function BM(){return new Nr(Lt(),Ne())}function Hh(t){return so(()=>{let e=t.prototype.constructor,n=e[Cc]||eh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Cc]||eh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function eh(t){return Xv(t)?()=>{let e=eh(kt(t));return e&&e()}:Vi(t)}function jM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[P]&2048&&!(o[P]&512);){let a=rI(s,o,n,r|z.Self,ln);if(a!==ln)return a;let c=s.parent;if(!c){let l=o[Tw];if(l){let u=l.get(n,ln,r);if(u!==ln)return u}c=iI(o),o=o[ao]}s=c}return i}function iI(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[Qt]:null}function qh(t){return FM(Lt(),t)}function Nv(t,e=null,n=null,r){let i=sI(t,e,n,r);return i.resolveInjectorInitializers(),i}function sI(t,e=null,n=null,r,i=new Set){let s=[n||an,Pn(t)];return r=r||(typeof t=="object"?void 0:Et(t)),new Ys(s,e||Oh(),r||null,i)}var ge=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Nv({name:""},i,r,"");{let s=r.name??"";return Nv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ks,e.NULL=new Sc,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>S(lw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var $M="ngOriginalError";function Ld(t){return t[$M]}var hn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ld(e);for(;n&&Ld(n);)n=Ld(n);return n||null}},oI=new R("",{providedIn:"root",factory:()=>C(hn).handleError.bind(void 0)}),Wh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),th=class extends Wh{constructor(e){super(),this._lView=e}onDestroy(e){return kw(this._lView,e),()=>lM(this._lView,e)}};function zM(){return new th(Ne())}function HM(){return Wi(Lt(),Ne())}function Wi(t,e){return new Zt(Yt(t,e))}var Zt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=HM;let t=e;return t})();function qM(t){return t instanceof Zt?t.nativeElement:t}var nh=class extends ke{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Cw()&&(this.destroyRef=C(Wh,{optional:!0})??void 0)}emit(e){let n=ie(null);try{super.next(e)}finally{ie(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Fd(s),i&&(i=Fd(i)),o&&(o=Fd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(a),a}};function Fd(t){return e=>{setTimeout(t,void 0,e)}}var Ot=nh;function WM(){return this._results[Symbol.iterator]()}var rh=class t{get changes(){return this._changes??=new Ot}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=WM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=TR(e);(this._changesDetected=!CR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function aI(t){return(t.flags&128)===128}var ih;function cI(t){ih=t}function GM(){if(ih!==void 0)return ih;if(typeof document<"u")return document;throw new N(210,!1)}var Gh=new R("",{providedIn:"root",factory:()=>KM}),KM="ng",Kh=new R(""),fn=new R("",{providedIn:"platform",factory:()=>"unknown"});var Qh=new R("",{providedIn:"root",factory:()=>GM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QM="h",YM="b";var ZM=()=>null;function Yh(t,e,n=!1){return ZM(t,e,n)}var lI=!1,JM=new R("",{providedIn:"root",factory:()=>lI});var mc;function XM(){if(mc===void 0&&(mc=null,Mr.trustedTypes))try{mc=Mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return mc}function Pv(t){return XM()?.createScriptURL(t)||t}var xc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yv})`}};function qc(t){return t instanceof xc?t.changingThisBreaksApplicationSecurity:t}function Zh(t,e){let n=ex(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Yv})`)}return n===e}function ex(t){return t instanceof xc&&t.getTypeName()||null}var tx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uI(t){return t=String(t),t.match(tx)?t:"unsafe:"+t}var Wc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wc||{});function nx(t){let e=hI();return e?e.sanitize(Wc.URL,t)||"":Zh(t,"URL")?qc(t):uI(Rh(t))}function rx(t){let e=hI();if(e)return Pv(e.sanitize(Wc.RESOURCE_URL,t)||"");if(Zh(t,"ResourceURL"))return Pv(qc(t));throw new N(904,!1)}function ix(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rx:nx}function dI(t,e,n){return ix(e,n)(t)}function hI(){let t=Ne();return t&&t[Kt].sanitizer}var fI=new Map,sx=0;function ox(){return sx++}function ax(t){fI.set(t[zc],t)}function cx(t){fI.delete(t[zc])}var kv="__ngContext__";function zi(t,e){xr(e)?(t[kv]=e[zc],ax(e)):t[kv]=e}function pI(t){return t instanceof Function?t():t}function lx(t){return(t??C(ge)).get(fn)==="browser"}var Br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Br||{}),ux;function Jh(t,e){return ux(t,e)}function ki(t,e,n,r,i){if(r!=null){let s,o=!1;Ln(r)?s=r:xr(r)&&(o=!0,r=r[On]);let a=Nn(r);t===0&&n!==null?i==null?vI(e,n,a):Nc(e,n,a,i||null,!0):t===1&&n!==null?Nc(e,n,a,i||null,!0):t===2?Sx(e,a,o):t===3&&e.destroyNode(a),s!=null&&Ax(e,t,s,n,i)}}function dx(t,e){return t.createText(e)}function gI(t,e,n){return t.createElement(e,n)}function hx(t,e){mI(t,e),e[On]=null,e[Qt]=null}function fx(t,e,n,r,i,s){r[On]=i,r[Qt]=e,Gc(t,r,n,1,i,s)}function mI(t,e){e[Kt].changeDetectionScheduler?.notify(1),Gc(t,e,e[bt],2,null,null)}function px(t){let e=t[Js];if(!e)return Vd(t[H],t);for(;e;){let n=null;if(xr(e))n=e[Js];else{let r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[Wt]&&e!==t;)xr(e)&&Vd(e[H],e),e=e[ze];e===null&&(e=t),xr(e)&&Vd(e[H],e),n=e&&e[Wt]}e=n}}function gx(t,e,n,r){let i=Ct+r,s=n.length;r>0&&(n[i-1][Wt]=e),r<s-Ct?(e[Wt]=n[i],cw(n,Ct+r,e)):(n.push(e),e[Wt]=null),e[ze]=n;let o=e[co];o!==null&&n!==o&&mx(o,e);let a=e[xn];a!==null&&a.insertView(t),Zd(e),e[P]|=128}function mx(t,e){let n=t[ji],i=e[ze][ze][dn];e[dn]!==i&&(t[P]|=Lh.HasTransplantedViews),n===null?t[ji]=[e]:n.push(e)}function yI(t,e){let n=t[ji],r=n.indexOf(e);n.splice(r,1)}function sh(t,e){if(t.length<=Ct)return;let n=Ct+e,r=t[n];if(r){let i=r[co];i!==null&&i!==t&&yI(i,r),e>0&&(t[n-1][Wt]=r[Wt]);let s=bc(t,Ct+e);hx(r[H],r);let o=s[xn];o!==null&&o.detachView(s[H]),r[ze]=null,r[Wt]=null,r[P]&=-129}return r}function _I(t,e){if(!(e[P]&256)){let n=e[bt];n.destroyNode&&Gc(t,e,n,3,null,null),px(e)}}function Vd(t,e){if(e[P]&256)return;let n=ie(null);try{e[P]&=-129,e[P]|=256,e[Pr]&&U_(e[Pr]),_x(t,e),yx(t,e),e[H].type===1&&e[bt].destroy();let r=e[co];if(r!==null&&Ln(e[ze])){r!==e[ze]&&yI(r,e);let i=e[xn];i!==null&&i.detachView(t)}cx(e)}finally{ie(n)}}function yx(t,e){let n=t.cleanup,r=e[Zs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Zs]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function _x(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof to)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];cn(4,a,c);try{c.call(a)}finally{cn(5,a,c)}}else{cn(4,i,s);try{s.call(i)}finally{cn(5,i,s)}}}}}function vx(t,e,n){return wx(t,e.parent,n)}function wx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[On];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===un.None||s===un.Emulated)return null}return Yt(r,n)}}function Nc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function vI(t,e,n){t.appendChild(e,n)}function Ov(t,e,n,r,i){r!==null?Nc(t,e,n,r,i):vI(t,e,n)}function Ix(t,e,n,r){t.removeChild(e,n,r)}function Xh(t,e){return t.parentNode(e)}function Ex(t,e){return t.nextSibling(e)}function Cx(t,e,n){return bx(t,e,n)}function Tx(t,e,n){return t.type&40?Yt(t,n):null}var bx=Tx,Lv;function wI(t,e,n,r){let i=vx(t,r,e),s=e[bt],o=r.parent||e[Qt],a=Cx(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ov(s,i,n[c],a,!1);else Ov(s,i,n,a,!1);Lv!==void 0&&Lv(s,r,e,n,i)}function Ic(t,e){if(e!==null){let n=e.type;if(n&3)return Yt(e,t);if(n&4)return oh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ic(t,r);{let i=t[e.index];return Ln(i)?oh(-1,i):Nn(i)}}else{if(n&32)return Jh(e,t)()||Nn(t[e.index]);{let r=II(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=eo(t[dn]);return Ic(i,r)}else return Ic(t,e.next)}}}return null}function II(t,e){if(e!==null){let r=t[dn][Qt],i=e.projection;return r.projection[i]}return null}function oh(t,e){let n=Ct+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return Ic(r,i)}return e[Or]}function Sx(t,e,n){let r=Xh(t,e);r&&Ix(t,r,e,n)}function ef(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&zi(Nn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)ef(t,e,n.child,r,i,s,!1),ki(e,t,i,a,s);else if(c&32){let l=Jh(n,r),u;for(;u=l();)ki(e,t,i,u,s);ki(e,t,i,a,s)}else c&16?Dx(t,e,r,n,i,s):ki(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Gc(t,e,n,r,i,s){ef(n,r,t.firstChild,e,i,s,!1)}function Dx(t,e,n,r,i,s){let o=n[dn],c=o[Qt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];ki(e,t,i,u,s)}else{let l=c,u=o[ze];aI(r)&&(l.flags|=128),ef(t,e,l,u,i,s,!0)}}function Ax(t,e,n,r,i){let s=n[Or],o=Nn(n);s!==o&&ki(e,t,r,s,i);for(let a=Ct;a<n.length;a++){let c=n[a];Gc(c[H],c,t,e,r,s)}}function Rx(t,e,n){t.setAttribute(e,"style",n)}function EI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function CI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&qd(t,e,r),i!==null&&EI(t,e,i),s!==null&&Rx(t,e,s)}var TI={};function Mx(t,e,n,r){if(!r)if((e[P]&3)===3){let s=t.preOrderCheckHooks;s!==null&&_c(e,s,n)}else{let s=t.preOrderHooks;s!==null&&vc(e,s,0,n)}Lr(n)}function Jt(t,e=z.Default){let n=Ne();if(n===null)return S(t,e);let r=Lt();return nI(r,n,kt(t),e)}function bI(){let t="invalid";throw new Error(t)}function SI(t,e,n,r,i,s){let o=ie(null);try{let a=null;i&Gt.SignalBased&&(a=e[r][O_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Gt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Aw(e,a,r,s)}finally{ie(o)}}function xx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Lr(~i);else{let s=i,o=n[++r],a=n[++r];IM(o,s);let c=e[s];a(2,c)}}}finally{Lr(-1)}}function Kc(t,e,n,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[On]=i,d[P]=r|4|128|8|64,(l!==null||t&&t[P]&2048)&&(d[P]|=2048),Pw(d),d[ze]=d[ao]=t,d[Mn]=n,d[Kt]=o||t&&t[Kt],d[bt]=a||t&&t[bt],d[Bi]=c||t&&t[Bi]||null,d[Qt]=s,d[zc]=ox(),d[Dc]=u,d[Tw]=l,d[dn]=e.type==2?t[dn]:d,d}function tf(t,e,n,r,i){let s=t.data[e];if(s===null)s=Nx(t,e,n,r,i),wM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=mM();s.injectorIndex=o===null?-1:o.injectorIndex}return Hc(s,!0),s}function Nx(t,e,n,r,i){let s=Lw(),o=Fw(),a=o?s:s&&s.parent,c=t.data[e]=Bx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function DI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function AI(t,e,n,r,i){let s=TM(),o=r&2;try{Lr(-1),o&&e.length>kr&&Mx(t,e,kr,!1),cn(o?2:0,i),n(r,i)}finally{Lr(s),cn(o?3:1,i)}}function RI(t,e,n){if(Sw(e)){let r=ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ie(r)}}}function Px(t,e,n){Ow()&&(qx(t,e,n,Yt(n,e)),(n.flags&64)===64&&PI(t,e,n))}function kx(t,e,n=Yt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function MI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xI(t,e,n,r,i,s,o,a,c,l,u){let d=kr+r,h=d+i,y=Ox(d,h),_=typeof l=="function"?l():l;return y[H]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}function Ox(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:TI);return n}function Lx(t,e,n,r){let s=r.get(JM,lI)||n===un.ShadowDom,o=t.selectRootElement(e,s);return Fx(o),o}function Fx(t){Vx(t)}var Vx=()=>null;function Ux(t,e,n,r){let i=OI(e);i.push(n),t.firstCreatePass&&LI(t).push(r,i.length-1)}function Bx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return fM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Fv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Gt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Vv(r,n,l,a,c):Vv(r,n,l,a)}return r}function Vv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function jx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,y=h?h.inputs:null,_=h?h.outputs:null;c=Fv(0,d.inputs,u,c,y),l=Fv(1,d.outputs,u,l,_);let v=c!==null&&o!==null&&!Ph(e)?nN(c,u,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function $x(t,e,n,r){if(Ow()){let i=r===null?null:{"":-1},s=Gx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&NI(t,e,n,o,i,a),i&&Kx(n,r,i)}n.mergedAttrs=Nh(n.mergedAttrs,n.attrs)}function NI(t,e,n,r,i,s){for(let l=0;l<r.length;l++)LM(Jw(n,e),t,r[l].type);Yx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=DI(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Nh(n.mergedAttrs,u.hostAttrs),Zx(t,n,e,c,u),Qx(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}jx(t,n,s)}function zx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Hx(o)!=a&&o.push(a),o.push(n,r,s)}}function Hx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Fh(n)&&Jx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Jw(n,e),zi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=$i(e,t,a,n);if(zi(l,e),o!==null&&tN(e,a-i,l,c,n,o),lo(c)){let u=Vr(n.index,e);u[Mn]=$i(e,t,a,n)}}}function PI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=EM();try{Lr(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Jd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Wx(c,l)}}finally{Lr(-1),Jd(o)}}function Wx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Gx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(xR(e,o.selectors,!1))if(r||(r=[]),lo(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;ah(t,e,c)}else r.unshift(o),ah(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function ah(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Kx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new N(-301,!1);r.push(e[i],s)}}}function Qx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lo(e)&&(n[""]=t)}}function Yx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Vi(i.type,!0)),o=new to(s,lo(i),Jt);t.blueprint[r]=o,n[r]=o,zx(t,e,r,DI(t,n,i.hostVars,TI),i)}function Jx(t,e,n){let r=Yt(e,t),i=MI(n),s=t[Kt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=nf(t,Kc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Xx(t,e,n,r,i,s){let o=Yt(t,e);eN(e[bt],o,s,t.value,n,r,i)}function eN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Rh(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function tN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];SI(r,n,c,l,u,d)}}function nN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function rN(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kI(t,e){let n=t.contentQueries;if(n!==null){let r=ie(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Bh(s),a.contentQueries(2,e[o],o)}}}finally{ie(r)}}}function nf(t,e){return t[Js]?t[bv][Wt]=e:t[Js]=e,t[bv]=e,e}function ch(t,e,n){Bh(0);let r=ie(null);try{e(t,n)}finally{ie(r)}}function OI(t){return t[Zs]||(t[Zs]=[])}function LI(t){return t.cleanup||(t.cleanup=[])}function FI(t,e){let n=t[Bi],r=n?n.get(hn,null):null;r&&r.handleError(e)}function VI(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];SI(u,l,r,a,c,i)}}function iN(t,e){let n=Vr(e,t),r=n[H];sN(r,n);let i=n[On];i!==null&&n[Dc]===null&&(n[Dc]=Yh(i,n[Bi])),rf(r,n,n[Mn])}function sN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rf(t,e,n){jh(e);try{let r=t.viewQuery;r!==null&&ch(1,r,n);let i=t.template;i!==null&&AI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xn]?.finishViewCreation(t),t.staticContentQueries&&kI(t,e),t.staticViewQueries&&ch(2,t.viewQuery,n);let s=t.components;s!==null&&oN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,$h()}}function oN(t,e){for(let n=0;n<e.length;n++)iN(t,e[n])}function aN(t,e,n,r){let i=ie(null);try{let s=e.tView,a=t[P]&4096?4096:16,c=Kc(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[co]=l;let u=t[xn];return u!==null&&(c[xn]=u.createEmbeddedView(s)),rf(s,c,n),c}finally{ie(i)}}function Uv(t,e){return!e||e.firstChild===null||aI(t)}function cN(t,e,n,r=!0){let i=e[H];if(gx(i,e,t,n),r){let o=oh(n,t),a=e[bt],c=Xh(a,t[Or]);c!==null&&fx(i,t[Qt],a,e,c,o)}let s=e[Dc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Pc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Nn(s)),Ln(s)&&lN(s,r);let o=n.type;if(o&8)Pc(t,e,n.child,r);else if(o&32){let a=Jh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=II(e,n);if(Array.isArray(a))r.push(...a);else{let c=eo(e[dn]);Pc(c[H],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lN(t,e){for(let n=Ct;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&Pc(r[H],r,i,e)}t[Or]!==t[On]&&e.push(t[Or])}var UI=[];function uN(t){return t[Pr]??dN(t)}function dN(t){let e=UI.pop()??Object.create(fN);return e.lView=t,e}function hN(t){t.lView[Pr]!==t&&(t.lView=null,UI.push(t))}var fN=pe(T({},L_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xs(t.lView)},consumerOnSignalRead(){this.lView[Pr]=this}});function BI(t){return $I(t[Js])}function jI(t){return $I(t[Wt])}function $I(t){for(;t!==null&&!Ln(t);)t=t[Wt];return t}var zI=100;function HI(t,e=!0,n=0){let r=t[Kt],i=r.rendererFactory,s=!1;s||i.begin?.();try{pN(t,n)}catch(o){throw e&&FI(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function pN(t,e){lh(t,e);let n=0;for(;Uh(t);){if(n===zI)throw new N(103,!1);n++,lh(t,1)}}function gN(t,e,n,r){let i=e[P];if((i&256)===256)return;let s=!1;!s&&e[Kt].inlineEffectRunner?.flush(),jh(e);let o=null,a=null;!s&&mN(t)&&(a=uN(e),o=F_(a));try{Pw(e),_M(t.bindingStartIndex),n!==null&&AI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&_c(e,d,null)}else{let d=t.preOrderHooks;d!==null&&vc(e,d,0,null),kd(e,0)}if(yN(e),qI(e,0),t.contentQueries!==null&&kI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&_c(e,d)}else{let d=t.contentHooks;d!==null&&vc(e,d,1),kd(e,1)}xx(t,e);let l=t.components;l!==null&&GI(e,l,0);let u=t.viewQuery;if(u!==null&&ch(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&_c(e,d)}else{let d=t.viewHooks;d!==null&&vc(e,d,2),kd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Pd]){for(let d of e[Pd])d();e[Pd]=null}s||(e[P]&=-73)}catch(c){throw Xs(e),c}finally{a!==null&&(V_(a,o),hN(a)),$h()}}function mN(t){return t.type!==2}function qI(t,e){for(let n=BI(t);n!==null;n=jI(n))for(let r=Ct;r<n.length;r++){let i=n[r];WI(i,e)}}function yN(t){for(let e=BI(t);e!==null;e=jI(e)){if(!(e[P]&Lh.HasTransplantedViews))continue;let n=e[ji];for(let r=0;r<n.length;r++){let i=n[r],s=i[ze];cM(i)}}}function _N(t,e,n){let r=Vr(e,t);WI(r,n)}function WI(t,e){Vh(t)&&lh(t,e)}function lh(t,e){let r=t[H],i=t[P],s=t[Pr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ld(s)),s&&(s.dirty=!1),t[P]&=-9217,o)gN(r,t,r.template,t[Mn]);else if(i&8192){qI(t,1);let a=r.components;a!==null&&GI(t,a,1)}}function GI(t,e,n){for(let r=0;r<e.length;r++)_N(t,e[r],n)}function sf(t){for(t[Kt].changeDetectionScheduler?.notify();t;){t[P]|=64;let e=eo(t);if(JR(t)&&!e)return t;t=e}return null}var Fr=class{get rootNodes(){let e=this._lView,n=e[H];return Pc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(e){this._lView[Mn]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ze];if(Ln(e)){let n=e[Ac],r=n?n.indexOf(this):-1;r>-1&&(sh(e,r),bc(n,r))}this._attachedToViewContainer=!1}_I(this._lView[H],this._lView)}onDestroy(e){kw(this._lView,e)}markForCheck(){sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[P]&=-129}reattach(){Zd(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,HI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,mI(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e,Zd(this._lView)}},no=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IN;let t=e;return t})(),vN=no,wN=class extends vN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=aN(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Fr(i)}};function IN(){return of(Lt(),Ne())}function of(t,e){return t.type&4?new wN(e,t,Wi(t,e)):null}var o5=new RegExp(`^(\\d+)*(${YM}|${QM})*(.*)`);var EN=()=>null;function Bv(t,e){return EN(t,e)}var kc=class{},uh=class{},Oc=class{};function CN(t){let e=Error(`No component factory found for ${Et(t)}.`);return e[TN]=t,e}var TN="ngComponent";var dh=class{resolveComponentFactory(e){throw CN(e)}},Gi=(()=>{let e=class e{};e.NULL=new dh;let t=e;return t})(),ro=class{},Qc=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>bN();let t=e;return t})();function bN(){let t=Ne(),e=Lt(),n=Vr(e.index,t);return(xr(n)?n:t)[bt]}var SN=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ud={};var jv=new Set;function af(t){jv.has(t)||(jv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function $v(...t){}function DN(){let t=typeof Mr.requestAnimationFrame=="function",e=Mr[t?"requestAnimationFrame":"setTimeout"],n=Mr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var F=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ot(!1),this.onMicrotaskEmpty=new Ot(!1),this.onStable=new Ot(!1),this.onError=new Ot(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=DN().nativeRequestAnimationFrame,MN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,AN,$v,$v);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},AN={};function cf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hh(t),t.isCheckStableRunning=!0,cf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hh(t))}function MN(t){let e=()=>{RN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(xN(a))return n.invokeTask(i,s,o,a);try{return zv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Hv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return zv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Hv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,hh(t),cf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function hh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Hv(t){t._nesting--,cf(t)}function xN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Oi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Oi||{}),NN={destroy(){}};function lf(t,e){!e&&YR(lf);let n=e?.injector??C(ge);if(!lx(n))return NN;af("NgAfterNextRender");let r=n.get(uf),i=r.handler??=new ph,s=e?.phase??Oi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Wh).onDestroy(o),c=kn(n,()=>new fh(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var fh=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=C(F),this.errorHandler=C(hn,{optional:!0}),C(kc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ph=class{constructor(){this.executingCallbacks=!1,this.buckets={[Oi.EarlyRead]:new Set,[Oi.Write]:new Set,[Oi.MixedReadWrite]:new Set,[Oi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},uf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function gh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=gv(i,a);else if(s==2){let c=a,l=e[++o];r=gv(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Lc=class extends Gi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=or(e);return new Hi(n,this.ngModule)}};function qv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function PN(t){let e=t.toLowerCase();return e==="svg"?nM:e==="math"?rM:null}var mh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Bc(r);let i=this.injector.get(e,Ud,r);return i!==Ud||n===Ud?i:this.parentInjector.get(e,n,r)}},Hi=class extends Oc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=OR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ie(null);try{i=i||this.ngModule;let o=i instanceof Tt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new mh(e,o):e,c=a.get(ro,null);if(c===null)throw new N(407,!1);let l=a.get(SN,null),u=a.get(uf,null),d=a.get(kc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},y=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=r?Lx(y,r,this.componentDef.encapsulation,a):gI(y,_,PN(_)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let D=null;v!==null&&(D=Yh(v,a,!0));let ne=xI(0,null,null,1,0,null,null,null,null,null,null),re=Kc(null,ne,null,E,null,null,h,y,a,null,D);jh(re);let b,te;try{let q=this.componentDef,ue,ve=null;q.findHostDirectiveDefs?(ue=[],ve=new Map,q.findHostDirectiveDefs(q,ue,ve),ue.push(q)):ue=[q];let Ze=kN(re,v),Yn=ON(Ze,v,q,ue,re,h,y);te=Nw(ne,kr),v&&VN(y,q,v,r),n!==void 0&&UN(te,this.ngContentSelectors,n),b=FN(Yn,q,ue,ve,re,[BN]),rf(ne,re,null)}finally{$h()}return new yh(this.componentType,b,Wi(te,re),re,te)}finally{ie(s)}}},yh=class extends uh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;VI(s[H],s,i,e,n),this.previousInputValues.set(e,n);let o=Vr(this._tNode.index,s);sf(o)}}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kN(t,e){let n=t[H],r=kr;return t[r]=e,tf(n,r,2,"#host",null)}function ON(t,e,n,r,i,s,o){let a=i[H];LN(r,t,e,o);let c=null;e!==null&&(c=Yh(e,i[Bi]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Kc(i,MI(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&ah(a,t,r.length-1),nf(i,d),i[t.index]=d}function LN(t,e,n,r){for(let i of t)e.mergedAttrs=Nh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gh(e,e.mergedAttrs,!0),n!==null&&CI(r,n,e))}function FN(t,e,n,r,i,s){let o=Lt(),a=i[H],c=Yt(o,i);NI(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=$i(i,a,d,o);zi(h,i)}PI(a,i,o),c&&zi(c,i);let l=$i(i,a,o.directiveStart+o.componentOffset,o);if(t[Mn]=i[Mn]=l,s!==null)for(let u of s)u(l,e);return RI(a,o,i),l}function VN(t,e,n,r){if(r)qd(t,n,["ng-version","17.3.0"]);else{let{attrs:i,classes:s}=LR(e.selectors[0]);i&&qd(t,n,i),s&&s.length>0&&EI(t,n,s.join(" "))}}function UN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function BN(){let t=Lt();Gw(Ne()[H],t)}var Ki=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jN;let t=e;return t})();function jN(){let t=Lt();return QI(t,Ne())}var $N=Ki,KI=class extends $N{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wi(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){let e=zh(this._hostTNode,this._hostLView);if(Qw(e)){let n=Mc(e,this._hostLView),r=Rc(e),i=n[H].data[r+8];return new Nr(i,n)}else return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Wv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Bv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Uv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!ZR(e),a;if(o)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let c=o?e:new Hi(or(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?l:this.parentInjector).get(Tt,null);v&&(s=v)}let u=or(c.componentType??{}),d=Bv(this._lContainer,u?.id??null),h=d?.firstChild??null,y=c.create(l,i,h,s);return this.insertImpl(y.hostView,a,Uv(this._hostTNode,d)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ze],l=new KI(c,c[Qt],c[ze]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return cN(o,i,s,r),e.attachToViewContainerRef(),cw(Bd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Wv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);r&&(bc(Bd(this._lContainer),n),_I(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);return r&&bc(Bd(this._lContainer),n)!=null?new Fr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Wv(t){return t[Ac]}function Bd(t){return t[Ac]||(t[Ac]=[])}function QI(t,e){let n,r=e[t.index];return Ln(r)?n=r:(n=rN(r,e,null,t),e[t.index]=n,nf(e,n)),HN(n,e,t,r),new KI(n,t,e)}function zN(t,e){let n=t[bt],r=n.createComment(""),i=Yt(e,t),s=Xh(n,i);return Nc(n,s,r,Ex(n,i),!1),r}var HN=qN;function qN(t,e,n,r){if(t[Or])return;let i;n.type&8?i=Nn(r):i=zN(e,n),t[Or]=i}var _h=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},vh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)df(e,n).matches!==null&&this.queries[n].setDirty()}},wh=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=XN(e):this.predicate=e}},Ih=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Eh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,WN(n,s)),this.matchTNodeWithReadOption(e,n,wc(n,e,s,!1,!1))}else r===no?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,wc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Zt||i===Ki||i===no&&n.type&4)this.addMatch(n.index,-2);else{let s=wc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function WN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function GN(t,e){return t.type&11?Wi(t,e):t.type&4?of(t,e):null}function KN(t,e,n,r){return n===-1?GN(e,t):n===-2?QN(t,e,r):$i(t,t[H],n,e)}function QN(t,e,n){if(n===Zt)return Wi(e,t);if(n===no)return of(e,t);if(n===Ki)return QI(e,t)}function YI(t,e,n,r){let i=e[xn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(KN(e,u,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Ch(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=YI(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=Ct;d<u.length;d++){let h=u[d];h[co]===h[ze]&&Ch(h[H],h,l,r)}if(u[ji]!==null){let d=u[ji];for(let h=0;h<d.length;h++){let y=d[h];Ch(y[H],y,l,r)}}}}}return r}function YN(t,e){return t[xn].queries[e].queryList}function ZN(t,e,n){let r=new rh((n&4)===4);return Ux(t,e,r,r.destroy),(e[xn]??=new vh).queries.push(new _h(r))-1}function JN(t,e,n){let r=Ur();return r.firstCreatePass&&(eP(r,new wh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),ZN(r,Ne(),e)}function XN(t){return t.split(",").map(e=>e.trim())}function eP(t,e,n){t.queries===null&&(t.queries=new Ih),t.queries.track(new Eh(e,n))}function df(t,e){return t.queries.getByIndex(e)}function tP(t,e){let n=t[H],r=df(n,e);return r.crossesNgTemplate?Ch(n,t,e,[]):YI(n,t,r,e)}function hf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ar=class{},io=class{};var Th=class extends ar{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lc(this);let i=yw(e);this._bootstrapComponents=pI(i.bootstrap),this._r3Injector=sI(e,n,[{provide:ar,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bh=class extends io{constructor(e){super(),this.moduleType=e}create(e){return new Th(this.moduleType,e,[])}};var Fc=class extends ar{constructor(e){super(),this.componentFactoryResolver=new Lc(this),this.instance=null;let n=new Ys([...e.providers,{provide:ar,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver}],e.parent||Oh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yc(t,e,n=null){return new Fc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Zc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nP(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function rP(t){return(t.flags&32)===32}function ff(t,e,n,r){let i=Ne(),s=vM();if(nP(i,s,e)){let o=Ur(),a=bM();Xx(a,i,t,e,n,r)}return ff}function Gv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";VI(t,n,s[o],o,r)}function iP(t,e,n,r,i,s){let o=e.consts,a=Dv(o,i),c=tf(e,t,2,r,a);return $x(e,n,c,Dv(o,s)),c.attrs!==null&&gh(c,c.attrs,!1),c.mergedAttrs!==null&&gh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=Ne(),s=Ur(),o=kr+t,a=i[bt],c=s.firstCreatePass?iP(o,s,i,e,n,r):s.data[o],l=sP(s,i,c,a,e,t);i[o]=l;let u=Dw(c);return Hc(c,!0),CI(a,l,c),!rP(c)&&qw()&&wI(s,i,l,c),uM()===0&&zi(l,i),dM(),u&&(Px(s,i,c),RI(s,c,i)),r!==null&&kx(i,c),f}function p(){let t=Lt();Fw()?yM():(t=t.parent,Hc(t,!1));let e=t;pM(e)&&gM(),hM();let n=Ur();return n.firstCreatePass&&(Gw(n,t),Sw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&MM(e)&&Gv(n,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xM(e)&&Gv(n,e,Ne(),e.stylesWithoutHost,!1),p}function x(t,e,n,r){return f(t,e,n,r),p(),x}var sP=(t,e,n,r,i,s)=>(Ww(!0),gI(r,i,SM()));var Vc="en-US";var oP=Vc;function aP(t){typeof t=="string"&&(oP=t.toLowerCase().replace(/_/g,"-"))}function pf(t,e,n,r){let i=Ne(),s=Ur(),o=Lt();return lP(s,i,i[bt],o,t,e,r),pf}function cP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Zs],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function lP(t,e,n,r,i,s,o){let a=Dw(r),l=t.firstCreatePass&&LI(t),u=e[Mn],d=OI(e),h=!0;if(r.type&3||o){let v=Yt(r,e),E=o?o(v):v,D=d.length,ne=o?b=>o(Nn(b[r.index])):r.index,re=null;if(!o&&a&&(re=cP(t,e,i,r.index)),re!==null){let b=re.__ngLastListenerFn__||re;b.__ngNextListenerFn__=s,re.__ngLastListenerFn__=s,h=!1}else{s=Qv(r,e,u,s,!1);let b=n.listen(E,i,s);d.push(s,b),l&&l.push(i,ne,D,D+1)}}else s=Qv(r,e,u,s,!1);let y=r.outputs,_;if(h&&y!==null&&(_=y[i])){let v=_.length;if(v)for(let E=0;E<v;E+=2){let D=_[E],ne=_[E+1],te=e[D][ne].subscribe(s),q=d.length;d.push(s,te),l&&l.push(i,r.index,q,-(q+1))}}}function Kv(t,e,n,r){let i=ie(null);try{return cn(6,e,n),n(r)!==!1}catch(s){return FI(t,s),!1}finally{cn(7,e,n),ie(i)}}function Qv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Vr(t.index,e):e;sf(a);let c=Kv(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=Kv(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Ft(t,e,n){JN(t,e,n)}function ht(t){let e=Ne(),n=Ur(),r=Vw();Bh(r+1);let i=df(n,r);if(t.dirty&&oM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=tP(e,r);t.reset(s,qM),t.notifyOnChanges()}return!0}return!1}function ft(){return YN(Ne(),Vw())}function g(t,e=""){let n=Ne(),r=Ur(),i=t+kr,s=r.firstCreatePass?tf(r,i,1,e,null):r.data[i],o=uP(r,n,s,e,t);n[i]=o,qw()&&wI(r,n,o,s),Hc(s,!1)}var uP=(t,e,n,r,i)=>(Ww(!0),dx(e[bt],r));var dP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=ww(!1,r.type),s=i.length>0?Yc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(S(Tt))});let t=e;return t})();function K(t){af("NgStandalone"),t.getStandaloneInjector=e=>e.get(dP).getOrCreateStandaloneInjector(t)}var cr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ZI=new cr("17.3.0"),Jc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var JI=new R("");function uo(t){return!!t&&typeof t.then=="function"}function XI(t){return!!t&&typeof t.subscribe=="function"}var lr=new R(""),eE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=C(lr,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(uo(o))r.push(o);else if(XI(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xc=new R("");function hP(){B_(()=>{throw new N(600,!1)})}function fP(t){return t.isBoundToModule}function pP(t,e,n){try{let r=n();return uo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ho=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(oI),this.afterRenderEffectManager=C(uf),this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=C(Zc).hasPendingTasks.pipe(W(r=>!r)),this._injector=C(Tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Oc;if(!this._injector.get(eE).done){let y=!s&&mw(r),_=!1;throw new N(405,_)}let a;s?a=r:a=this._injector.get(Gi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=fP(a)?void 0:this._injector.get(ar),l=i||a.selector,u=a.create(ge.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(JI,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),jd(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new N(101,!1);let i=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ie(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===zI)throw new N(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)gP(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Sh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Sh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;jd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Xc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>jd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new N(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function gP(t,e,n){!e&&!Sh(t)||mP(t,n,e)}function Sh(t){return Uh(t)}function mP(t,e,n){let r;n?(r=0,t[P]|=1024):t[P]&64?r=0:r=1,HI(t,e,r)}var Dh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},el=(()=>{let e=class e{compileModuleSync(r){return new bh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=yw(r),o=pI(s.declarations).reduce((a,c)=>{let l=or(c);return l&&a.push(new Hi(l)),a},[]);return new Dh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yP=(()=>{let e=class e{constructor(){this.zone=C(F),this.applicationRef=C(ho)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _P(t){return[{provide:F,useFactory:t},{provide:Ui,multi:!0,useFactory:()=>{let e=C(yP,{optional:!0});return()=>e.initialize()}},{provide:Ui,multi:!0,useFactory:()=>{let e=C(EP);return()=>{e.initialize()}}},{provide:oI,useFactory:vP}]}function vP(){let t=C(F),e=C(hn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function wP(t){let e=_P(()=>new F(IP(t)));return jc([[],e])}function IP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var EP=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=C(F),this.pendingTasks=C(Zc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{F.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{F.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CP(){return typeof $localize<"u"&&$localize.locale||Vc}var gf=new R("",{providedIn:"root",factory:()=>C(gf,z.Optional|z.SkipSelf)||CP()});var tE=new R("");var Ec=null;function TP(t=[],e){return ge.create({name:e,providers:[{provide:$c,useValue:"platform"},{provide:tE,useValue:new Set([()=>Ec=null])},...t]})}function bP(t=[]){if(Ec)return Ec;let e=TP(t);return Ec=e,hP(),SP(e),e}function SP(t){t.get(Kh,null)?.forEach(n=>n())}var fo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DP;let t=e;return t})();function DP(t){return AP(Lt(),Ne(),(t&16)===16)}function AP(t,e,n){if(Fh(t)&&!n){let r=Vr(t.index,e);return new Fr(r,r)}else if(t.type&47){let r=e[dn];return new Fr(r,e)}return null}function nE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=bP(r),s=[wP(),...n||[]],a=new Fc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(F);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(hn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:y=>{l.handleError(y)}})});let d=()=>a.destroy(),h=i.get(tE);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),pP(l,c,()=>{let y=a.get(eE);return y.runInitializers(),y.donePromise.then(()=>{let _=a.get(gf,Vc);aP(_||Vc);let v=a.get(ho);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}function po(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function rE(t){let e=or(t);if(!e)return null;let n=new Hi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var oE=null;function Qi(){return oE}function aE(t){oE??=t}var tl=class{};var pt=new R(""),_f=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>C(RP),providedIn:"platform"});let t=e;return t})(),cE=new R(""),RP=(()=>{let e=class e extends _f{constructor(){super(),this._doc=C(pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qi().getBaseHref(this._doc)}onPopState(r){let i=Qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function vf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function iE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Fn(t){return t&&t[0]!=="?"?"?"+t:t}var Vn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>C(wf),providedIn:"root"});let t=e;return t})(),lE=new R(""),wf=(()=>{let e=class e extends Vn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??C(pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return vf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Fn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Fn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Fn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(_f),S(lE,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uE=(()=>{let e=class e extends Vn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=vf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Fn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Fn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(_f),S(lE,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Yi=(()=>{let e=class e{constructor(r){this._subject=new Ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=NP(iE(sE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Fn(i))}normalize(r){return e.stripTrailingSlash(xP(this._basePath,sE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Fn,e.joinWithSlash=vf,e.stripTrailingSlash=iE,e.\u0275fac=function(i){return new(i||e)(S(Vn))},e.\u0275prov=M({token:e,factory:()=>MP(),providedIn:"root"});let t=e;return t})();function MP(){return new Yi(S(Vn))}function xP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sE(t){return t.replace(/\/index.html$/,"")}function NP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function dE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var If="browser",PP="server";function kP(t){return t===If}function Ef(t){return t===PP}var hE=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>kP(C(fn))?new mf(C(pt),window):new yf});let t=e;return t})(),mf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=OP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function OP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var yf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},nl=class{};var bf=class extends tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sf=class t extends bf{static makeCurrent(){aE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=FP();return n==null?null:VP(n)}resetBaseElement(){go=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dE(document.cookie,e)}},go=null;function FP(){return go=go||document.querySelector("base"),go?go.getAttribute("href"):null}function VP(t){return new URL(t,document.baseURI).pathname}var UP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Df=new R(""),mE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new N(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(Df),S(F))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),rl=class{constructor(e){this._doc=e}},Cf="ng-app-id",yE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ef(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Cf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Cf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Cf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(pt),S(Gh),S(Qh,8),S(fn))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Tf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rf=/%COMP%/g,_E="%COMP%",BP=`_nghost-${_E}`,jP=`_ngcontent-${_E}`,$P=!0,zP=new R("",{providedIn:"root",factory:()=>$P});function HP(t){return jP.replace(Rf,t)}function qP(t){return BP.replace(Rf,t)}function vE(t,e){return e.map(n=>n.replace(Rf,t))}var fE=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ef(c),this.defaultRenderer=new mo(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===un.ShadowDom&&(i=pe(T({},i),{encapsulation:un.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof il?s.applyToHost(r):s instanceof yo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case un.Emulated:o=new il(l,u,i,this.appId,d,a,c,h);break;case un.ShadowDom:return new Af(l,u,r,i,a,c,this.nonce,h);default:o=new yo(l,u,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(mE),S(yE),S(Gh),S(zP),S(pt),S(fn),S(F),S(Qh))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),mo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new N(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Tf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Br.DashCase|Br.Important)?e.style.setProperty(n,r,i&Br.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Br.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Qi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function pE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Af=class extends mo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=vE(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yo=class extends mo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?vE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},il=class extends yo{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=HP(l),this.hostAttr=qP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},WP=(()=>{let e=class e extends rl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(pt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),gE=["alt","control","meta","shift"],GP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},QP=(()=>{let e=class e extends rl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),gE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=GP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),gE.forEach(a=>{if(a!==s){let c=KP[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(pt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function wE(t,e){return nE(T({rootComponent:t},YP(e)))}function YP(t){return{appProviders:[...tk,...t?.providers??[]],platformProviders:ek}}function ZP(){Sf.makeCurrent()}function JP(){return new hn}function XP(){return cI(document),document}var ek=[{provide:fn,useValue:If},{provide:Kh,useValue:ZP,multi:!0},{provide:pt,useFactory:XP,deps:[]}];var tk=[{provide:$c,useValue:"root"},{provide:hn,useFactory:JP,deps:[]},{provide:Df,useClass:WP,multi:!0,deps:[pt,F,fn]},{provide:Df,useClass:QP,multi:!0,deps:[pt]},fE,yE,mE,{provide:ro,useExisting:fE},{provide:nl,useClass:UP,deps:[]},[]];var sl=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(pt))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U="primary",ko=Symbol("RouteTitle"),kf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ts(t){return new kf(t)}function rk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ik(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pn(t[n],e[n]))return!1;return!0}function pn(t,e){let n=t?Of(t):void 0,r=e?Of(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ME(t[i],e[i]))return!1;return!0}function Of(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ME(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function xE(t){return t.length>0?t[t.length-1]:null}function pr(t){return Td(t)?t:uo(t)?we(Promise.resolve(t)):A(t)}var sk={exact:PE,subset:kE},NE={exact:ok,subset:ak,ignored:()=>!0};function EE(t,e,n){return sk[n.paths](t.root,e.root,n.matrixParams)&&NE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ok(t,e){return pn(t,e)}function PE(t,e,n){if(!$r(t.segments,e.segments)||!cl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!PE(t.children[r],e.children[r],n))return!1;return!0}function ak(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ME(t[n],e[n]))}function kE(t,e,n){return OE(t,e,e.segments,n)}function OE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!$r(i,n)||e.hasChildren()||!cl(i,n,r))}else if(t.segments.length===n.length){if(!$r(t.segments,n)||!cl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!kE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!$r(t.segments,i)||!cl(t.segments,i,r)||!t.children[U]?!1:OE(t.children[U],e,s,r)}}function cl(t,e,n){return e.every((r,i)=>NE[n](t[i].parameters,r.parameters))}var ur=class{constructor(e=new ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ts(this.queryParams),this._queryParamMap}toString(){return uk.serialize(this)}},ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ll(this)}},jr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ts(this.parameters),this._parameterMap}toString(){return FE(this)}};function ck(t,e){return $r(t,e)&&t.every((n,r)=>pn(n.parameters,e[r].parameters))}function $r(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var Oo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new To,providedIn:"root"});let t=e;return t})(),To=class{parse(e){let n=new Ff(e);return new ur(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_o(e.root,!0)}`,r=fk(e.queryParams),i=typeof e.fragment=="string"?`#${dk(e.fragment)}`:"";return`${n}${r}${i}`}},uk=new To;function ll(t){return t.segments.map(e=>FE(e)).join("/")}function _o(t,e){if(!t.hasChildren())return ll(t);if(e){let n=t.children[U]?_o(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==U&&r.push(`${i}:${_o(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lk(t,(r,i)=>i===U?[_o(t.children[U],!1)]:[`${i}:${_o(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${ll(t)}/${n[0]}`:`${ll(t)}/(${n.join("//")})`}}function LE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ol(t){return LE(t).replace(/%3B/gi,";")}function dk(t){return encodeURI(t)}function Lf(t){return LE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ul(t){return decodeURIComponent(t)}function CE(t){return ul(t.replace(/\+/g,"%20"))}function FE(t){return`${Lf(t.path)}${hk(t.parameters)}`}function hk(t){return Object.entries(t).map(([e,n])=>`;${Lf(e)}=${Lf(n)}`).join("")}function fk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ol(n)}=${ol(i)}`).join("&"):`${ol(n)}=${ol(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var pk=/^[^\/()?;#]+/;function Mf(t){let e=t.match(pk);return e?e[0]:""}var gk=/^[^\/()?;=#]+/;function mk(t){let e=t.match(gk);return e?e[0]:""}var yk=/^[^=?&#]+/;function _k(t){let e=t.match(yk);return e?e[0]:""}var vk=/^[^&#]+/;function wk(t){let e=t.match(vk);return e?e[0]:""}var Ff=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ae(e,n)),r}parseSegment(){let e=Mf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new jr(ul(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=mk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Mf(this.remaining);i&&(r=i,this.capture(r))}e[ul(n)]=ul(r)}parseQueryParam(e){let n=_k(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=wk(this.remaining);o&&(r=o,this.capture(r))}let i=CE(n),s=CE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Mf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new N(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=U);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[U]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}};function VE(t){return t.segments.length>0?new ae([],{[U]:t}):t}function UE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=UE(i);if(r===U&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ae(t.segments,e);return Ik(n)}function Ik(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ae(t.segments.concat(e.segments),e.children)}return t}function ns(t){return t instanceof ur}function Ek(t,e,n=null,r=null){let i=BE(t);return jE(i,e,n,r)}function BE(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new ae(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=VE(r);return e??i}function jE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xf(i,i,i,n,r);let s=Ck(e);if(s.toRoot())return xf(i,i,new ae([],{}),n,r);let o=Tk(s,i,t),a=o.processChildren?Io(o.segmentGroup,o.index,s.commands):zE(o.segmentGroup,o.index,s.commands);return xf(i,o.segmentGroup,a,n,r)}function dl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function bo(t){return typeof t=="object"&&t!=null&&t.outlets}function xf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=$E(t,e,n);let a=VE(UE(o));return new ur(a,s,i)}function $E(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=$E(s,e,n)}),new ae(t.segments,r)}var hl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dl(r[0]))throw new N(4003,!1);let i=r.find(bo);if(i&&i!==xE(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ck(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hl(n,e,r)}var Xi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Tk(t,e,n){if(t.isAbsolute)return new Xi(e,!0,0);if(!n)return new Xi(e,!1,NaN);if(n.parent===null)return new Xi(n,!0,0);let r=dl(t.commands[0])?0:1,i=n.segments.length-1+r;return bk(n,i,t.numberOfDoubleDots)}function bk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new Xi(r,!1,i-s)}function Sk(t){return bo(t[0])?t[0].outlets:{[U]:t}}function zE(t,e,n){if(t??=new ae([],{}),t.segments.length===0&&t.hasChildren())return Io(t,e,n);let r=Dk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[U]=new ae(t.segments.slice(r.pathIndex),t.children),Io(s,0,i)}else return r.match&&i.length===0?new ae(t.segments,{}):r.match&&!t.hasChildren()?Vf(t,e,n):r.match?Io(t,0,i):Vf(t,e,n)}function Io(t,e,n){if(n.length===0)return new ae(t.segments,{});{let r=Sk(n),i={};if(Object.keys(r).some(s=>s!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let s=Io(t.children[U],e,n);return new ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=zE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ae(t.segments,i)}}function Dk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(bo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!bE(c,l,o))return s;r+=2}else{if(!bE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(bo(s)){let c=Ak(s.outlets);return new ae(r,c)}if(i===0&&dl(n[0])){let c=t.segments[e];r.push(new jr(c.path,TE(n[0]))),i++;continue}let o=bo(s)?s.outlets[U]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&dl(a)?(r.push(new jr(o,TE(a))),i+=2):(r.push(new jr(o,{})),i++)}return new ae(r,{})}function Ak(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Vf(new ae([],{}),0,r))}),e}function TE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bE(t,e,n){return t==n.path&&pn(e,n.parameters)}var Eo="imperative",Oe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Oe||{}),Vt=class{constructor(e,n){this.id=e,this.url=n}},rs=class extends Vt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Oe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gn=class extends Vt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Oe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dt||{}),fl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fl||{}),dr=class extends Vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Oe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hr=class extends Vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Oe.NavigationSkipped}},So=class extends Vt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Oe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pl=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class extends Vt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Oe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jf=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class{constructor(e){this.route=e,this.type=Oe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hf=class{constructor(e){this.route=e,this.type=Oe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qf=class{constructor(e){this.snapshot=e,this.type=Oe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wf=class{constructor(e){this.snapshot=e,this.type=Oe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gf=class{constructor(e){this.snapshot=e,this.type=Oe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Do=class{constructor(e){this.snapshot=e,this.type=Oe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Oe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ao=class{},Ro=class{constructor(e){this.url=e}};var Kf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lo,this.attachRef=null}},Lo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ml=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Qf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Qf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Yf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yf(e,this._root).map(n=>n.value)}};function Qf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Qf(t,n);if(r)return r}return null}function Yf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Yf(t,n);if(r.length)return r.unshift(e),r}return[]}var St=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ji(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yl=class extends ml{constructor(e,n){super(e),this.snapshot=n,op(this,e)}toString(){return this.snapshot.toString()}};function HE(t){let e=Rk(t),n=new $e([new jr("",{})]),r=new $e({}),i=new $e({}),s=new $e({}),o=new $e(""),a=new fr(n,r,s,o,i,U,t,e.root);return a.snapshot=e.root,new yl(new St(a,[]),e)}function Rk(t){let e={},n={},r={},i="",s=new Mo([],e,r,i,n,U,t,null,{});return new _l("",new St(s,[]))}var fr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(l=>l[ko]))??A(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&WE(i)&&(r.resolve[ko]=i.title),r}var Mo=class{get title(){return this.data?.[ko]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_l=class extends ml{constructor(e,n){super(n),this.url=e,op(this,n)}toString(){return qE(this._root)}};function op(t,e){e.value._routerState=t,e.children.forEach(n=>op(t,n))}function qE(t){let e=t.children.length>0?` { ${t.children.map(qE).join(", ")} } `:"";return`${t.value}${e}`}function Nf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pn(e.params,n.params)||t.paramsSubject.next(n.params),ik(e.url,n.url)||t.urlSubject.next(n.url),pn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zf(t,e){let n=pn(t.params,e.params)&&ck(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Zf(t.parent,e.parent))}function WE(t){return typeof t.title=="string"||t.title===null}var ap=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new Ot,this.deactivateEvents=new Ot,this.attachEvents=new Ot,this.detachEvents=new Ot,this.parentContexts=C(Lo),this.location=C(Ki),this.changeDetector=C(fo),this.environmentInjector=C(Tt),this.inputBinder=C(El,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Jf(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=oo({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qi]});let t=e;return t})(),Jf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fr?this.route:e===Lo?this.childContexts:this.parent.get(e,n)}},El=new R(""),SE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Hs([i.queryParams,i.params,i.data]).pipe(st(([o,a,c],l)=>(c=T(T(T({},o),a),c),l===0?A(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=rE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function Mk(t,e,n){let r=xo(t,e._root,n?n._root:void 0);return new yl(r,e)}function xo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=xk(t,e,n);return new St(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>xo(t,a)),o}}let r=Nk(e.value),i=e.children.map(s=>xo(t,s));return new St(r,i)}}function xk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xo(t,r,i);return xo(t,r)})}function Nk(t){return new fr(new $e(t.url),new $e(t.params),new $e(t.queryParams),new $e(t.fragment),new $e(t.data),t.outlet,t.component,t)}var GE="ngNavigationCancelingError";function KE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QE(!1,Dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function QE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[GE]=!0,n.cancellationCode=e,n}function Pk(t){return YE(t)&&ns(t.url)}function YE(t){return!!t&&t[GE]}var cp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["ng-component"]],standalone:!0,features:[K],decls:1,vars:0,template:function(i,s){i&1&&x(0,"router-outlet")},dependencies:[ap],encapsulation:2});let t=e;return t})();function kk(t,e){return t.providers&&!t._injector&&(t._injector=Yc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function lp(t){let e=t.children&&t.children.map(lp),n=e?pe(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=cp),n}function mn(t){return t.outlet||U}function Ok(t,e){let n=t.filter(r=>mn(r)===e);return n.push(...t.filter(r=>mn(r)!==e)),n}function Fo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Lk=(t,e,n,r)=>W(i=>(new Xf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Xf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Nf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ji(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ji(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Do(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Nf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Nf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Fo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},vl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},es=class{constructor(e,n){this.component=e,this.route=n}};function Fk(t,e,n){let r=t._root,i=e?e._root:null;return vo(r,i,n,[r.value])}function Vk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ss(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ew(t)?t:e.get(t):r}function vo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ji(e);return t.children.forEach(o=>{Uk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Co(a,n.getContext(o),i)),i}function Uk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Bk(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?vo(t,e,a?a.children:null,r,i):vo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new es(a.outlet.component,o))}else o&&Co(e,a,i),i.canActivateChecks.push(new vl(r)),s.component?vo(t,null,a?a.children:null,r,i):vo(t,null,n,r,i);return i}function Bk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!$r(t.url,e.url);case"pathParamsOrQueryParamsChange":return!$r(t.url,e.url)||!pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zf(t,e)||!pn(t.queryParams,e.queryParams);case"paramsChange":default:return!Zf(t,e)}}function Co(t,e,n){let r=Ji(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Co(o,e.children.getContext(s),n):Co(o,null,n):Co(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new es(e.outlet.component,i)):n.canDeactivateChecks.push(new es(null,i)):n.canDeactivateChecks.push(new es(null,i))}function Vo(t){return typeof t=="function"}function jk(t){return typeof t=="boolean"}function $k(t){return t&&Vo(t.canLoad)}function zk(t){return t&&Vo(t.canActivate)}function Hk(t){return t&&Vo(t.canActivateChild)}function qk(t){return t&&Vo(t.canDeactivate)}function Wk(t){return t&&Vo(t.canMatch)}function ZE(t){return t instanceof An||t?.name==="EmptyError"}var al=Symbol("INITIAL_VALUE");function is(){return st(t=>Hs(t.map(e=>e.pipe(Rn(1),Ws(al)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===al)return al;if(n===!1||n instanceof ur)return n}return!0}),it(e=>e!==al),Rn(1)))}function Gk(t,e){return Ee(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?A(pe(T({},n),{guardsResult:!0})):Kk(o,r,i,t).pipe(Ee(a=>a&&jk(a)?Qk(r,s,t,e):A(a)),W(a=>pe(T({},n),{guardsResult:a})))})}function Kk(t,e,n,r){return we(t).pipe(Ee(i=>e1(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function Qk(t,e,n,r){return we(e).pipe(nr(i=>Mi(Zk(i.route.parent,r),Yk(i.route,r),Xk(t,i.path,n),Jk(t,i.route,n))),on(i=>i!==!0,!0))}function Yk(t,e){return t!==null&&e&&e(new Gf(t)),A(!0)}function Zk(t,e){return t!==null&&e&&e(new qf(t)),A(!0)}function Jk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(s=>fc(()=>{let o=Fo(e)??n,a=ss(s,o),c=zk(a)?a.canActivate(e,t):kn(o,()=>a(e,t));return pr(c).pipe(on())}));return A(i).pipe(is())}function Xk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Vk(o)).filter(o=>o!==null).map(o=>fc(()=>{let a=o.guards.map(c=>{let l=Fo(o.node)??n,u=ss(c,l),d=Hk(u)?u.canActivateChild(r,t):kn(l,()=>u(r,t));return pr(d).pipe(on())});return A(a).pipe(is())}));return A(s).pipe(is())}function e1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return A(!0);let o=s.map(a=>{let c=Fo(e)??i,l=ss(a,c),u=qk(l)?l.canDeactivate(t,e,n,r):kn(c,()=>l(t,e,n,r));return pr(u).pipe(on())});return A(o).pipe(is())}function t1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return A(!0);let s=i.map(o=>{let a=ss(o,t),c=$k(a)?a.canLoad(e,n):kn(t,()=>a(e,n));return pr(c)});return A(s).pipe(is(),JE(r))}function JE(t){return yd(xe(e=>{if(ns(e))throw KE(t,e)}),W(e=>e===!0))}function n1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return A(!0);let s=i.map(o=>{let a=ss(o,t),c=Wk(a)?a.canMatch(e,n):kn(t,()=>a(e,n));return pr(c)});return A(s).pipe(is(),JE(r))}var No=class{constructor(e){this.segmentGroup=e||null}},wl=class extends Error{constructor(e){super(),this.urlTree=e}};function Zi(t){return Ai(new No(t))}function r1(t){return Ai(new N(4e3,!1))}function i1(t){return Ai(QE(!1,Dt.GuardRejected))}var ep=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[U])return r1(e.redirectTo);i=i.children[U]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new wl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ur(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s1(t,e,n,r,i){let s=up(t,e,n);return s.matched?(r=kk(e,r),n1(r,e,n,i).pipe(W(o=>o===!0?s:T({},tp)))):A(s)}function up(t,e,n){if(e.path==="**")return o1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},tp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rk)(n,t,e);if(!i)return T({},tp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?T(T({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function o1(t){return{matched:!0,parameters:t.length>0?xE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DE(t,e,n,r){return n.length>0&&l1(t,n,r)?{segmentGroup:new ae(e,c1(r,new ae(n,t.children))),slicedSegments:[]}:n.length===0&&u1(t,n,r)?{segmentGroup:new ae(t.segments,a1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ae(t.segments,t.children),slicedSegments:n}}function a1(t,e,n,r){let i={};for(let s of n)if(Cl(t,e,s)&&!r[mn(s)]){let o=new ae([],{});i[mn(s)]=o}return T(T({},r),i)}function c1(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&mn(r)!==U){let i=new ae([],{});n[mn(r)]=i}return n}function l1(t,e,n){return n.some(r=>Cl(t,e,r)&&mn(r)!==U)}function u1(t,e,n){return n.some(r=>Cl(t,e,r))}function Cl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function d1(t,e,n,r){return mn(t)!==r&&(r===U||!Cl(e,n,t))?!1:up(e,t,n).matched}function h1(t,e,n){return e.length===0&&!t.children[n]}var np=class{};function f1(t,e,n,r,i,s,o="emptyOnly"){return new rp(t,e,n,r,i,o,s).recognize()}var p1=31,rp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ep(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new N(4002,`'${e.segmentGroup}'`)}recognize(){let e=DE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(n=>{let r=new Mo([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},U,this.rootComponentType,null,{}),i=new St(r,n),s=new _l("",i),o=Ek(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,U).pipe(tr(r=>{if(r instanceof wl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof No?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=sp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(W(s=>s instanceof St?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return we(i).pipe(nr(s=>{let o=r.children[s],a=Ok(n,s);return this.processSegmentGroup(e,a,o,s)}),Md((s,o)=>(s.push(...o),s)),rr(null),Ad(),Ee(s=>{if(s===null)return Zi(r);let o=XE(s);return g1(o),A(o)}))}processSegment(e,n,r,i,s,o){return we(n).pipe(nr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(tr(c=>{if(c instanceof No)return A(null);throw c}))),on(a=>!!a),tr(a=>{if(ZE(a))return h1(r,i,s)?A(new np):Zi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return d1(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Zi(i):Zi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=up(n,i,s);if(!a)return Zi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>p1&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ee(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=s1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(st(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(st(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,y=new Mo(u,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,y1(r),mn(r),r.component??r._loadedComponent??null,r,_1(r)),{segmentGroup:_,slicedSegments:v}=DE(n,u,d,c);if(v.length===0&&_.hasChildren())return this.processChildren(l,c,_).pipe(W(D=>D===null?null:new St(y,D)));if(c.length===0&&v.length===0)return A(new St(y,[]));let E=mn(r)===s;return this.processSegment(l,c,_,v,E?U:s,!0).pipe(W(D=>new St(y,D instanceof St?[D]:[])))}))):Zi(n)))}getChildConfig(e,n,r){return n.children?A({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):t1(e,n,r,this.urlSerializer).pipe(Ee(i=>i?this.configLoader.loadChildren(e,n).pipe(xe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):i1(n))):A({routes:[],injector:e})}};function g1(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function m1(t){let e=t.value.routeConfig;return e&&e.path===""}function XE(t){let e=[],n=new Set;for(let r of t){if(!m1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=XE(r.children);e.push(new St(r.value,i))}return e.filter(r=>!n.has(r))}function y1(t){return t.data||{}}function _1(t){return t.resolve||{}}function v1(t,e,n,r,i,s){return Ee(o=>f1(t,e,n,r,o.extractedUrl,i,s).pipe(W(({state:a,tree:c})=>pe(T({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function w1(t,e){return Ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of e0(c))o.add(l);let a=0;return we(o).pipe(nr(c=>s.has(c)?I1(c,r,t,e):(c.data=sp(c,c.parent,t).resolve,A(void 0))),xe(()=>a++),xi(1),Ee(c=>a===o.size?A(n):It))})}function e0(t){let e=t.children.map(n=>e0(n)).flat();return[t,...e]}function I1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!WE(i)&&(s[ko]=i.title),E1(s,t,e,r).pipe(W(o=>(t._resolvedData=o,t.data=sp(t,t.parent,n).resolve,null)))}function E1(t,e,n,r){let i=Of(t);if(i.length===0)return A({});let s={};return we(i).pipe(Ee(o=>C1(t[o],e,n,r).pipe(on(),xe(a=>{s[o]=a}))),xi(1),bd(s),tr(o=>ZE(o)?It:Ai(o)))}function C1(t,e,n,r){let i=Fo(e)??r,s=ss(t,i),o=s.resolve?s.resolve(e,n):kn(i,()=>s(e,n));return pr(o)}function Pf(t){return st(e=>{let n=t(e);return n?we(n).pipe(W(()=>e)):A(e)})}var t0=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[ko]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>C(T1),providedIn:"root"});let t=e;return t})(),T1=(()=>{let e=class e extends t0{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(sl))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uo=new R("",{providedIn:"root",factory:()=>({})}),Po=new R(""),dp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(el)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return A(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=pr(r.loadComponent()).pipe(W(n0),xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qs(()=>{this.componentLoaders.delete(r)})),s=new Ti(i,()=>new ke).pipe(Ci());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return A({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=b1(i,this.compiler,r,this.onLoadEndListener).pipe(qs(()=>{this.childrenLoaders.delete(i)})),a=new Ti(o,()=>new ke).pipe(Ci());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function b1(t,e,n,r){return pr(t.loadChildren()).pipe(W(n0),Ee(i=>i instanceof io||Array.isArray(i)?A(i):we(e.compileModuleAsync(i))),W(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Po,[],{optional:!0,self:!0}).flat()),{routes:o.map(lp),injector:s}}))}function S1(t){return t&&typeof t=="object"&&"default"in t}function n0(t){return S1(t)?t.default:t}var hp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>C(D1),providedIn:"root"});let t=e;return t})(),D1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r0=new R(""),i0=new R("");function A1(t,e,n){let r=t.get(i0),i=t.get(pt);return t.get(F).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),R1(t))),{onViewTransitionCreated:c}=r;return c&&kn(t,()=>c({transition:a,from:e,to:n})),o})}function R1(t){return new Promise(e=>{lf(e,{injector:t})})}var fp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=C(dp),this.environmentInjector=C(Tt),this.urlSerializer=C(Oo),this.rootContexts=C(Lo),this.location=C(Yi),this.inputBindingEnabled=C(El,{optional:!0})!==null,this.titleStrategy=C(t0),this.options=C(Uo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(hp),this.createViewTransition=C(r0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let r=s=>this.events.next(new zf(s)),i=s=>this.events.next(new Hf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(pe(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new $e({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(it(o=>o.id!==0),W(o=>pe(T({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),st(o=>{let a=!1,c=!1;return A(o).pipe(st(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?pe(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new hr(l.id,this.urlSerializer.serialize(l.rawUrl),h,fl.IgnoredSameUrlNavigation)),l.resolve(null),It}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return A(l).pipe(st(h=>{let y=this.transitions?.getValue();return this.events.next(new rs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions?.getValue()?It:Promise.resolve(h)}),v1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=pe(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let y=new pl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:y,source:_,restoredState:v,extras:E}=l,D=new rs(h,this.urlSerializer.serialize(y),_,v);this.events.next(D);let ne=HE(this.rootComponentType).snapshot;return this.currentTransition=o=pe(T({},l),{targetSnapshot:ne,urlAfterRedirects:y,extras:pe(T({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,A(o)}else{let h="";return this.events.next(new hr(l.id,this.urlSerializer.serialize(l.extractedUrl),h,fl.IgnoredByUrlHandlingStrategy)),l.resolve(null),It}}),xe(l=>{let u=new Uf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),W(l=>(this.currentTransition=o=pe(T({},l),{guards:Fk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Gk(this.environmentInjector,l=>this.events.next(l)),xe(l=>{if(o.guardsResult=l.guardsResult,ns(l.guardsResult))throw KE(this.urlSerializer,l.guardsResult);let u=new Bf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),it(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Dt.GuardRejected),!1)),Pf(l=>{if(l.guards.canActivateChecks.length)return A(l).pipe(xe(u=>{let d=new jf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),st(u=>{let d=!1;return A(u).pipe(w1(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Dt.NoDataFromResolver)}}))}),xe(u=>{let d=new $f(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Pf(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(xe(y=>{d.component=y}),W(()=>{})));for(let y of d.children)h.push(...u(y));return h};return Hs(u(l.targetSnapshot.root)).pipe(rr(null),Rn(1))}),Pf(()=>this.afterPreactivation()),st(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?we(d).pipe(W(()=>o)):A(o)}),W(l=>{let u=Mk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=pe(T({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),xe(()=>{this.events.next(new Ao)}),Lk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Rn(1),xe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),xd(this.transitionAbortSubject.pipe(xe(l=>{throw l}))),qs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),tr(l=>{if(c=!0,YE(l))this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Pk(l)?this.events.next(new Ro(l.url)):o.resolve(!1);else{this.events.next(new So(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return It}))}))}cancelNavigationTransition(r,i,s){let o=new dr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function M1(t){return t!==Eo}var x1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>C(N1),providedIn:"root"});let t=e;return t})(),ip=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},N1=(()=>{let e=class e extends ip{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hh(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),s0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>C(P1),providedIn:"root"});let t=e;return t})(),P1=(()=>{let e=class e extends s0{constructor(){super(...arguments),this.location=C(Yi),this.urlSerializer=C(Oo),this.options=C(Uo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(hp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ur,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=HE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof rs)this.stateMemento=this.createStateMemento();else if(r instanceof hr)this.rawUrlTree=i.initialUrl;else if(r instanceof pl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ao?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof dr&&(r.code===Dt.GuardRejected||r.code===Dt.NoDataFromResolver)?this.restoreHistory(i):r instanceof So?this.restoreHistory(i,!0):r instanceof gn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hh(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wo||{});function o0(t,e){t.events.pipe(it(n=>n instanceof gn||n instanceof dr||n instanceof So||n instanceof hr),W(n=>n instanceof gn||n instanceof hr?wo.COMPLETE:(n instanceof dr?n.code===Dt.Redirect||n.code===Dt.SupersededByNewNavigation:!1)?wo.REDIRECTING:wo.FAILED),it(n=>n!==wo.REDIRECTING),Rn(1)).subscribe(()=>{e()})}function k1(t){throw t}var O1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Jc),this.stateManager=C(s0),this.options=C(Uo,{optional:!0})||{},this.pendingTasks=C(Zc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(fp),this.urlSerializer=C(Oo),this.location=C(Yi),this.urlHandlingStrategy=C(hp),this._events=new ke,this.errorHandler=this.options.errorHandler||k1,this.navigated=!1,this.routeReuseStrategy=C(x1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(Po,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(El,{optional:!0}),this.eventsSubscription=new Te,this.isNgZoneEnabled=C(F)instanceof F&&F.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof dr&&i.code!==Dt.Redirect&&i.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof gn)this.navigated=!0;else if(i instanceof Ro){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||M1(s.source)};this.scheduleNavigation(a,Eo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}V1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Eo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=T({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let y=s?s.snapshot:this.routerState.snapshot.root;h=BE(y)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return jE(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ns(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Eo,null,i)}navigate(r,i={skipLocationChange:!1}){return F1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=T({},O1):i===!1?s=T({},L1):s=i,ns(r))return EE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return EE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,y)=>{c=h,l=y});let d=this.pendingTasks.add();return o0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function F1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new N(4008,!1)}function V1(t){return!(t instanceof Ao)&&!(t instanceof Ro)}var a0=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof gn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:dI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Jt(Xt),Jt(fr),qh("tabindex"),Jt(Qc),Jt(Zt),Jt(Vn))},e.\u0275dir=oo({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&pf("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ff("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Gt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",po],skipLocationChange:[Gt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",po],replaceUrl:[Gt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",po],routerLink:"routerLink"},standalone:!0,features:[hf,qi]});let t=e;return t})();var Il=class{};var U1=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(it(r=>r instanceof gn),nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Yc(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return we(s).pipe(Ri())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=A(null);let o=s.pipe(Ee(a=>a===null?A(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return we([o,a]).pipe(Ri())}else return o})}};e.\u0275fac=function(i){return new(i||e)(S(Xt),S(el),S(Tt),S(Il),S(dp))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),c0=new R(""),B1=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof rs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof gn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof hr&&r.code===fl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof gl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){bI()},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function l0(t,...e){return jc([{provide:Po,multi:!0,useValue:t},[],{provide:fr,useFactory:u0,deps:[Xt]},{provide:Xc,multi:!0,useFactory:d0},e.map(n=>n.\u0275providers)])}function u0(t){return t.routerState.root}function Bo(t,e){return{\u0275kind:t,\u0275providers:e}}function d0(){let t=C(ge);return e=>{let n=t.get(ho);if(e!==n.components[0])return;let r=t.get(Xt),i=t.get(h0);t.get(pp)===1&&r.initialNavigation(),t.get(f0,null,z.Optional)?.setUpPreloading(),t.get(c0,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var h0=new R("",{factory:()=>new ke}),pp=new R("",{providedIn:"root",factory:()=>1});function j1(){return Bo(2,[{provide:pp,useValue:0},{provide:lr,multi:!0,deps:[ge],useFactory:e=>{let n=e.get(cE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Xt),s=e.get(h0);o0(i,()=>{r(!0)}),e.get(fp).afterPreactivation=()=>(r(!0),s.closed?A(void 0):s),i.initialNavigation()}))}}])}function $1(){return Bo(3,[{provide:lr,multi:!0,useFactory:()=>{let e=C(Xt);return()=>{e.setUpLocationChangeListener()}}},{provide:pp,useValue:2}])}var f0=new R("");function z1(t){return Bo(0,[{provide:f0,useExisting:U1},{provide:Il,useExisting:t}])}function H1(){return Bo(8,[SE,{provide:El,useExisting:SE}])}function q1(t){let e=[{provide:r0,useValue:A1},{provide:i0,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return Bo(9,e)}var AE=new R("ROUTER_FORROOT_GUARD"),W1=[Yi,{provide:Oo,useClass:To},Xt,Lo,{provide:fr,useFactory:u0,deps:[Xt]},dp,[]],p0=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[W1,[],{provide:Po,multi:!0,useValue:r},{provide:AE,useFactory:Y1,deps:[[Xt,new oe,new aw]]},{provide:Uo,useValue:i||{}},i?.useHash?K1():Q1(),G1(),i?.preloadingStrategy?z1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Z1(i):[],i?.bindToComponentInputs?H1().\u0275providers:[],i?.enableViewTransitions?q1().\u0275providers:[],J1()]}}static forChild(r){return{ngModule:e,providers:[{provide:Po,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(S(AE,8))},e.\u0275mod=Re({type:e}),e.\u0275inj=Ae({});let t=e;return t})();function G1(){return{provide:c0,useFactory:()=>{let t=C(hE),e=C(F),n=C(Uo),r=C(fp),i=C(Oo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new B1(i,r,t,e,n)}}}function K1(){return{provide:Vn,useClass:uE}}function Q1(){return{provide:Vn,useClass:wf}}function Y1(t){return"guarded"}function Z1(t){return[t.initialNavigation==="disabled"?$1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?j1().\u0275providers:[]]}var RE=new R("");function J1(){return[{provide:RE,useFactory:d0},{provide:Xc,multi:!0,useExisting:RE}]}var X1=["swiperContainer"],m0=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1]):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){this.initializeSwiperWithCustomCode()}initializeSwiperWithCustomCode(){let i={swiper:$(this.swiperContainer.nativeElement)};$(document).ready(()=>{if(i.swiper.length){var s;for(s=0;s<i.swiper.length;s++){for(var o=$(i.swiper[s]),a=o.find(".swiper-pagination"),c=o.find(".swiper-button-next"),l=o.find(".swiper-button-prev"),u=o.find(".swiper-scrollbar"),d=o.parents(".rd-parallax").length,h=o.find(".swiper-slide"),y=0;y<h.length;y++){var _=$(h[y]),v;(v=_.attr("data-slide-bg"))&&_.css({"background-image":"url("+v+")","background-size":"cover"})}h.end().find("[data-caption-animate]").addClass("not-animated").end().swiper({autoplay:o.attr("data-autoplay")?o.attr("data-autoplay")==="false"?void 0:o.attr("data-autoplay"):1e4,direction:o.attr("data-direction")?o.attr("data-direction"):"horizontal",effect:o.attr("data-slide-effect")?o.attr("data-slide-effect"):"slide",speed:o.attr("data-slide-speed")?o.attr("data-slide-speed"):2e3,keyboardControl:o.attr("data-keyboard")==="true",mousewheelControl:o.attr("data-mousewheel")==="true",mousewheelReleaseOnEdges:o.attr("data-mousewheel-release")==="true",nextButton:c.length?c.get(0):null,prevButton:l.length?l.get(0):null,pagination:a.length?a.get(0):null,paginationClickable:a.length?a.attr("data-clickable")!=="false":!1,paginationBulletRender:a.length&&a.attr("data-index-bullet")==="true"?function(b,te){return'<span class="'+te+'">'+(b+1)+"</span>"}:null,scrollbar:u.length?u.get(0):null,scrollbarDraggable:u.length?u.attr("data-draggable")!=="false":!0,scrollbarHide:u.length?u.attr("data-draggable")==="false":!1,loop:o.attr("data-loop")!=="false",simulateTouch:o.attr("data-simulate-touch")?o.attr("data-simulate-touch")==="true":!1,onTransitionStart:function(b){D(b)},onTransitionEnd:function(b){ne(b)},onInit:function(b){D(b),ne(b);for(var te=o.find(".swiper-parallax"),q=0;q<te.length;q++){var ue=$(te[q]),ve;d&&!this.isIEBrows&&!this.isMobile&&(ve=ue.attr("data-speed"))&&re(ue,ve,o,!1)}$(window).on("resize",function(){b.update(!0)})}}),$(window).on("resize",function(){var b=E(o,"min-height"),te=E(o,"height");te&&o.css("height",b&&b>te?b:te)}).trigger("resize")}}function E(b,te){var q=b.attr("data-"+te),ue;if(q)if(ue=q.match(/(px)|(%)|(vh)$/i),ue.length)switch(ue[0]){case"px":return parseFloat(q);case"vh":return $(window).height()*(parseFloat(q)/100);case"%":return b.width()*(parseFloat(q)/100)}else return}function D(b){var te=$(b.slides[b.previousIndex]),q=$(b.slides[b.activeIndex]),ue;te.find("video").each(function(ve){ve.pause()}),ue=q.find("video"),ue.length&&ue.get(0).play()}function ne(b){var te=$(b.container),q=$(b.slides[b.activeIndex]);te.find("[data-caption-animate]").each(function(ue,ve){var Ze=$(ve);Ze.removeClass("animated").removeClass(Ze.attr("data-caption-animate")).addClass("not-animated")}),q.find("[data-caption-animate]").each(function(ue,ve){var Ze=$(ve),Yn=Ze.attr("data-caption-delay"),br=Ze.attr("data-caption-duration");setTimeout(function(){Ze.removeClass("not-animated").addClass(Ze.attr("data-caption-animate")).addClass("animated"),br&&Ze.css("animation-duration",br+"ms")},Yn?parseInt(Yn):0)})}function re(b,te,q,ue){var ve=window.scrollY||window.pageYOffset;if(ue!=ve&&(ue=ve,b.addClass("no-transition"),b[0].style.transform="translate3d(0,"+-ve*(1-te)+"px,0)",b.height(),b.removeClass("no-transition"),b.attr("data-fade")==="true")){var Ze=b[0].getBoundingClientRect(),Yn=Ze.top*2+ve,br=q.outerHeight(),Fs=q.offset().top+br/2,Vs=Yn+b.outerHeight()/2,Us=br/6,Bs;Fs+Us>Vs&&Fs-Us<Vs?b[0].style.opacity=1:(Fs-Us<Vs?Bs=1+(Fs+Us-Vs)/br/3*5:Bs=1-(Fs-Us-Vs)/br/3*5,b[0].style.opacity=Bs<0?0:Bs>1?1:Bs.toFixed(2))}requestAnimationFrame(function(){re(b,te,q,ue)})}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["swiper-component"]],viewQuery:function(i,s){if(i&1&&Ft(X1,5),i&2){let o;ht(o=ft())&&(s.swiperContainer=o.first)}},standalone:!0,features:[K],decls:52,vars:0,consts:[["swiperContainer",""],[1,"bg-gray-darker"],[1,"swiper-variant-1"],["data-slide-effect","fade","data-min-height","600px",1,"swiper-container","swiper-slider"],[1,"swiper-wrapper"],["data-slide-bg","assets/images/home-slide-4-1920x800.jpg",1,"swiper-slide"],[1,"swiper-slide-caption","slide-caption-2","text-center"],[1,"shell"],[1,"range","range-sm-center"],[1,"cell-sm-12"],["data-caption-animate","fadeInUpSmall","data-caption-delay","100",1,"text-italic","font-secondary","text-white"],["data-caption-animate","fadeInUpSmall","data-caption-delay","400",1,"text-uppercase","text-white","offset-top-10","offset-sm-top-0"],[1,"range","range-sm-center","offset-top-15"],[1,"cell-sm-9","cell-lg-7"],["data-caption-animate","fadeInUpSmall","data-caption-delay","700",1,"text-white","offset-top-18"],["href","#","data-caption-animate","fadeInUpSmall","data-caption-delay","1000",1,"btn","btn-primary-lighter","btn-md","btn-shape-circle","offset-top-20"],["data-slide-bg","assets/images/home-slide-2-1920x800.jpg",1,"swiper-slide"],["data-slide-bg","assets/images/home-slide-3-1920x800.jpg",1,"swiper-slide"],[1,"swiper-pagination-wrap"],[1,"swiper-pagination"]],template:function(i,s){i&1&&(f(0,"section",1)(1,"div",2)(2,"div",3,0)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5",10),g(11,"Welcome to Backstage Billiards I-Drive"),p(),f(12,"h2",11),g(13,"Where Champions Play"),p(),f(14,"div",12)(15,"div",13)(16,"p",14),g(17,"Step into the ultimate billiards destination on International Drive. With top-notch pool, darts, poker, and more, Backstage Billiards fosters only the best players in town. Experience the thrill of competition and the camaraderie of friends in our lively atmosphere!"),p(),f(18,"a",15),g(19,"Dive Into the Action"),p()()()()()()()(),f(20,"div",16)(21,"div",6)(22,"div",7)(23,"div",8)(24,"div",9)(25,"h5",10),g(26,"The Ultimate Social Playground"),p(),f(27,"h2",11),g(28,"Games, Grit, & Glory"),p(),f(29,"div",12)(30,"div",13)(31,"p",14),g(32,"Immerse yourself in the excitement of darts, the strategy of poker, and the precision of pool at Backstage Billiards. Our venue boasts premium tables, a vibrant atmosphere, and a community that welcomes both newcomers and seasoned pros. Join us for special events and make every night legendary."),p(),f(33,"a",15),g(34,"Experience the Thrill"),p()()()()()()()(),f(35,"div",17)(36,"div",6)(37,"div",7)(38,"div",8)(39,"div",9)(40,"h5",10),g(41,"Join the Excitement"),p(),f(42,"h2",11),g(43,"Epic Battles Await"),p(),f(44,"div",12)(45,"div",13)(46,"p",14),g(47,"At Backstage Billiards, every night is an opportunity for glory. Dive into our special events, tournaments, and weekly competitions that challenge your skills and reward your victories. Whether you're here to compete or cheer, you'll find the spirit of competition alive and thriving."),p(),f(48,"a",15),g(49,"Step Up to the Challenge"),p()()()()()()()()(),f(50,"div",18),x(51,"div",19),p()()()())},encapsulation:2});let t=e;return t})();var eO=["menuWidgetContainer"],y0=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){this.initializeAnimations()}initializeAnimations(){$(document).on("scroll",()=>{this.menuWidgets.forEach(r=>{let i=$(r.nativeElement);this.isScrolledIntoView(i)&&i.addClass("active")})}).trigger("scroll")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["options-section"]],viewQuery:function(i,s){if(i&1&&Ft(eO,5),i&2){let o;ht(o=ft())&&(s.menuWidgets=o)}},standalone:!0,features:[K],decls:39,vars:0,consts:[["menuWidgetContainer",""],[1,"section-50","section-sm-100","bg-gray-lighter"],[1,"shell-wide"],[1,"range","range-xs-center"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-01"],[1,"text-italic"],["href","#",1,"thumbnail-variant-3"],["src","assets/images/the-bar.jpeg","alt","Backstage Billiards Bar","width","566","height","401",1,"img-responsive"],[1,"caption","text-italic","text-center"],[1,"big"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-2"],["src","assets/images/the-menu.jpeg","alt","Backstage Billiards Menu","width","566","height","401",1,"img-responsive"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-03"],["src","assets/images/weekly-specials.jpeg","alt","Backstage Billiards Specials","width","566","height","401",1,"img-responsive"],[1,"caption","text-center"],[1,"big","text-italic"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-04"],["src","assets/images/events.jpeg","alt","Backstage Billiards Events","width","566","height","401",1,"img-responsive"]],template:function(i,s){i&1&&(f(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4,0)(5,"h3",5),g(6,"The Bar"),p(),f(7,"a",6),x(8,"img",7),f(9,"div",8)(10,"p",9),g(11,"Craft beers, cocktails, and premium spirits await you in our lively bar."),p()()()(),f(12,"div",10,0)(14,"h3",5),g(15,"The Menu"),p(),f(16,"a",6),x(17,"img",11),f(18,"div",8)(19,"p",9),g(20,"Discover our pub favorites and shareable appetizers to satisfy your cravings."),p()()()(),f(21,"div",12,0)(23,"h3",5),g(24,"Specials"),p(),f(25,"a",6),x(26,"img",13),f(27,"div",14)(28,"p",15),g(29,"Weekly specials and happy hour deals are waiting for you."),p()()()(),f(30,"div",16,0)(32,"h3",5),g(33,"Events"),p(),f(34,"a",6),x(35,"img",17),f(36,"div",14)(37,"p",15),g(38,"Join us for exciting weekly events and pool tournaments."),p()()()()()()())},styles:[".caption[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;background:#00000080;color:#fff;visibility:hidden;transform:translateY(100%);transition:visibility 0s,opacity .5s,transform .5s}.thumbnail-variant-3[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{opacity:1}.thumbnail-variant-3[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{visibility:visible;transform:translateY(0)}"]});let t=e;return t})();var _0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Re({type:e}),e.\u0275inj=Ae({});let t=e;return t})();var tO=["mapContainer"],v0=(()=>{let e=class e{constructor(){}ngAfterViewInit(){this.initMap(),this.addMarkerAtAddress("5656 International Dr, Orlando, FL 32819")}initMap(){let i={center:new google.maps.LatLng(37.7833,-122.4167),zoom:5,mapTypeControl:!1,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]};this.map=new google.maps.Map(this.mapContainer.nativeElement,i)}addMarkerAtAddress(r){new google.maps.Geocoder().geocode({address:r},(s,o)=>{if(o==="OK"){let a=s[0].geometry.location;this.addMarker(a)}else console.error("Geocode was not successful for the following reason:",o)})}addMarker(r){let i=new google.maps.Marker({position:r,map:this.map,title:"Backstage Billards I-Drive",icon:{url:"assets/images/gmap_marker.png",scaledSize:new google.maps.Size(50,50)}});this.map.setCenter(r),this.map.setZoom(19);let s='<div style="font-size: 16px;"><strong>Backstage Billiards I-Drive</strong></div>'}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-map"]],viewQuery:function(i,s){if(i&1&&Ft(tO,5),i&2){let o;ht(o=ft())&&(s.mapContainer=o.first)}},standalone:!0,features:[K],decls:2,vars:0,consts:[["mapContainer",""],[2,"height","500px"]],template:function(i,s){i&1&&x(0,"div",1,0)},dependencies:[_0],encapsulation:2});let t=e;return t})();var nO=["servicesContainer"],w0=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){$(document).on("scroll",()=>{this.servicesContainer.forEach(r=>{let i=$(r.nativeElement);this.isScrolledIntoView(i)&&i.addClass("active")})}).trigger("scroll")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["services-section"]],viewQuery:function(i,s){if(i&1&&Ft(nO,5),i&2){let o;ht(o=ft())&&(s.servicesContainer=o)}},standalone:!0,features:[K],decls:47,vars:0,consts:[["servicesContainer",""],[1,"section-50","section-sm-130"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-sm-6","cell-md-3","view-animate","fadeInUpBigger","delay-04"],[1,"box-icon","box-icon-variant-1"],[1,"icon-wrap"],[1,"icon","icon-lg","text-base","restaurant-icon-35","icon-xl"],[1,"box-icon-header"],[1,"divider-xs","bg-primary"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-sm-top-0","view-animate","fadeInUpBigger","delay-03"],[1,"icon","icon-lg","text-base","restaurant-icon-11","icon-xxl"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-md-top-0","view-animate","fadeInUpBigger","delay-02"],[1,"icon","icon-lg","text-base","restaurant-icon-20","icon-xxl"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-md-top-0","view-animate","fadeInUpBigger","delay-01"],[1,"icon","icon-lg","text-base","restaurant-icon-24","icon-xxl"]],template:function(i,s){i&1&&(f(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4,0)(5,"article",5)(6,"div",6),x(7,"span",7),p(),f(8,"div",8)(9,"h5"),g(10,"Book a Party"),p()(),x(11,"hr",9),f(12,"p"),g(13,"You can reserve the whole bar for a special occassion."),p()()(),f(14,"div",10,0)(16,"article",5)(17,"div",6),x(18,"span",11),p(),f(19,"div",8)(20,"h5"),g(21,"Updated menu"),p()(),x(22,"hr",9),f(23,"p"),g(24,"We regularly update our menu so that you could experience more."),p()()(),f(25,"div",12,0)(27,"article",5)(28,"div",6),x(29,"span",13),p(),f(30,"div",8)(31,"h5"),g(32,"Drink Specials"),p()(),x(33,"hr",9),f(34,"p"),g(35,"Every week we offer our clients special offers from our brewers."),p()()(),f(36,"div",14,0)(38,"article",5)(39,"div",6),x(40,"span",15),p(),f(41,"div",8)(42,"h5"),g(43,"Order Online"),p()(),x(44,"hr",9),f(45,"p"),g(46,"You can order any snack, dish, drink or dessert online in a few clicks."),p()()()()()())},encapsulation:2});let t=e;return t})();var rO=["paralaxContainer"],I0=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){$(this.paralaxContainer.nativeElement).find(".rd-parallax").length&&($.RDParallax(),!this.isIE&&!this.isMobile&&$(window).on("scroll",()=>{this.handleScroll()}),$("a[href='#'], a[href^='#']").on("click",r=>{setTimeout(()=>{this.handleResize()},300)}),$(window).on("resize",()=>{this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.handleResize()},300)}),this.handleScroll(),this.handleResize())}handleScroll(){$(this.paralaxContainer.nativeElement).find(".rd-parallax").each((r,i)=>{let s=$(i);this.isScrolledIntoView(s)&&s.find(".rd-parallax-inner").css("position","fixed")})}handleResize(){$(window).trigger("resize")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.height()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-paralax"]],viewQuery:function(i,s){if(i&1&&Ft(rO,5),i&2){let o;ht(o=ft())&&(s.paralaxContainer=o.first)}},standalone:!0,features:[K],decls:14,vars:0,consts:[["paralaxContainer",""],["id","parallaxContainer"],["data-on","false","data-md-on","true",1,"rd-parallax","rd-parallax-light"],["data-speed","0.35","data-type","media","data-url","assets/images/home-parallax-1.jpg",1,"rd-parallax-layer"],["data-speed","0","data-type","html",1,"rd-parallax-layer"],[1,"shell","text-center","section-80","section-sm-top-140","section-sm-bottom-150"],[1,"range","range-xs-center"],[1,"cell-sm-12","cell-lg-8"],[1,"text-uppercase","text-italic"],[1,"text-italic","divider-custom-small-primary"],[1,"offset-top-10"]],template:function(i,s){i&1&&(f(0,"section",1,0)(2,"div",2),x(3,"div",3),f(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),g(9,"Free Pool"),p(),f(10,"h4",9),g(11,"With Purchase of Alcoholic Beverage "),p(),f(12,"p",10),g(13,"Purchase any alcoholic beverage and unlock free access to our pool tables until 9PM."),p()()()()()()())},encapsulation:2});let t=e;return t})();var E0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-home"]],standalone:!0,features:[K],decls:5,vars:0,template:function(i,s){i&1&&x(0,"swiper-component")(1,"options-section")(2,"app-paralax")(3,"services-section")(4,"app-map")},dependencies:[m0,y0,v0,w0,I0]});let t=e;return t})();var iO=["counterWidgetContainer"],C0=(()=>{let e=class e{constructor(){}ngAfterViewInit(){this.initializeAnimations()}initializeAnimations(){$(document).ready(()=>{this.checkAndAnimateCounters(),$(window).on("scroll",()=>{this.checkAndAnimateCounters()})})}checkAndAnimateCounters(){this.counterWidgets.forEach(r=>{let i=$(r.nativeElement);if(!i.hasClass("animated")&&this.isScrolledIntoView(i)){let s=i.data("to");i.countTo({from:i.data("from")||0,to:s,speed:1e3,refreshInterval:40}),i.addClass("animated")}})}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["about-component"]],viewQuery:function(i,s){if(i&1&&Ft(iO,5),i&2){let o;ht(o=ft())&&(s.counterWidgets=o)}},standalone:!0,features:[K],decls:44,vars:0,consts:[["counterWidgetContainer",""],[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"text-center","text-sm-left","section-50","section-sm-top-100","section-sm-bottom-205","section-with-angle","bg-black-haze"],[1,"shell"],[1,"range","range-xs-center","range-md-right"],[1,"cell-sm-10","cell-md-6"],[1,"font-default"],[1,"range","range-xs-center","offset-top-30","text-center"],[1,"cell-xs-6","cell-sm-4"],["data-from","0","data-to","10",1,"counter","text-primary"],[1,"counter-header"],["data-from","0","data-to","20",1,"counter","text-primary"],["data-from","0","data-to","7",1,"counter","text-primary"],["href","contact.html",1,"btn","btn-shape-circle","btn-primary-lighter","offset-top-40"]],template:function(i,s){i&1&&(f(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"p",5),g(5,"About Us"),p(),f(6,"ul",6)(7,"li")(8,"a",7),g(9,"Home"),p()(),f(10,"li",8),g(11,"About Us"),p()()()()()(),f(12,"section",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),g(17,"Welcome to Backstage Billiards"),p(),f(18,"p"),g(19,"Backstage Billiards on International Drive is your premier destination for a top-quality pool hall experience. Featuring expert staff, the best pool tables and equipment in the area, and a fun atmosphere, we're ready to make your visit unforgettable. Whether you're a pool enthusiast or looking for a vibrant social setting, we have something for everyone."),p(),f(20,"div",14)(21,"div",15)(22,"div",16,0),g(24,"10"),p(),f(25,"div",17)(26,"p"),g(27,"Top-Quality Pool Tables"),p()()(),f(28,"div",15)(29,"div",18,0),g(31,"20"),p(),f(32,"div",17)(33,"p"),g(34,"Years of Experience"),p()()(),f(35,"div",15)(36,"div",19,0),g(38,"7"),p(),f(39,"div",17)(40,"p"),g(41,"Days Open a Week"),p()()()(),f(42,"a",20),g(43,"Visit Us"),p()()()()())},encapsulation:2});let t=e;return t})();var T0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-menu"]],standalone:!0,features:[K],decls:325,vars:0,consts:[[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs-3"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"section-50","section-sm-100"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-sm-6"],[1,"menu-classic","bg-menu-1"],[1,"title"],["href","menu-single.html",1,"link-white"],[1,"list-menu"],[1,"menu-item","h6"],[1,"price"],[1,"menu-item-desc"],[1,"cell-sm-6","offset-top-50","offset-sm-top-0"],[1,"menu-classic","bg-menu-2"],[1,"cell-sm-6","offset-top-50"],[1,"menu-classic","bg-menu-3"],[1,"menu-classic","bg-menu-4"],[1,"menu-classic","bg-menu-5"],[1,"menu-classic","bg-menu-6"],[1,"offset-top-50","offset-sm-top-100","text-center","divider-custom"],["href","#",1,"btn","btn-md","btn-shape-circle","btn-primary"]],template:function(i,s){i&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),g(5,"Menu"),p(),f(6,"ul",5)(7,"li")(8,"a",6),g(9,"Home"),p()(),f(10,"li",7),g(11,"Menu"),p()()()()()(),f(12,"section",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"h4",13)(18,"a",14),g(19,"Sandwiches"),p()(),f(20,"ul",15)(21,"li")(22,"div",16)(23,"span"),g(24,"Vegetable Sandwich"),p(),f(25,"span",17),g(26,"25.00"),p()(),f(27,"div",18)(28,"span"),g(29,"Zucchini / Eggplant / Pepper / Tomatoes / Mozzarella"),p()()(),f(30,"li")(31,"div",16)(32,"span"),g(33,"Sandwich with Beef"),p(),f(34,"span",17),g(35,"15.90"),p()(),f(36,"div",18)(37,"span"),g(38,"Chuck roast / Oregano / Rosemary / Beef bouillon"),p()()(),f(39,"li")(40,"div",16)(41,"span"),g(42,"Sandwich with Pork"),p(),f(43,"span",17),g(44,"7.90"),p()(),f(45,"div",18)(46,"span"),g(47,"Pork shoulder roast / Olive oil / Parsley / Rosemary"),p()()(),f(48,"li")(49,"div",16)(50,"span"),g(51,"Cheese Sandwich"),p(),f(52,"span",17),g(53,"23.90"),p()(),f(54,"div",18)(55,"span"),g(56,"White bread / Cheddar cheese / Butter"),p()()(),f(57,"li")(58,"div",16)(59,"span"),g(60,"Fish Sandwich"),p(),f(61,"span",17),g(62,"23.90"),p()(),f(63,"div",18)(64,"span"),g(65,"Tuna / Cheddar cheese / Jalapeno pepper / Lemon juice"),p()()()()()(),f(66,"div",19)(67,"div",20)(68,"h4",13)(69,"a",14),g(70,"Burgers"),p()(),f(71,"ul",15)(72,"li")(73,"div",16)(74,"span"),g(75,"Mushroom Burger"),p(),f(76,"span",17),g(77,"25.00"),p()(),f(78,"div",18)(79,"span"),g(80,"Sliced mushrooms / Worcestershire sauce / Ground beef"),p()()(),f(81,"li")(82,"div",16)(83,"span"),g(84,"Cowboy Burger"),p(),f(85,"span",17),g(86,"15.90"),p()(),f(87,"div",18)(88,"span"),g(89,"Sliced onions / Hamburger patties / Tomatoes"),p()()(),f(90,"li")(91,"div",16)(92,"span"),g(93,"The Perfect Burger"),p(),f(94,"span",17),g(95,"7.90"),p()(),f(96,"div",18)(97,"span"),g(98,"Worcestershire sauce / Onions / Mustard / Ground beef"),p()()(),f(99,"li")(100,"div",16)(101,"span"),g(102,"Hawaiian Burger"),p(),f(103,"span",17),g(104,"23.90"),p()(),f(105,"div",18)(106,"span"),g(107,"Chili sauce / Cheddar cheese / Pineapple / Lettuce"),p()()(),f(108,"li")(109,"div",16)(110,"span"),g(111,"Blue Cheese Burger"),p(),f(112,"span",17),g(113,"23.90"),p()(),f(114,"div",18)(115,"span"),g(116,"Ground beef / Minced fresh chives / Blue cheese"),p()()()()()(),f(117,"div",21)(118,"div",22)(119,"h4",13)(120,"a",14),g(121,"Pizzas"),p()(),f(122,"ul",15)(123,"li")(124,"div",16)(125,"span"),g(126,"Pizza Capricciosa"),p(),f(127,"span",17),g(128,"25.00"),p()(),f(129,"div",18)(130,"span"),g(131,"Tomatoes / Mozzarella cheese / Artichokes"),p()()(),f(132,"li")(133,"div",16)(134,"span"),g(135,"Four Seasons Pizza"),p(),f(136,"span",17),g(137,"15.90"),p()(),f(138,"div",18)(139,"span"),g(140,"Mozzarella / Passata / Kalamata Olives / Cooked Ham"),p()()(),f(141,"li")(142,"div",16)(143,"span"),g(144,"Royal Pizza"),p(),f(145,"span",17),g(146,"7.90"),p()(),f(147,"div",18)(148,"span"),g(149,"Olive oil / onions / Red bell peppers / Chopped pepperoni"),p()()(),f(150,"li")(151,"div",16)(152,"span"),g(153,"Pizza Pepperoni"),p(),f(154,"span",17),g(155,"23.90"),p()(),f(156,"div",18)(157,"span"),g(158,"Sliced pepperoni / Parmesan cheese / Mozzarella cheese"),p()()(),f(159,"li")(160,"div",16)(161,"span"),g(162,"Pizza Margherita"),p(),f(163,"span",17),g(164,"23.90"),p()(),f(165,"div",18)(166,"span"),g(167,"Tomato sauce / Fresh mozzarella / Olive oil / Basil"),p()()()()()(),f(168,"div",21)(169,"div",23)(170,"h4",13)(171,"a",14),g(172,"Salads"),p()(),f(173,"ul",15)(174,"li")(175,"div",16)(176,"span"),g(177,"Mozzarella Salad"),p(),f(178,"span",17),g(179,"25.00"),p()(),f(180,"div",18)(181,"span"),g(182,"Mozzarella cheese / Tomatoes / Basil"),p()()(),f(183,"li")(184,"div",16)(185,"span"),g(186,"Greek Salad"),p(),f(187,"span",17),g(188,"15.90"),p()(),f(189,"div",18)(190,"span"),g(191,"Ripe tomatoes / Red onions / Lemon juice / Feta cheese"),p()()(),f(192,"li")(193,"div",16)(194,"span"),g(195,"Caesar Salad"),p(),f(196,"span",17),g(197,"7.90"),p()(),f(198,"div",18)(199,"span"),g(200,"French bread / Butter / Parsley / Black pepper / Garlic"),p()()(),f(201,"li")(202,"div",16)(203,"span"),g(204,"Italian Chopped Salad"),p(),f(205,"span",17),g(206,"23.90"),p()(),f(207,"div",18)(208,"span"),g(209,"Bacon / Romaine / Red cabbage / Large tomatoes"),p()()(),f(210,"li")(211,"div",16)(212,"span"),g(213,"Vegetable Salad"),p(),f(214,"span",17),g(215,"23.90"),p()(),f(216,"div",18)(217,"span"),g(218,"Parmesan cheese / Celery / Cauliflower / Broccoli"),p()()()()()(),f(219,"div",21)(220,"div",24)(221,"h4",13)(222,"a",14),g(223,"Drinks"),p()(),f(224,"ul",15)(225,"li")(226,"div",16)(227,"span"),g(228,"Mojito"),p(),f(229,"span",17),g(230,"25.00"),p()(),f(231,"div",18)(232,"span"),g(233,"White sugar / White rum / Mint leaves / Lime"),p()()(),f(234,"li")(235,"div",16)(236,"span"),g(237,"Whiskey with Ice"),p(),f(238,"span",17),g(239,"15.90"),p()(),f(240,"div",18)(241,"span"),g(242,"Jack Daniel\u2019s / Jameson / Johnie Walker"),p()()(),f(243,"li")(244,"div",16)(245,"span"),g(246,"Draft Light Beer"),p(),f(247,"span",17),g(248,"7.90"),p()(),f(249,"div",18)(250,"span"),g(251,"Miller / Big Rock / Bud Light"),p()()(),f(252,"li")(253,"div",16)(254,"span"),g(255,"Orange Juice"),p(),f(256,"span",17),g(257,"23.90"),p()(),f(258,"div",18)(259,"span"),g(260,"Froze Fresh / Always Sweet / Lambeth Groves"),p()()(),f(261,"li")(262,"div",16)(263,"span"),g(264,"Strawberry Liqueur"),p(),f(265,"span",17),g(266,"23.90"),p()(),f(267,"div",18)(268,"span"),g(269,"Bols / Hiram Walker / DeKuyper"),p()()()()()(),f(270,"div",21)(271,"div",25)(272,"h4",13)(273,"a",14),g(274,"Desserts"),p()(),f(275,"ul",15)(276,"li")(277,"div",16)(278,"span"),g(279,"Strawberry Cake"),p(),f(280,"span",17),g(281,"25.00"),p()(),f(282,"div",18)(283,"span"),g(284,"White sugar / Eggs / Strawberry / Cake flour / Vanilla extract"),p()()(),f(285,"li")(286,"div",16)(287,"span"),g(288,"Domino Cake"),p(),f(289,"span",17),g(290,"15.90"),p()(),f(291,"div",18)(292,"span"),g(293,"Chocolate frosting / White frosting / Milk chocolate"),p()()(),f(294,"li")(295,"div",16)(296,"span"),g(297,"Coconut Cake"),p(),f(298,"span",17),g(299,"7.90"),p()(),f(300,"div",18)(301,"span"),g(302,"Butter / Eggs / Coconut extract / Flaked coconut"),p()()(),f(303,"li")(304,"div",16)(305,"span"),g(306,"Cake with Lime"),p(),f(307,"span",17),g(308,"23.90"),p()(),f(309,"div",18)(310,"span"),g(311,"Lime juice / Milk / Cake flour / Lime zest"),p()()(),f(312,"li")(313,"div",16)(314,"span"),g(315,"\u201CPigeon's Milk\u201D Cake"),p(),f(316,"span",17),g(317,"23.90"),p()(),f(318,"div",18)(319,"span"),g(320,"Butter / Sugar / Vanilla extract / Agar / Chocolate "),p()()()()()()(),f(321,"div",26)(322,"div")(323,"a",27),g(324,"download full menu"),p()()()()())}});let t=e;return t})();var b0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-contact"]],standalone:!0,features:[K],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),g(1,"contact works!"),p())}});let t=e;return t})();var S0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-tournaments"]],standalone:!0,features:[K],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),g(1,"tournaments works!"),p())}});let t=e;return t})();var D0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-gallery"]],standalone:!0,features:[K],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),g(1,"gallery works!"),p())}});let t=e;return t})();var A0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-partners"]],standalone:!0,features:[K],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),g(1,"partners works!"),p())}});let t=e;return t})();var R0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-faq"]],standalone:!0,features:[K],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),g(1,"faq works!"),p())}});let t=e;return t})();var M0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-blog"]],standalone:!0,features:[K],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),g(1,"blog works!"),p())}});let t=e;return t})();var x0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:E0},{path:"about",component:C0},{path:"menu",component:T0},{path:"contact",component:b0},{path:"tournaments-events",component:S0},{path:"gallery",component:D0},{path:"partners",component:A0},{path:"faq",component:R0},{path:"blog",component:M0}];var mp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var w=function(t,e){if(!t)throw Hr(e)},Hr=function(t){return new Error("Firebase Database ("+mp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var P0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,y=l&63;c||(y=64,o||(h=64)),r.push(n[u],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new yp;let h=s<<2|a>>4;if(r.push(h),l!==64){let y=a<<4&240|l>>2;if(r.push(y),d!==64){let _=l<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vp=function(t){let e=P0(t);return bl.encodeByteArray(e,!0)},jo=function(t){return vp(t).replace(/\./g,"")},$o=function(t){try{return bl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function k0(t){return O0(void 0,t)}function O0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!oO(n)||(t[n]=O0(t[n],e[n]));return t}function oO(t){return t!=="__proto__"}function aO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cO=()=>aO().__FIREBASE_DEFAULTS__,lO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$o(t[1]);return e&&JSON.parse(e)},wp=()=>{try{return cO()||lO()||uO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ip=t=>{var e,n;return(n=(e=wp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},as=t=>{let e=Ip(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ep=()=>{var t;return(t=wp())===null||t===void 0?void 0:t.config},Cp=t=>{var e;return(e=wp())===null||e===void 0?void 0:e[`_${t}`]};var zr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function cs(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jo(JSON.stringify(n)),jo(JSON.stringify(o)),""].join(".")}function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ho(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Sl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L0(){let t=Le();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yn(){return mp.NODE_CLIENT===!0||mp.NODE_ADMIN===!0}function Un(){try{return typeof indexedDB=="object"}catch{return!1}}function qr(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Tp(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var dO="FirebaseError",be=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}},ot=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new be(i,a,r)}};function hO(t,e){return t.replace(fO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fO=/\{\$([^}]+)}/g;function os(t){return JSON.parse(t)}function Fe(t){return JSON.stringify(t)}var F0=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=os($o(s[0])||""),n=os($o(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var V0=function(t){let e=F0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},U0=function(t){let e=F0(t).claims;return typeof e=="object"&&e.admin===!0};function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Bn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(N0(s)&&N0(o)){if(!Bn(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function N0(t){return t!==null&&typeof t=="object"}function Gr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Tl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function B0(t,e){let n=new _p(t,e);return n.subscribe.bind(n)}var _p=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gp),i.error===void 0&&(i.error=gp),i.complete===void 0&&(i.complete=gp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gp(){}function j0(t,e){return`${t} failed: ${e} argument `}var $0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,w(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Go=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var gO=1e3,mO=2,yO=4*60*60*1e3,_O=.5;function Ko(t,e=gO,n=mO){let r=e*Math.pow(n,t),i=Math.round(_O*r*(Math.random()-.5)*2);return Math.min(yO,r+i)}function Se(t){return t&&t._delegate?t._delegate:t}var _e=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Kr="[DEFAULT]";var Dl=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new zr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wO(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vO(t){return t===Kr?void 0:t}function wO(t){return t.instantiationMode==="EAGER"}var Qo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dl(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var IO=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),EO={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},CO=Y.INFO,TO={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},bO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=TO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gt=class{constructor(e){this.name=e,this._logLevel=CO,this._logHandler=bO,this._userLogHandler=null,IO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var SO=(t,e)=>e.some(n=>t instanceof n),z0,H0;function DO(){return z0||(z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AO(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var q0=new WeakMap,Sp=new WeakMap,W0=new WeakMap,bp=new WeakMap,Ap=new WeakMap;function RO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&q0.set(n,t)}).catch(()=>{}),Ap.set(e,t),e}function MO(t){if(Sp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sp.set(t,e)}var Dp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G0(t){Dp=t(Dp)}function xO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Al(this),e,...n);return W0.set(r,e.sort?e.sort():[e]),vn(r)}:AO().includes(t)?function(...e){return t.apply(Al(this),e),vn(q0.get(this))}:function(...e){return vn(t.apply(Al(this),e))}}function NO(t){return typeof t=="function"?xO(t):(t instanceof IDBTransaction&&MO(t),SO(t,DO())?new Proxy(t,Dp):t)}function vn(t){if(t instanceof IDBRequest)return RO(t);if(bp.has(t))return bp.get(t);let e=NO(t);return e!==t&&(bp.set(t,e),Ap.set(e,t)),e}var Al=t=>Ap.get(t);function Rl(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=vn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(vn(o.result),c.oldVersion,c.newVersion,vn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var PO=["get","getKey","getAll","getAllKeys","count"],kO=["put","add","delete","clear"],Rp=new Map;function K0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=kO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PO.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Rp.set(e,s),s}G0(t=>pe(T({},t),{get:(e,n,r)=>K0(e,n)||t.get(e,n,r),has:(e,n)=>!!K0(e,n)||t.has(e,n)}));var xp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function OO(t){let e=t.getComponent();return e?.type==="VERSION"}var Np="@firebase/app",Q0="0.9.29";var Qr=new gt("@firebase/app"),LO="@firebase/app-compat",FO="@firebase/analytics-compat",VO="@firebase/analytics",UO="@firebase/app-check-compat",BO="@firebase/app-check",jO="@firebase/auth",$O="@firebase/auth-compat",zO="@firebase/database",HO="@firebase/database-compat",qO="@firebase/functions",WO="@firebase/functions-compat",GO="@firebase/installations",KO="@firebase/installations-compat",QO="@firebase/messaging",YO="@firebase/messaging-compat",ZO="@firebase/performance",JO="@firebase/performance-compat",XO="@firebase/remote-config",eL="@firebase/remote-config-compat",tL="@firebase/storage",nL="@firebase/storage-compat",rL="@firebase/firestore",iL="@firebase/firestore-compat",sL="firebase",oL="10.9.0";var Pp="[DEFAULT]",aL={[Np]:"fire-core",[LO]:"fire-core-compat",[VO]:"fire-analytics",[FO]:"fire-analytics-compat",[BO]:"fire-app-check",[UO]:"fire-app-check-compat",[jO]:"fire-auth",[$O]:"fire-auth-compat",[zO]:"fire-rtdb",[HO]:"fire-rtdb-compat",[qO]:"fire-fn",[WO]:"fire-fn-compat",[GO]:"fire-iid",[KO]:"fire-iid-compat",[QO]:"fire-fcm",[YO]:"fire-fcm-compat",[ZO]:"fire-perf",[JO]:"fire-perf-compat",[XO]:"fire-rc",[eL]:"fire-rc-compat",[tL]:"fire-gcs",[nL]:"fire-gcs-compat",[rL]:"fire-fst",[iL]:"fire-fst-compat","fire-js":"fire-js",[sL]:"fire-js-all"};var Yo=new Map,kp=new Map;function cL(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Me(t){let e=t.name;if(kp.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,t);for(let n of Yo.values())cL(n,t);return!0}function He(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var lL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gr=new ot("app","Firebase",lL);var Op=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _e("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}};var mt=oL;function Vp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=Ep()),!n)throw gr.create("no-options");let s=Yo.get(i);if(s){if(Bn(n,s.options)&&Bn(r,s.config))return s;throw gr.create("duplicate-app",{appName:i})}let o=new Qo(i);for(let c of kp.values())o.addComponent(c);let a=new Op(n,r,o);return Yo.set(i,a),a}function at(t=Pp){let e=Yo.get(t);if(!e&&t===Pp&&Ep())return Vp();if(!e)throw gr.create("no-app",{appName:t});return e}function Ml(){return Array.from(Yo.values())}function O(t,e,n){var r;let i=(r=aL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}Me(new _e(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uL="firebase-heartbeat-database",dL=1,Zo="firebase-heartbeat-store",Mp=null;function X0(){return Mp||(Mp=Rl(uL,dL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),Mp}function hL(t){return m(this,null,function*(){try{let n=(yield X0()).transaction(Zo),r=yield n.objectStore(Zo).get(eC(t));return yield n.done,r}catch(e){if(e instanceof be)Qr.warn(e.message);else{let n=gr.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(n.message)}}})}function Y0(t,e){return m(this,null,function*(){try{let r=(yield X0()).transaction(Zo,"readwrite");yield r.objectStore(Zo).put(e,eC(t)),yield r.done}catch(n){if(n instanceof be)Qr.warn(n.message);else{let r=gr.create("idb-set",{originalErrorMessage:n?.message});Qr.warn(r.message)}}})}function eC(t){return`${t.name}!${t.options.appId}`}var fL=1024,pL=30*24*60*60*1e3,Lp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Fp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=pL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Z0(),{heartbeatsToSend:r,unsentEntries:i}=gL(this._heartbeatsCache.heartbeats),s=jo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Z0(){return new Date().toISOString().substring(0,10)}function gL(t,e=fL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),J0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Fp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Un()?qr().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield hL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function J0(t){return jo(JSON.stringify({version:2,heartbeats:t})).length}function mL(t){Me(new _e("platform-logger",e=>new xp(e),"PRIVATE")),Me(new _e("heartbeat",e=>new Lp(e),"PRIVATE")),O(Np,Q0,t),O(Np,Q0,"esm2017"),O("fire-js","")}mL("");var yL="firebase",_L="10.9.0";O(yL,_L,"app");var qe=new cr("ANGULARFIRE2_VERSION"),Nl=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Ut(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var At=(t,e)=>{let n=e?[e]:Ml(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},wn=class{constructor(){return At(vL)}},vL="app-check";function ls(){}var xl=class{zone;delegate;constructor(e,n=Ed){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Up=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls)),n.pipe(xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},yt=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=n.run(()=>new xl(Zone.current,Id)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(F))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function wL(t){return Pl().ngZone.runOutsideAngular(()=>t())}function Yr(t){return Pl().ngZone.run(()=>t())}function IL(t){return EL(Pl())(t)}function EL(t){return function(n){return n=n.lift(new Up(t.ngZone)),n.pipe(er(t.outsideAngular),Xn(t.insideAngular))}}var CL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Yr(()=>t.apply(void 0,r))},We=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Yr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls))),r[s]=CL(r[s],n));let i=wL(()=>t.apply(this,r));if(!e)if(i instanceof Q){let s=Pl();return i.pipe(er(s.outsideAngular),Xn(s.insideAngular))}else return Yr(()=>i);return i instanceof Q?i.pipe(IL):i instanceof Promise?Yr(()=>new Promise((s,o)=>i.then(a=>Yr(()=>s(a)),a=>Yr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Yr(()=>i)};var Ge=class{constructor(e){return e}},ct=class{constructor(){return Ml()}};function TL(t){return t&&t.length===1?t[0]:new Ge(at())}var Bp=new R("angularfire2._apps"),bL={provide:Ge,useFactory:TL,deps:[[new oe,Bp]]},SL={provide:ct,deps:[[new oe,Bp]]};function DL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ge(r)}}var AL=(()=>{class t{constructor(n){O("angularfire",qe.full,"core"),O("angularfire",qe.full,"app"),O("angular",ZI.full,n.toString())}static \u0275fac=function(r){return new(r||t)(S(fn))};static \u0275mod=Re({type:t});static \u0275inj=Ae({providers:[bL,SL]})}return t})();function tC(t,...e){return{ngModule:AL,providers:[{provide:Bp,useFactory:DL(t),multi:!0,deps:[F,ge,yt,...e]}]}}var nC=We(Vp,!0);function mC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yC=mC,_C=new ot("auth","Firebase",mC());var Ul=new gt("@firebase/auth");function RL(t,...e){Ul.logLevel<=Y.WARN&&Ul.warn(`Auth (${mt}): ${t}`,...e)}function Ol(t,...e){Ul.logLevel<=Y.ERROR&&Ul.error(`Auth (${mt}): ${t}`,...e)}function yr(t,...e){throw og(t,...e)}function Zr(t,...e){return og(t,...e)}function ML(t,e,n){let r=Object.assign(Object.assign({},yC()),{[e]:n});return new ot("auth","Firebase",r).create(e,{appName:t.name})}function og(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _C.create(t,...e)}function V(t,e,...n){if(!t)throw og(e,...n)}function jn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ol(e),new Error(e)}function _r(t,e){t||jn(e)}function Hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xL(){return rC()==="http:"||rC()==="https:"}function rC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function NL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xL()||Ho()||"connection"in navigator)?navigator.onLine:!0}function PL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Jr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=zo()||Sl()}get(){return NL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ag(t,e){_r(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Bl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var OL=new Jr(3e4,6e4);function cg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function us(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return vC(t,i,()=>m(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Gr(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Bl.fetch()(wC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function vC(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},kL),e);try{let i=new qp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw kl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw kl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw kl(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ML(t,u,l);yr(t,u)}}catch(i){if(i instanceof be)throw i;yr(t,"network-request-failed",{message:String(i)})}})}function LL(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){let l=yield us(t,e,n,r,i);return"mfaPendingCredential"in l&&yr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function wC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ag(t.config,i):`${t.config.apiScheme}://${i}`}var qp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),OL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function kl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Zr(t,e,r);return i.customData._tokenResponse=n,i}function FL(t,e){return m(this,null,function*(){return us(t,"POST","/v1/accounts:delete",e)})}function VL(t,e){return m(this,null,function*(){return us(t,"POST","/v1/accounts:lookup",e)})}function Jo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lg(t,e=!1){return m(this,null,function*(){let n=Se(t),r=yield n.getIdToken(e),i=ug(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Jo(jp(i.auth_time)),issuedAtTime:Jo(jp(i.iat)),expirationTime:Jo(jp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function jp(t){return Number(t)*1e3}function ug(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ol("JWT malformed, contained fewer than 3 sections"),null;try{let i=$o(n);return i?JSON.parse(i):(Ol("Failed to decode base64 JWT payload"),null)}catch(i){return Ol("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UL(t){let e=ug(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xo(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof be&&BL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function BL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Wp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $l(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Xo(t,VL(n,{idToken:r}));V(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$L(s.providerUserInfo):[],a=jL(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jl(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function dg(t){return m(this,null,function*(){let e=Se(t);yield $l(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function jL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $L(t){return t.map(e=>{var{providerId:n}=e,r=Cd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zL(t,e){return m(this,null,function*(){let n=yield vC(t,{},()=>m(this,null,function*(){let r=Gr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HL(t,e){return m(this,null,function*(){return us(t,"POST","/v2/accounts:revokeToken",cg(t,e))})}var zl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return m(this,null,function*(){return V(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield zL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return jn("not implemented")}};function mr(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ea=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Cd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield Xo(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return lg(this,e)}reload(){return dg(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield $l(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){let e=yield this.getIdToken();return yield Xo(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ne=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:re,emailVerified:b,isAnonymous:te,providerData:q,stsTokenManager:ue}=n;V(re&&ue,e,"internal-error");let ve=zl.fromJSON(this.name,ue);V(typeof re=="string",e,"internal-error"),mr(d,e.name),mr(h,e.name),V(typeof b=="boolean",e,"internal-error"),V(typeof te=="boolean",e,"internal-error"),mr(y,e.name),mr(_,e.name),mr(v,e.name),mr(E,e.name),mr(D,e.name),mr(ne,e.name);let Ze=new t({uid:re,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:te,photoURL:_,phoneNumber:y,tenantId:v,stsTokenManager:ve,createdAt:D,lastLoginAt:ne});return q&&Array.isArray(q)&&(Ze.providerData=q.map(Yn=>Object.assign({},Yn))),E&&(Ze._redirectEventId=E),Ze}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new zl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $l(s),s})}};var iC=new Map;function $n(t){_r(t instanceof Function,"Expected a class definition");let e=iC.get(t);return e?(_r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iC.set(t,e),e)}var qL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Gp=qL;function Ll(t,e,n){return`firebase:${t}:${e}:${n}`}var Hl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ll(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ll("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ea._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t($n(Gp),e,r);let i=(yield Promise.all(n.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||$n(Gp),o=Ll(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=ea._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>m(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function sC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bC(e))return"Blackberry";if(SC(e))return"Webos";if(hg(e))return"Safari";if((e.includes("chrome/")||EC(e))&&!e.includes("edge/"))return"Chrome";if(TC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function IC(t=Le()){return/firefox\//i.test(t)}function hg(t=Le()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EC(t=Le()){return/crios\//i.test(t)}function CC(t=Le()){return/iemobile/i.test(t)}function TC(t=Le()){return/android/i.test(t)}function bC(t=Le()){return/blackberry/i.test(t)}function SC(t=Le()){return/webos/i.test(t)}function Jl(t=Le()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WL(t=Le()){var e;return Jl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GL(){return L0()&&document.documentMode===10}function DC(t=Le()){return Jl(t)||TC(t)||SC(t)||bC(t)||/windows phone/i.test(t)||CC(t)}function KL(){try{return!!(window&&window!==window.top)}catch{return!1}}function AC(t,e=[]){let n;switch(t){case"Browser":n=sC(Le());break;case"Worker":n=`${sC(Le())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mt}/${r}`}var Kp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function QL(n){return m(this,arguments,function*(t,e={}){return us(t,"GET","/v2/passwordPolicy",cg(t,e))})}var YL=6,Qp=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:YL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Yp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ql(this),this.idTokenSubscription=new ql(this),this.beforeStateQueue=new Kp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Hl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield $l(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=PL()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){let n=e?Se(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence($n(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield QL(this),n=new Qp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ot("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$n(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=yield Hl.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&RL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fg(t){return Se(t)}var ql=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=B0(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pg={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZL(t){pg=t}function JL(t){return pg.loadJS(t)}function XL(){return pg.gapiScript}function RC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gg(t,e){let n=He(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Bn(s,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function eF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($n);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mg(t,e,n){let r=fg(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=MC(e),{host:o,port:a}=tF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nF()}function MC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tF(t){let e=MC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:oC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:oC(o)}}}function oC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function nF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Wl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,n){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}};function $p(t,e){return m(this,null,function*(){return LL(t,"POST","/v1/accounts:signInWithIdp",cg(t,e))})}var Gl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zp=class extends Gl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ta=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(this,null,function*(){let s=yield ea._fromIdTokenResponse(e,r,i),o=aC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return m(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=aC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function aC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Jp=class t extends be{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function xC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jp._fromErrorAndOperation(t,s,e,r):s})}function rF(t,e,n=!1){return m(this,null,function*(){let r=yield Xo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ta._forOperation(t,"link",r)})}function iF(t,e,n=!1){return m(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Xo(t,xC(r,i,e,t),n);V(s.idToken,r,"internal-error");let o=ug(s.idToken);V(o,r,"internal-error");let{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),ta._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&yr(r,"user-mismatch"),s}})}function sF(t,e,n=!1){return m(this,null,function*(){let r="signIn",i=yield xC(t,r,e),s=yield ta._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Xl(t,e,n,r){return Se(t).onIdTokenChanged(e,n,r)}function yg(t,e,n){return Se(t).beforeAuthStateChanged(e,n)}function eu(t,e,n,r){return Se(t).onAuthStateChanged(e,n,r)}var Kl="__sak";var Ql=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kl,"1"),this.storage.removeItem(Kl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function oF(){let t=Le();return hg(t)||Jl(t)}var aF=1e3,cF=10,lF=(()=>{class t extends Ql{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oF()&&KL(),this.fallbackToPolling=DC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);GL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,cF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},aF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return m(this,null,function*(){yield Zn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return m(this,null,function*(){let r=yield Zn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return m(this,null,function*(){yield Zn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),NC=lF;var uF=(()=>{class t extends Ql{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),_g=uF;function dF(t){return Promise.all(t.map(e=>m(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var hF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return m(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>m(this,null,function*(){return u(r.origin,o)})),l=yield dF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function PC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Xp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return m(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=PC("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function In(){return window}function fF(t){In().location.href=t}function kC(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}function pF(){return m(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function gF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mF(){return kC()?self:null}var OC="firebaseLocalStorageDb",yF=1,Yl="firebaseLocalStorage",LC="fbase_key",Xr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function tu(t,e){return t.transaction([Yl],e?"readwrite":"readonly").objectStore(Yl)}function _F(){let t=indexedDB.deleteDatabase(OC);return new Xr(t).toPromise()}function eg(){let t=indexedDB.open(OC,yF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Yl,{keyPath:LC})}catch(i){n(i)}}),t.addEventListener("success",()=>m(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Yl)?e(r):(r.close(),yield _F(),e(yield eg()))}))})}function cC(t,e,n){return m(this,null,function*(){let r=tu(t,!0).put({[LC]:e,value:n});return new Xr(r).toPromise()})}function vF(t,e){return m(this,null,function*(){let n=tu(t,!1).get(e),r=yield new Xr(n).toPromise();return r===void 0?null:r.value})}function lC(t,e){let n=tu(t,!0).delete(e);return new Xr(n).toPromise()}var wF=800,IF=3,EF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return m(this,null,function*(){return this.db?this.db:(this.db=yield eg(),this.db)})}_withRetries(n){return m(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>IF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return m(this,null,function*(){return kC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return m(this,null,function*(){this.receiver=hF._getInstance(mF()),this.receiver._subscribe("keyChanged",(n,r)=>m(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>m(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return m(this,null,function*(){var n,r;if(this.activeServiceWorker=yield pF(),!this.activeServiceWorker)return;this.sender=new Xp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return m(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||gF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return m(this,null,function*(){try{if(!indexedDB)return!1;let n=yield eg();return yield cC(n,Kl,"1"),yield lC(n,Kl),!0}catch{}return!1})}_withPendingWrite(n){return m(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(i=>cC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return m(this,null,function*(){let r=yield this._withRetries(i=>vF(i,n));return this.localCache[n]=r,r})}_remove(n){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(r=>lC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return m(this,null,function*(){let n=yield this._withRetries(s=>{let o=tu(s,!1).getAll();return new Xr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>m(this,null,function*(){return this._poll()}),wF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),FC=EF;var Z8=RC("rcb"),J8=new Jr(3e4,6e4);function CF(t,e){return e?$n(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var na=class extends Wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $p(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $p(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $p(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function TF(t){return sF(t.auth,new na(t),t.bypassAuthState)}function bF(t){let{auth:e,user:n}=t;return V(n,e,"internal-error"),iF(n,new na(t),t.bypassAuthState)}function SF(t){return m(this,null,function*(){let{auth:e,user:n}=t;return V(n,e,"internal-error"),rF(n,new na(t),t.bypassAuthState)})}var tg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>m(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return m(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TF;case"linkViaPopup":case"linkViaRedirect":return SF;case"reauthViaPopup":case"reauthViaRedirect":return bF;default:yr(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var X8=new Jr(2e3,1e4);var DF="pendingRedirect",Fl=new Map,ng=class t extends tg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return m(this,null,function*(){let e=Fl.get(this.auth._key());if(!e){try{let r=(yield AF(this.resolver,this.auth))?yield Zn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fl.set(this.auth._key(),e)}return this.bypassAuthState||Fl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return m(this,null,function*(){if(e.type==="signInViaRedirect")return Zn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Zn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return m(this,null,function*(){})}cleanUp(){}};function AF(t,e){return m(this,null,function*(){let n=xF(e),r=MF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function RF(t,e){Fl.set(t._key(),e)}function MF(t){return $n(t._redirectPersistence)}function xF(t){return Ll(DF,t.config.apiKey,t.name)}function NF(t,e,n=!1){return m(this,null,function*(){let r=fg(t),i=CF(r,e),o=yield new ng(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var PF=10*60*1e3,rg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PF&&this.cachedEventUids.clear(),this.cachedEventUids.has(uC(e))}saveEventToCache(e){this.cachedEventUids.add(uC(e)),this.lastProcessedEventTime=Date.now()}};function uC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VC(t);default:return!1}}function OF(n){return m(this,arguments,function*(t,e={}){return us(t,"GET","/v1/projects",e)})}var LF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FF=/^https?/;function VF(t){return m(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OF(t);for(let n of e)try{if(UF(n))return}catch{}yr(t,"unauthorized-domain")})}function UF(t){let e=Hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FF.test(n))return!1;if(LF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var BF=new Jr(3e4,6e4);function dC(){let t=In().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jF(t){return new Promise((e,n)=>{var r,i,s;function o(){dC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dC(),n(Zr(t,"network-request-failed"))},timeout:BF.get()})}if(!((i=(r=In().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=In().gapi)===null||s===void 0)&&s.load)o();else{let a=RC("iframefcb");return In()[a]=()=>{gapi.load?o():n(Zr(t,"network-request-failed"))},JL(`${XL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Vl=null,e})}var Vl=null;function $F(t){return Vl=Vl||jF(t),Vl}var zF=new Jr(5e3,15e3),HF="__/auth/iframe",qF="emulator/auth/iframe",WF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KF(t){let e=t.config;V(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ag(e,qF):`https://${t.config.authDomain}/${HF}`,r={apiKey:e.apiKey,appName:t.name,v:mt},i=GF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gr(r).slice(1)}`}function QF(t){return m(this,null,function*(){let e=yield $F(t),n=In().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:KF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WF,dontclear:!0},r=>new Promise((i,s)=>m(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Zr(t,"network-request-failed"),a=In().setTimeout(()=>{s(o)},zF.get());function c(){In().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var YF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZF=500,JF=600,XF="_blank",eV="http://localhost",Zl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tV(t,e,n,r=ZF,i=JF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},YF),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Le().toLowerCase();n&&(a=EC(l)?XF:n),IC(l)&&(e=e||eV,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[y,_])=>`${h}${y}=${_},`,"");if(WL(l)&&a!=="_self")return nV(e||"",a),new Zl(null);let d=window.open(e||"",a,u);V(d,t,"popup-blocked");try{d.focus()}catch{}return new Zl(d)}function nV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rV="__/auth/handler",iV="emulator/auth/handler",sV=encodeURIComponent("fac");function hC(t,e,n,r,i,s){return m(this,null,function*(){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mt,eventId:i};if(e instanceof Gl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Zp){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${sV}=${encodeURIComponent(c)}`:"";return`${oV(t)}?${Gr(a).slice(1)}${l}`})}function oV({config:t}){return t.emulator?ag(t,iV):`https://${t.authDomain}/${rV}`}var zp="webStorageSupport",ig=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_g,this._completeRedirectFn=NF,this._overrideRedirectResult=RF}_openPopup(e,n,r,i){return m(this,null,function*(){var s;_r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield hC(e,n,r,Hp(),i);return tV(e,o,PC())})}_openRedirect(e,n,r,i){return m(this,null,function*(){yield this._originValidation(e);let s=yield hC(e,n,r,Hp(),i);return fF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_r(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return m(this,null,function*(){let n=yield QF(e),r=new rg(e);return n.register("authEvent",i=>(V(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zp,{type:zp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[zp];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DC()||hg()||Jl()}},UC=ig;var fC="@firebase/auth",pC="1.6.2";var sg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function aV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cV(t){Me(new _e("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AC(t)},l=new Yp(r,i,s,c);return eF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Me(new _e("auth-internal",e=>{let n=fg(e.getProvider("auth").getImmediate());return(r=>new sg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),O(fC,pC,aV(t)),O(fC,pC,"esm2017")}var lV=5*60,uV=Cp("authIdTokenMaxAge")||lV,gC=null,dV=t=>e=>m(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uV)return;let i=n?.token;gC!==i&&(gC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function vg(t=at()){let e=He(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gg(t,{popupRedirectResolver:UC,persistence:[FC,NC,_g]}),r=Cp("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){let s=dV(r);yg(n,s,()=>s(n.currentUser)),Xl(n,o=>s(o))}let i=Ip("auth");return i&&mg(n,`http://${i}`),n}function hV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cV("Browser");function jC(t){return new Q(function(e){var n=eu(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var $C="auth",ei=class{constructor(e){return e}},zn=class{constructor(){return At($C)}};var wg=new R("angularfire2.auth-instances");function i2(t,e){let n=Ut($C,t,e);return n&&new ei(n)}function s2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ei(r)}}var o2={provide:zn,deps:[[new oe,wg]]},a2={provide:ei,useFactory:i2,deps:[[new oe,wg],Ge]},c2=(()=>{class t{constructor(){O("angularfire",qe.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Ae({providers:[a2,o2]})}return t})();function zC(t,...e){return{ngModule:c2,providers:[{provide:wg,useFactory:s2(t),multi:!0,deps:[F,ge,yt,ct,[new oe,wn],...e]}]}}var HC=We(jC,!0);var qC=We(vg,!0);var KC="@firebase/installations",Tg="0.6.5";var QC=1e4,YC=`w:${Tg}`,ZC="FIS_v2",u2="https://firebaseinstallations.googleapis.com/v1",d2=60*60*1e3,h2="installations",f2="Installations";var p2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ni=new ot(h2,f2,p2);function JC(t){return t instanceof be&&t.code.includes("request-failed")}function XC({projectId:t}){return`${u2}/projects/${t}/installations`}function eT(t){return{token:t.token,requestStatus:2,expiresIn:m2(t.expiresIn),creationTime:Date.now()}}function tT(t,e){return m(this,null,function*(){let r=(yield e.json()).error;return ni.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function nT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function g2(t,{refreshToken:e}){let n=nT(t);return n.append("Authorization",y2(e)),n}function rT(t){return m(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function m2(t){return Number(t.replace("s","000"))}function y2(t){return`${ZC} ${t}`}function _2(r,i){return m(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=XC(t),o=nT(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let c={fid:n,authVersion:ZC,appId:t.appId,sdkVersion:YC},l={method:"POST",headers:o,body:JSON.stringify(c)},u=yield rT(()=>fetch(s,l));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:eT(d.authToken)}}else throw yield tT("Create Installation",u)})}function iT(t){return new Promise(e=>{setTimeout(e,t)})}function v2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var w2=/^[cdef][\w-]{21}$/,Cg="";function I2(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=E2(t);return w2.test(n)?n:Cg}catch{return Cg}}function E2(t){return v2(t).substr(0,22)}function ru(t){return`${t.appName}!${t.appId}`}var sT=new Map;function oT(t,e){let n=ru(t);aT(n,e),C2(n,e)}function aT(t,e){let n=sT.get(t);if(n)for(let r of n)r(e)}function C2(t,e){let n=T2();n&&n.postMessage({key:t,fid:e}),b2()}var ti=null;function T2(){return!ti&&"BroadcastChannel"in self&&(ti=new BroadcastChannel("[Firebase] FID Change"),ti.onmessage=t=>{aT(t.data.key,t.data.fid)}),ti}function b2(){sT.size===0&&ti&&(ti.close(),ti=null)}var S2="firebase-installations-database",D2=1,ri="firebase-installations-store",Ig=null;function bg(){return Ig||(Ig=Rl(S2,D2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ri)}}})),Ig}function nu(t,e){return m(this,null,function*(){let n=ru(t),i=(yield bg()).transaction(ri,"readwrite"),s=i.objectStore(ri),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&oT(t,e.fid),e})}function cT(t){return m(this,null,function*(){let e=ru(t),r=(yield bg()).transaction(ri,"readwrite");yield r.objectStore(ri).delete(e),yield r.done})}function iu(t,e){return m(this,null,function*(){let n=ru(t),i=(yield bg()).transaction(ri,"readwrite"),s=i.objectStore(ri),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&oT(t,a.fid),a})}function Sg(t){return m(this,null,function*(){let e,n=yield iu(t.appConfig,r=>{let i=A2(r),s=R2(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Cg?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function A2(t){let e=t||{fid:I2(),registrationStatus:0};return lT(e)}function R2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(ni.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=M2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:x2(t)}:{installationEntry:e}}function M2(t,e){return m(this,null,function*(){try{let n=yield _2(t,e);return nu(t.appConfig,n)}catch(n){throw JC(n)&&n.customData.serverCode===409?yield cT(t.appConfig):yield nu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function x2(t){return m(this,null,function*(){let e=yield WC(t.appConfig);for(;e.registrationStatus===1;)yield iT(100),e=yield WC(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Sg(t);return r||n}return e})}function WC(t){return iu(t,e=>{if(!e)throw ni.create("installation-not-found");return lT(e)})}function lT(t){return N2(t)?{fid:t.fid,registrationStatus:0}:t}function N2(t){return t.registrationStatus===1&&t.registrationTime+QC<Date.now()}function P2(r,i){return m(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=k2(t,n),o=g2(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let c={installation:{sdkVersion:YC,appId:t.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},u=yield rT(()=>fetch(s,l));if(u.ok){let d=yield u.json();return eT(d)}else throw yield tT("Generate Auth Token",u)})}function k2(t,{fid:e}){return`${XC(t)}/${e}/authTokens:generate`}function Dg(t,e=!1){return m(this,null,function*(){let n,r=yield iu(t.appConfig,s=>{if(!uT(s))throw ni.create("not-registered");let o=s.authToken;if(!e&&F2(o))return s;if(o.requestStatus===1)return n=O2(t,e),s;{if(!navigator.onLine)throw ni.create("app-offline");let a=U2(s);return n=L2(t,a),a}});return n?yield n:r.authToken})}function O2(t,e){return m(this,null,function*(){let n=yield GC(t.appConfig);for(;n.authToken.requestStatus===1;)yield iT(100),n=yield GC(t.appConfig);let r=n.authToken;return r.requestStatus===0?Dg(t,e):r})}function GC(t){return iu(t,e=>{if(!uT(e))throw ni.create("not-registered");let n=e.authToken;return B2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function L2(t,e){return m(this,null,function*(){try{let n=yield P2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield nu(t.appConfig,r),n}catch(n){if(JC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield cT(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield nu(t.appConfig,r)}throw n}})}function uT(t){return t!==void 0&&t.registrationStatus===2}function F2(t){return t.requestStatus===2&&!V2(t)}function V2(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+d2}function U2(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function B2(t){return t.requestStatus===1&&t.requestTime+QC<Date.now()}function j2(t){return m(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield Sg(e);return r?r.catch(console.error):Dg(e).catch(console.error),n.fid})}function $2(t,e=!1){return m(this,null,function*(){let n=t;return yield z2(n),(yield Dg(n,e)).token})}function z2(t){return m(this,null,function*(){let{registrationPromise:e}=yield Sg(t);e&&(yield e)})}function H2(t){if(!t||!t.options)throw Eg("App Configuration");if(!t.name)throw Eg("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Eg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Eg(t){return ni.create("missing-app-config-values",{valueName:t})}var dT="installations",q2="installations-internal",W2=t=>{let e=t.getProvider("app").getImmediate(),n=H2(e),r=He(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},G2=t=>{let e=t.getProvider("app").getImmediate(),n=He(e,dT).getImmediate();return{getId:()=>j2(n),getToken:i=>$2(n,i)}};function K2(){Me(new _e(dT,W2,"PUBLIC")),Me(new _e(q2,G2,"PRIVATE"))}K2();O(KC,Tg);O(KC,Tg,"esm2017");var su="analytics",Q2="firebase_id",Y2="origin",Z2=60*1e3,J2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kg="https://www.googletagmanager.com/gtag/js";var lt=new gt("@firebase/analytics");var X2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rt=new ot("analytics","Analytics",X2);function eU(t){if(!t.startsWith(kg)){let e=Rt.create("invalid-gtag-resource",{gtagURL:t});return lt.warn(e.message),""}return t}function _T(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nU(t,e){let n=tU("firebase-js-sdk-policy",{createScriptURL:eU}),r=document.createElement("script"),i=`${kg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function iU(t,e,n,r,i,s){return m(this,null,function*(){let o=r[i];try{if(o)yield e[o];else{let c=(yield _T(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){lt.error(a)}t("config",i,s)})}function sU(t,e,n,r,i){return m(this,null,function*(){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let a=yield _T(n);for(let c of o){let l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){lt.error(s)}})}function oU(t,e,n,r){function i(s,...o){return m(this,null,function*(){try{if(s==="event"){let[a,c]=o;yield sU(t,e,n,a,c)}else if(s==="config"){let[a,c]=o;yield iU(t,e,n,r,a,c)}else if(s==="consent"){let[a]=o;t("consent","update",a)}else if(s==="get"){let[a,c,l]=o;t("get",a,c,l)}else if(s==="set"){let[a]=o;t("set",a)}else t(s,...o)}catch(a){lt.error(a)}})}return i}function aU(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=oU(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function cU(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(kg)&&n.src.includes(t))return n;return null}var lU=30,uU=1e3,Rg=class{constructor(e={},n=uU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},vT=new Rg;function dU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function hU(t){return m(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:dU(r)},s=J2.replace("{app-id}",n),o=yield fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{let c=yield o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Rt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function fU(r){return m(this,arguments,function*(t,e=vT,n){let{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw Rt.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw Rt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Mg;return setTimeout(()=>m(this,null,function*(){c.abort()}),n!==void 0?n:Z2),wT({appId:i,apiKey:s,measurementId:o},a,c,e)})}function wT(s,o,a){return m(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=vT){var c;let{appId:l,measurementId:u}=t;try{yield pU(r,e)}catch(d){if(u)return lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{let d=yield hU(t);return i.deleteThrottleMetadata(l),d}catch(d){let h=d;if(!gU(h)){if(i.deleteThrottleMetadata(l),u)return lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw d}let y=Number((c=h?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Ko(n,i.intervalMillis,lU):Ko(n,i.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(l,_),lt.debug(`Calling attemptFetch again in ${y} millis`),wT(t,_,r,i)}})}function pU(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gU(t){if(!(t instanceof be)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Mg=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var xg;function mU(t,e,n,r,i){return m(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let s=yield e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}})}function yU(t,e,n,r){return m(this,null,function*(){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();{let i=yield e;t("config",i,{update:!0,user_id:n})}})}var Ng;function _U(t){Ng=t}function vU(t){xg=t}function wU(){return m(this,null,function*(){if(Un())try{yield qr()}catch(t){return lt.warn(Rt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return lt.warn(Rt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function IU(t,e,n,r,i,s,o){return m(this,null,function*(){var a;let c=fU(t);c.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>lt.error(y)),e.push(c);let l=wU().then(y=>{if(y)return r.getId()}),[u,d]=yield Promise.all([c,l]);cU(s)||nU(s,u.measurementId),Ng&&(i("consent","default",Ng),_U(void 0)),i("js",new Date);let h=(a=o?.config)!==null&&a!==void 0?a:{};return h[Y2]="firebase",h.update=!0,d!=null&&(h[Q2]=d),i("config",u.measurementId,h),xg&&(i("set",xg),vU(void 0)),u.measurementId})}var Pg=class{constructor(e){this.app=e}_delete(){return delete ds[this.app.options.appId],Promise.resolve()}},ds={},hT=[],fT={},Ag="dataLayer",EU="gtag",pT,Og,gT=!1;function CU(){let t=[];if(Ho()&&t.push("This is a browser extension environment."),Tp()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rt.create("invalid-analytics-context",{errorInfo:e});lt.warn(n.message)}}function TU(t,e,n){CU();let r=t.options.appId;if(!r)throw Rt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rt.create("no-api-key");if(ds[r]!=null)throw Rt.create("already-exists",{id:r});if(!gT){rU(Ag);let{wrappedGtag:s,gtagCore:o}=aU(ds,hT,fT,Ag,EU);Og=s,pT=o,gT=!0}return ds[r]=IU(t,hT,fT,e,pT,Ag,n),new Pg(t)}function IT(t=at()){t=Se(t);let e=He(t,su);return e.isInitialized()?e.getImmediate():ET(t)}function ET(t,e={}){let n=He(t,su);if(n.isInitialized()){let i=n.getImmediate();if(Bn(e,n.getOptions()))return i;throw Rt.create("already-initialized")}return n.initialize({options:e})}function CT(){return m(this,null,function*(){if(Ho()||!Tp()||!Un())return!1;try{return yield qr()}catch{return!1}})}function TT(t,e,n){t=Se(t),yU(Og,ds[t.app.options.appId],e,n).catch(r=>lt.error(r))}function Lg(t,e,n,r){t=Se(t),mU(Og,ds[t.app.options.appId],e,n,r).catch(i=>lt.error(i))}var mT="@firebase/analytics",yT="0.10.1";function bU(){Me(new _e(su,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return TU(r,i,n)},"PUBLIC")),Me(new _e("analytics-internal",t,"PRIVATE")),O(mT,yT),O(mT,yT,"esm2017");function t(e){try{let n=e.getProvider(su).getImmediate();return{logEvent:(r,i,s)=>Lg(n,r,i,s)}}catch(n){throw Rt.create("interop-component-reg-failed",{reason:n})}}}bU();var ii=class{constructor(e){return e}},DT="analytics",Vg=class{constructor(){return At(DT)}};var Ug="__angularfire_symbol__analyticsIsSupportedValue",AT="__angularfire_symbol__analyticsIsSupported";globalThis[AT]||=CT().then(t=>globalThis[Ug]=t).catch(()=>globalThis[Ug]=!1);var ou={async:()=>globalThis[AT],sync:()=>{let t=globalThis[Ug];if(t===void 0)throw new Error(Nl("Analytics"));return t}},RT=ou.async,MT=We(IT,!0);var SU=We(Lg,!0);var DU=We(TT,!0);var au=(()=>{class t{initialized;disposables=[];constructor(n,r,i){O("angularfire",qe.full,"user-tracking");let s;this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),RT().then(()=>{let o=i.get(ii);o?this.disposables=[HC(n).subscribe(a=>{DU(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(S(ei),S(F),S(ge))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),AU="firebase_event_origin",RU="firebase_previous_class",MU="firebase_previous_id",xU="firebase_previous_screen",NU="firebase_screen_class",bT="firebase_screen_id",PU="firebase_screen",Bg="outlet",kU="page_path",OU="page_title",ra="screen_class",ST="screen_name",LU="screen_view",FU="auto",VU="#",UU=Math.floor(Math.random()*(2**32-1))-2**31,Fg={},BU=t=>{let e=[t[ra],t[Bg]].join(VU);if(Fg.hasOwnProperty(e))return Fg[e];{let n=UU++;return Fg[e]=n,n}},jU=(t,e,n)=>t.events.pipe(it(i=>i instanceof Do)).pipe(st(i=>{let o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!a)return A(null);let c=a;for(;c.firstChild;)c=c.firstChild;let l=c.pathFromRoot.map(h=>h.routeConfig?.path).filter(h=>h).join("/")||"/",u={[ST]:l,[kU]:`/${o}`,[AU]:FU,[PU]:l,[Bg]:i.snapshot.outlet};e&&(u[OU]=e.getTitle());let d=a.component;if(d){if(d===cp){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;d=h.component}}else d=i.snapshot.component;if(typeof d=="string")return A(pe(T({},u),{[ra]:d}));if(d){let h=n.resolveComponentFactory(d);return A(pe(T({},u),{[ra]:h.selector}))}return A(null)}),it(i=>!!i),W(i=>T({[NU]:i[ra],[bT]:BU(i)},i)),Dd(i=>i[Bg]),Ee(i=>i.pipe(Sd((s,o)=>JSON.stringify(s)===JSON.stringify(o)),Ws(void 0),Rd(),W(([s,o])=>s?T({[RU]:s[ra],[xU]:s[ST],[MU]:s[bT]},o):o)))),jg=(()=>{class t{disposable;constructor(n,r,i,s,o,a){O("angularfire",qe.full,"screen-tracking"),RT().then(()=>{let c=a.get(ii);!n||!c||s.runOutsideAngular(()=>{this.disposable=jU(n,r,i).pipe(st(l=>m(this,null,function*(){return o&&(yield o.initialized),SU(c,LU,l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(r){return new(r||t)(S(Xt,8),S(sl,8),S(Gi),S(F),S(au,8),S(ge))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),$g=new R("angularfire2.analytics-instances");function $U(t,e){if(!ou.sync())return null;let n=Ut(DT,t,e);return n&&new ii(n)}function zU(t){return(e,n)=>{if(!ou.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new ii(r)}}var HU={provide:Vg,deps:[[new oe,$g]]},qU={provide:ii,useFactory:$U,deps:[[new oe,$g],Ge]},WU=(()=>{class t{constructor(n,r){O("angularfire",qe.full,"analytics")}static \u0275fac=function(r){return new(r||t)(S(jg,8),S(au,8))};static \u0275mod=Re({type:t});static \u0275inj=Ae({providers:[qU,HU,{provide:lr,useValue:ou.async,multi:!0}]})}return t})();function xT(t,...e){return{ngModule:WU,providers:[{provide:$g,useFactory:zU(t),multi:!0,deps:[F,ge,yt,ct,...e]}]}}var GU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tn={},I,um=um||{},k=GU||self;function Iu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ya(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function KU(t){return Object.prototype.hasOwnProperty.call(t,zg)&&t[zg]||(t[zg]=++QU)}var zg="closure_uid_"+(1e9*Math.random()>>>0),QU=0;function YU(t,e,n){return t.call.apply(t.bind,arguments)}function ZU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Je=YU:Je=ZU,Je.apply(null,arguments)}function cu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ue(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function vr(){this.s=this.s,this.o=this.o}var JU=0;vr.prototype.s=!1;vr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),JU!=0)&&KU(this)};vr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var HT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dm(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function NT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Iu(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Xe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var XU=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function la(t){return/^[\s\xa0]*$/.test(t)}function Eu(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function En(t){return Eu().indexOf(t)!=-1}function hm(t){return hm[" "](t),t}hm[" "]=function(){};function eB(t,e){var n=$B;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var tB=En("Opera"),gs=En("Trident")||En("MSIE"),qT=En("Edge"),Kg=qT||gs,WT=En("Gecko")&&!(Eu().toLowerCase().indexOf("webkit")!=-1&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),nB=Eu().toLowerCase().indexOf("webkit")!=-1&&!En("Edge");function GT(){var t=k.document;return t?t.documentMode:void 0}var Qg;e:{if(lu="",uu=function(){var t=Eu();if(WT)return/rv:([^\);]+)(\)|;)/.exec(t);if(qT)return/Edge\/([\d\.]+)/.exec(t);if(gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nB)return/WebKit\/(\S+)/.exec(t);if(tB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),uu&&(lu=uu?uu[1]:""),gs&&(du=GT(),du!=null&&du>parseFloat(lu))){Qg=String(du);break e}Qg=lu}var lu,uu,du,Yg;k.document&&gs?(Hg=GT(),Yg=Hg||parseInt(Qg,10)||void 0):Yg=void 0;var Hg,rB=Yg;function ua(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(WT){e:{try{hm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ua.$.h.call(this)}}Ue(ua,Xe);var iB={2:"touch",3:"pen",4:"mouse"};ua.prototype.h=function(){ua.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _a="closure_listenable_"+(1e6*Math.random()|0),sB=0;function oB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++sB,this.fa=this.ia=!1}function Cu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function fm(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function aB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function KT(t){let e={};for(let n in t)e[n]=t[n];return e}var PT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<PT.length;s++)n=PT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tu(t){this.src=t,this.g={},this.h=0}Tu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Jg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new oB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Zg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=HT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var pm="closure_lm_"+(1e6*Math.random()|0),qg={};function YT(t,e,n,r,i){if(r&&r.once)return JT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)YT(t,e[s],n,r,i);return null}return n=ym(n),t&&t[_a]?t.O(e,n,ya(r)?!!r.capture:!!r,i):ZT(t,e,n,!1,r,i)}function ZT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ya(i)?!!i.capture:!!i,a=mm(t);if(a||(t[pm]=a=new Tu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=cB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)XU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cB(){function t(n){return e.call(t.src,t.listener,n)}let e=lB;return t}function JT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)JT(t,e[s],n,r,i);return null}return n=ym(n),t&&t[_a]?t.P(e,n,ya(r)?!!r.capture:!!r,i):ZT(t,e,n,!0,r,i)}function XT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)XT(t,e[s],n,r,i);else r=ya(r)?!!r.capture:!!r,n=ym(n),t&&t[_a]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Jg(s,n,r,i),-1<n&&(Cu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=mm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jg(e,n,r,i)),(n=-1<t?e[t]:null)&&gm(n))}function gm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[_a])Zg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mm(e))?(Zg(n,t),n.h==0&&(n.src=null,e[pm]=null)):Cu(t)}}}function eb(t){return t in qg?qg[t]:qg[t]="on"+t}function lB(t,e){if(t.fa)t=!0;else{e=new ua(e,this);var n=t.listener,r=t.la||t.src;t.ia&&gm(t),t=n.call(r,e)}return t}function mm(t){return t=t[pm],t instanceof Tu?t:null}var Wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ym(t){return typeof t=="function"?t:(t[Wg]||(t[Wg]=function(e){return t.handleEvent(e)}),t[Wg])}function Ve(){vr.call(this),this.i=new Tu(this),this.S=this,this.J=null}Ue(Ve,vr);Ve.prototype[_a]=!0;Ve.prototype.removeEventListener=function(t,e,n,r){XT(this,t,e,n,r)};function Qe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xe(e,t);else if(e instanceof Xe)e.target=e.target||t;else{var i=e;e=new Xe(r,t),QT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=hu(o,r,!0,e)&&i}if(o=e.g=t,i=hu(o,r,!0,e)&&i,i=hu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=hu(o,r,!1,e)&&i}Ve.prototype.N=function(){if(Ve.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cu(n[r]);delete t.g[e],t.h--}}this.J=null};Ve.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ve.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function hu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Zg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var _m=k.JSON.stringify,Xg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function uB(){var t=vm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var em=class{constructor(){this.h=this.g=null}add(e,n){let r=tb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},tb=new Xg(()=>new tm,t=>t.reset()),tm=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function dB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function hB(t){k.setTimeout(()=>{throw t},0)}var da,ha=!1,vm=new em,nb=()=>{let t=k.Promise.resolve(void 0);da=()=>{t.then(fB)}},fB=()=>{for(var t;t=uB();){try{t.h.call(t.g)}catch(n){hB(n)}var e=tb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ha=!1};function bu(t,e){Ve.call(this),this.h=t||1,this.g=e||k,this.j=Je(this.qb,this),this.l=Date.now()}Ue(bu,Ve);I=bu.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qe(this,"tick"),this.ga&&(wm(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){bu.$.N.call(this),wm(this),delete this.g};function Im(t,e,n){if(typeof t=="function")n&&(t=Je(t,n));else if(t&&typeof t.handleEvent=="function")t=Je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function rb(t){t.g=Im(()=>{t.g=null,t.i&&(t.i=!1,rb(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var nm=class extends vr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rb(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function fa(t){vr.call(this),this.h=t,this.g={}}Ue(fa,vr);var kT=[];function ib(t,e,n,r){Array.isArray(n)||(n&&(kT[0]=n.toString()),n=kT);for(var i=0;i<n.length;i++){var s=YT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sb(t){fm(t.g,function(e,n){this.g.hasOwnProperty(n)&&gm(e)},t),t.g={}}fa.prototype.N=function(){fa.$.N.call(this),sb(this)};fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Su(){this.g=!0}Su.prototype.Ea=function(){this.g=!1};function pB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function gB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function fs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yB(t,n)+(r?" "+r:"")})}function mB(t,e){t.info(function(){return"TIMEOUT: "+e})}Su.prototype.info=function(){};function yB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _m(n)}catch{return e}}var ci={},OT=null;function Du(){return OT=OT||new Ve}ci.Ta="serverreachability";function ob(t){Xe.call(this,ci.Ta,t)}Ue(ob,Xe);function pa(t){let e=Du();Qe(e,new ob(e))}ci.STAT_EVENT="statevent";function ab(t,e){Xe.call(this,ci.STAT_EVENT,t),this.stat=e}Ue(ab,Xe);function ut(t){let e=Du();Qe(e,new ab(e,t))}ci.Ua="timingevent";function cb(t,e){Xe.call(this,ci.Ua,t),this.size=e}Ue(cb,Xe);function va(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var Au={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Em(){}Em.prototype.h=null;function LT(t){return t.h||(t.h=t.i())}function ub(){}var wa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cm(){Xe.call(this,"d")}Ue(Cm,Xe);function Tm(){Xe.call(this,"c")}Ue(Tm,Xe);var rm;function Ru(){}Ue(Ru,Em);Ru.prototype.g=function(){return new XMLHttpRequest};Ru.prototype.i=function(){return{}};rm=new Ru;function Ia(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fa(this),this.P=_B,t=Kg?125:void 0,this.V=new bu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new db}function db(){this.i=null,this.g="",this.h=!1}var _B=45e3,hb={},im={};I=Ia.prototype;I.setTimeout=function(t){this.P=t};function sm(t,e,n){t.L=1,t.A=xu(qn(e)),t.u=n,t.S=!0,fb(t,null)}function fb(t,e){t.G=Date.now(),Ea(t),t.B=qn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Ib(n.i,"t",r),t.o=0,n=t.l.J,t.h=new db,t.g=$b(t.l,n?e:null,!t.u),0<t.O&&(t.M=new nm(Je(t.Pa,t,t.g),t.O)),ib(t.U,t.g,"readystatechange",t.nb),e=t.I?KT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),pa(),pB(t.j,t.v,t.B,t.m,t.W,t.u)}I.nb=function(t){t=t.target;let e=this.M;e&&Cn(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{let u=Cn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||Kg||this.g&&(this.h.h||this.g.ja()||BT(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?pa(3):pa(2)),Mu(this);var n=this.g.da();this.ca=n;t:if(pb(this)){var r=BT(this.g);t="";var i=r.length,s=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),ca(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,gB(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!la(a)){var l=a;break t}}l=null}if(n=l)fs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,n);else{this.i=!1,this.s=3,ut(12),si(this),ca(this);break e}}this.S?(gb(this,u,o),Kg&&this.i&&u==3&&(ib(this.U,this.V,"tick",this.mb),this.V.start())):(fs(this.j,this.m,o,null),om(this,o)),u==4&&si(this),this.i&&!this.J&&(u==4?Vb(this.l,this):(this.i=!1,Ea(this)))}else UB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),si(this),ca(this)}}}catch{}finally{}};function pb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function gb(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=vB(t,n),i==im){e==4&&(t.s=4,ut(14),r=!1),fs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==hb){t.s=4,ut(15),fs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fs(t.j,t.m,i,null),om(t,i);pb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,ut(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mm(e),e.M=!0,ut(11))):(fs(t.j,t.m,n,"[Invalid Chunked Response]"),si(t),ca(t))}I.mb=function(){if(this.g){var t=Cn(this.g),e=this.g.ja();this.o<e.length&&(Mu(this),gb(this,t,e),this.i&&t!=4&&Ea(this))}};function vB(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?im:(n=Number(e.substring(n,r)),isNaN(n)?hb:(r+=1,r+n>e.length?im:(e=e.slice(r,r+n),t.o=r+n,e)))}I.cancel=function(){this.J=!0,si(this)};function Ea(t){t.Y=Date.now()+t.P,mb(t,t.P)}function mb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=va(Je(t.lb,t),e)}function Mu(t){t.C&&(k.clearTimeout(t.C),t.C=null)}I.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(mB(this.j,this.B),this.L!=2&&(pa(),ut(17)),si(this),this.s=2,ca(this)):mb(this,this.Y-t)};function ca(t){t.l.H==0||t.J||Vb(t.l,t)}function si(t){Mu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,wm(t.V),sb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function om(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||am(n.i,t))){if(!t.K&&am(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yu(n),ku(n);else break e;Rm(n),ut(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=va(Je(n.ib,n),6e3));if(1>=Tb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oi(n,11)}else if((t.K||n.g==t)&&yu(n),!la(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let y=t.g;if(y){let _=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(bm(s,s.h),s.h=null))}if(r.F){let v=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,me(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=jb(r,r.J?r.pa:null,r.Y),o.K){bb(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Mu(a),Ea(a)),r.g=o}else Lb(r);0<n.j.length&&Ou(n)}else l[0]!="stop"&&l[0]!="close"||oi(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?oi(n,7):Am(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}pa(4)}catch{}}function wB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Iu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function IB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Iu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function yb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Iu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=IB(t),r=wB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var _b=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ai(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ai){this.h=t.h,gu(this,t.j),this.s=t.s,this.g=t.g,mu(this,t.m),this.l=t.l;var e=t.i,n=new ga;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),FT(this,n),this.o=t.o}else t&&(e=String(t).match(_b))?(this.h=!1,gu(this,e[1]||"",!0),this.s=oa(e[2]||""),this.g=oa(e[3]||"",!0),mu(this,e[4]),this.l=oa(e[5]||"",!0),FT(this,e[6]||"",!0),this.o=oa(e[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}ai.prototype.toString=function(){var t=[],e=this.j;e&&t.push(aa(e,VT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(aa(e,VT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(aa(n,n.charAt(0)=="/"?bB:TB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",aa(n,DB)),t.join("")};function qn(t){return new ai(t)}function gu(t,e,n){t.j=n?oa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function FT(t,e,n){e instanceof ga?(t.i=e,AB(t.i,t.h)):(n||(e=aa(e,SB)),t.i=new ga(e,t.h))}function me(t,e,n){t.i.set(e,n)}function xu(t){return me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function oa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function aa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var VT=/[#\/\?@]/g,TB=/[#\?:]/g,bB=/[#\?]/g,SB=/[#\?@]/g,DB=/#/g;function ga(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wr(t){t.g||(t.g=new Map,t.h=0,t.i&&EB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=ga.prototype;I.add=function(t,e){wr(this),this.i=null,t=ms(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function vb(t,e){wr(t),e=ms(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wb(t,e){return wr(t),e=ms(t,e),t.g.has(e)}I.forEach=function(t,e){wr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};I.ta=function(){wr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};I.Z=function(t){wr(this);let e=[];if(typeof t=="string")wb(this,t)&&(e=e.concat(this.g.get(ms(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return wr(this),this.i=null,t=ms(this,t),wb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Ib(t,e,n){vb(t,e),0<n.length&&(t.i=null,t.g.set(ms(t,e),dm(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ms(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function AB(t,e){e&&!t.j&&(wr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vb(this,r),Ib(this,i,n))},t)),t.j=e}var RB=class{constructor(t,e){this.g=t,this.map=e}};function Eb(t){this.l=t||MB,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var MB=10;function Cb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Tb(t){return t.h?1:t.g?t.g.size:0}function am(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function bm(t,e){t.g?t.g.add(e):t.h=e}function bb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Eb.prototype.cancel=function(){if(this.i=Sb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Sb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return dm(t.i)}var xB=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function NB(){this.g=new xB}function PB(t,e,n){let r=n||"";try{yb(t,function(i,s){let o=i;ya(i)&&(o=_m(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kB(t,e){let n=new Su;if(k.Image){let r=new Image;r.onload=cu(fu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cu(fu,n,r,"TestLoadImage: error",!1,e),r.onabort=cu(fu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cu(fu,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ca(t){this.l=t.ec||null,this.j=t.ob||!1}Ue(Ca,Em);Ca.prototype.g=function(){return new Nu(this.l,this.j)};Ca.prototype.i=function(t){return function(){return t}}({});function Nu(t,e){Ve.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Sm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ue(Nu,Ve);var Sm=0;I=Nu.prototype;I.open=function(t,e){if(this.readyState!=Sm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ma(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=Sm};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Db(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Db(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ta(this):ma(this),this.readyState==3&&Db(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,Ta(this))};I.Ya=function(t){this.g&&(this.response=t,Ta(this))};I.ka=function(){this.g&&Ta(this)};function Ta(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ma(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ma(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var OB=k.JSON.parse;function Ce(t){Ve.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ab,this.L=this.M=!1}Ue(Ce,Ve);var Ab="",LB=/^https?$/i,FB=["POST","PUT"];I=Ce.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rm.g(),this.C=this.u?LT(this.u):LT(rm),this.g.onreadystatechange=Je(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){UT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=k.FormData&&t instanceof k.FormData,!(0<=HT(FB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xb(this),0<this.B&&((this.L=VB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Je(this.ua,this)):this.A=Im(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){UT(this,s)}};function VB(t){return gs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof um<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qe(this,"timeout"),this.abort(8))};function UT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Rb(t),Pu(t)}function Rb(t){t.F||(t.F=!0,Qe(t,"complete"),Qe(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qe(this,"complete"),Qe(this,"abort"),Pu(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pu(this,!0)),Ce.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?Mb(this):this.kb())};I.kb=function(){Mb(this)};function Mb(t){if(t.h&&typeof um<"u"&&(!t.C[1]||Cn(t)!=4||t.da()!=2)){if(t.v&&Cn(t)==4)Im(t.La,0,t);else if(Qe(t,"readystatechange"),Cn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(_b)[1]||null;!i&&k.self&&k.self.location&&(i=k.self.location.protocol.slice(0,-1)),r=!LB.test(i?i.toLowerCase():"")}n=r}if(n)Qe(t,"complete"),Qe(t,"success");else{t.m=6;try{var s=2<Cn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Rb(t)}}finally{Pu(t)}}}}function Pu(t,e){if(t.g){xb(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function xb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function Cn(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),OB(e)}};function BT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ab:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function UB(t){let e={};t=(t.g&&2<=Cn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(la(t[r]))continue;var n=dB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}aB(e,function(r){return r.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Nb(t){let e="";return fm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Dm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):me(t,e,n))}function ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Pb(t){this.Ga=0,this.j=[],this.l=new Su,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ia("baseRetryDelayMs",5e3,t),this.hb=ia("retryDelaySeedMs",1e4,t),this.eb=ia("forwardChannelMaxRetries",2,t),this.xa=ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Eb(t&&t.concurrentRequestLimit),this.Ja=new NB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=Pb.prototype;I.ra=8;I.H=1;function Am(t){if(kb(t),t.H==3){var e=t.W++,n=qn(t.I);if(me(n,"SID",t.K),me(n,"RID",e),me(n,"TYPE","terminate"),ba(t,n),e=new Ia(t,t.l,e),e.L=2,e.A=xu(qn(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=$b(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ea(e)}Bb(t)}function ku(t){t.g&&(Mm(t),t.g.cancel(),t.g=null)}function kb(t){ku(t),t.u&&(k.clearTimeout(t.u),t.u=null),yu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function Ou(t){if(!Cb(t.i)&&!t.m){t.m=!0;var e=t.Na;da||nb(),ha||(da(),ha=!0),vm.add(e,t),t.C=0}}function BB(t,e){return Tb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=va(Je(t.Na,t,e),Ub(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ia(this,this.l,t),s=this.s;if(this.U&&(s?(s=KT(s),QT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ob(this,i,e),n=qn(this.I),me(n,"RID",t),me(n,"CVER",22),this.F&&me(n,"X-HTTP-Session-Id",this.F),ba(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Nb(s)))+"&"+e:this.o&&Dm(n,this.o,s)),bm(this.i,i),this.bb&&me(n,"TYPE","init"),this.P?(me(n,"$req",e),me(n,"SID","null"),i.aa=!0,sm(i,n,null)):sm(i,n,e),this.H=2}}else this.H==3&&(t?jT(this,t):this.j.length==0||Cb(this.i)||jT(this))};function jT(t,e){var n;e?n=e.m:n=t.W++;let r=qn(t.I);me(r,"SID",t.K),me(r,"RID",n),me(r,"AID",t.V),ba(t,r),t.o&&t.s&&Dm(r,t.o,t.s),n=new Ia(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ob(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bm(t.i,n),sm(n,r,e)}function ba(t,e){t.na&&fm(t.na,function(n,r){me(e,r,n)}),t.h&&yb({},function(n,r){me(e,r,n)})}function Ob(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Je(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{PB(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Lb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;da||nb(),ha||(da(),ha=!0),vm.add(e,t),t.A=0}}function Rm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=va(Je(t.Ma,t),Ub(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,Fb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=va(Je(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ut(10),ku(this),Fb(this))};function Mm(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function Fb(t){t.g=new Ia(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=qn(t.wa);me(e,"RID","rpc"),me(e,"SID",t.K),me(e,"AID",t.V),me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&me(e,"TO",t.qa),me(e,"TYPE","xmlhttp"),ba(t,e),t.o&&t.s&&Dm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=xu(qn(e)),n.u=null,n.S=!0,fb(n,t)}I.ib=function(){this.v!=null&&(this.v=null,ku(this),Rm(this),ut(19))};function yu(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function Vb(t,e){var n=null;if(t.g==e){yu(t),Mm(t),t.g=null;var r=2}else if(am(t.i,e))n=e.F,bb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Du(),Qe(r,new cb(r,n)),Ou(t)}else Lb(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&BB(t,e)||r==2&&Rm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:oi(t,5);break;case 4:oi(t,10);break;case 3:oi(t,6);break;default:oi(t,2)}}}function Ub(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Je(t.pb,t);n||(n=new ai("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||gu(n,"https"),xu(n)),kB(n.toString(),r)}else ut(2);t.H=0,t.h&&t.h.za(e),Bb(t),kb(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ut(2)):(this.l.info("Failed to ping google.com"),ut(1))};function Bb(t){if(t.H=0,t.ma=[],t.h){let e=Sb(t.i);(e.length!=0||t.j.length!=0)&&(NT(t.ma,e),NT(t.ma,t.j),t.i.i.length=0,dm(t.j),t.j.length=0),t.h.ya()}}function jb(t,e,n){var r=n instanceof ai?qn(n):new ai(n);if(r.g!="")e&&(r.g=e+"."+r.g),mu(r,r.m);else{var i=k.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ai(null);r&&gu(s,r),e&&(s.g=e),i&&mu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&me(r,n,e),me(r,"VER",t.ra),ba(t,r),r}function $b(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ce(new Ca({ob:n})):new Ce(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function zb(){}I=zb.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function _u(){if(gs&&!(10<=Number(rB)))throw Error("Environmental error: no available transport.")}_u.prototype.g=function(t,e){return new Mt(t,e)};function Mt(t,e){Ve.call(this),this.g=new Pb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!la(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!la(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ys(this)}Ue(Mt,Ve);Mt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ut(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=jb(t,null,t.Y),Ou(t)};Mt.prototype.close=function(){Am(this.g)};Mt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_m(t),t=n);e.j.push(new RB(e.fb++,t)),e.H==3&&Ou(e)};Mt.prototype.N=function(){this.g.h=null,delete this.j,Am(this.g),delete this.g,Mt.$.N.call(this)};function Hb(t){Cm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ue(Hb,Cm);function qb(){Tm.call(this),this.status=1}Ue(qb,Tm);function ys(t){this.g=t}Ue(ys,zb);ys.prototype.Ba=function(){Qe(this.g,"a")};ys.prototype.Aa=function(t){Qe(this.g,new Hb(t))};ys.prototype.za=function(t){Qe(this.g,new qb)};ys.prototype.ya=function(){Qe(this.g,"b")};function jB(){this.blockSize=-1}function en(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ue(en,jB);en.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}en.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Gg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Gg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Gg(this,r),i=0;break}}this.h=i,this.i+=e};en.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function le(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var $B={};function xm(t){return-128<=t&&128>t?eB(t,function(e){return new le([e|0],0>e?-1:0)}):new le([t|0],0>t?-1:0)}function Tn(t){if(isNaN(t)||!isFinite(t))return ps;if(0>t)return Ke(Tn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cm;return new le(e,0)}function Wb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ke(Wb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Tn(Math.pow(e,8)),r=ps,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Tn(Math.pow(e,s)),r=r.R(s).add(Tn(o))):(r=r.R(n),r=r.add(Tn(o)))}return r}var cm=4294967296,ps=xm(0),lm=xm(1),$T=xm(16777216);I=le.prototype;I.ea=function(){if(Bt(this))return-Ke(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cm+r)*e,e*=cm}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hn(this))return"0";if(Bt(this))return"-"+Ke(this).toString(t);for(var e=Tn(Math.pow(t,6)),n=this,r="";;){var i=wu(n,e).g;n=vu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Bt(t){return t.h==-1}I.X=function(t){return t=vu(this,t),Bt(t)?-1:Hn(t)?0:1};function Ke(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new le(n,~t.h).add(lm)}I.abs=function(){return Bt(this)?Ke(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new le(n,n[n.length-1]&-2147483648?-1:0)};function vu(t,e){return t.add(Ke(e))}I.R=function(t){if(Hn(this)||Hn(t))return ps;if(Bt(this))return Bt(t)?Ke(this).R(Ke(t)):Ke(Ke(this).R(t));if(Bt(t))return Ke(this.R(Ke(t)));if(0>this.X($T)&&0>t.X($T))return Tn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,pu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,pu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new le(n,0)};function pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function sa(t,e){this.g=t,this.h=e}function wu(t,e){if(Hn(e))throw Error("division by zero");if(Hn(t))return new sa(ps,ps);if(Bt(t))return e=wu(Ke(t),e),new sa(Ke(e.g),Ke(e.h));if(Bt(e))return e=wu(t,Ke(e)),new sa(Ke(e.g),e.h);if(30<t.g.length){if(Bt(t)||Bt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lm,r=e;0>=r.X(t);)n=zT(n),r=zT(r);var i=hs(n,1),s=hs(r,1);for(r=hs(r,2),n=hs(n,2);!Hn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=hs(r,1),n=hs(n,1)}return e=vu(t,i.R(e)),new sa(i,e)}for(i=ps;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Tn(n),o=s.R(e);Bt(o)||0<o.X(t);)n-=r,s=Tn(n),o=s.R(e);Hn(s)&&(s=lm),i=i.add(s),t=vu(t,o)}return new sa(i,t)}I.gb=function(t){return wu(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new le(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new le(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new le(n,this.h^t.h)};function zT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new le(n,t.h)}function hs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new le(i,t.h)}_u.prototype.createWebChannel=_u.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;Au.NO_ERROR=0;Au.TIMEOUT=8;Au.HTTP_ERROR=6;lb.COMPLETE="complete";ub.EventType=wa;wa.OPEN="a";wa.CLOSE="b";wa.ERROR="c";wa.MESSAGE="d";Ve.prototype.listen=Ve.prototype.O;Ce.prototype.listenOnce=Ce.prototype.P;Ce.prototype.getLastError=Ce.prototype.Sa;Ce.prototype.getLastErrorCode=Ce.prototype.Ia;Ce.prototype.getStatus=Ce.prototype.da;Ce.prototype.getResponseJson=Ce.prototype.Wa;Ce.prototype.getResponseText=Ce.prototype.ja;Ce.prototype.send=Ce.prototype.ha;Ce.prototype.setWithCredentials=Ce.prototype.Oa;en.prototype.digest=en.prototype.l;en.prototype.reset=en.prototype.reset;en.prototype.update=en.prototype.j;le.prototype.add=le.prototype.add;le.prototype.multiply=le.prototype.R;le.prototype.modulo=le.prototype.gb;le.prototype.compare=le.prototype.X;le.prototype.toNumber=le.prototype.ea;le.prototype.toString=le.prototype.toString;le.prototype.getBits=le.prototype.D;le.fromNumber=Tn;le.fromString=Wb;var zB=tn.createWebChannelTransport=function(){return new _u},HB=tn.getStatEventTarget=function(){return Du()},qB=tn.ErrorCode=Au,WB=tn.EventType=lb,GB=tn.Event=ci,KB=tn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},MK=tn.FetchXmlHttpFactory=Ca,QB=tn.WebChannel=ub,YB=tn.XhrIo=Ce,ZB=tn.Md5=en,Gb=tn.Integer=le;var Kb="@firebase/firestore";var Be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");var Sa="10.9.0";var vs=new gt("@firebase/firestore");function xt(t,...e){if(vs.logLevel<=Y.DEBUG){let n=e.map(Xm);vs.debug(`Firestore (${Sa}): ${t}`,...n)}}function Jm(t,...e){if(vs.logLevel<=Y.ERROR){let n=e.map(Xm);vs.error(`Firestore (${Sa}): ${t}`,...n)}}function JB(t,...e){if(vs.logLevel<=Y.WARN){let n=e.map(Xm);vs.warn(`Firestore (${Sa}): ${t}`,...n)}}function Xm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function _t(t="Unexpected state"){let e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+t;throw Jm(e),new Error(e)}function Pm(t,e){t||_t()}var Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pe=class extends be{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Er=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Lu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},km=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}},Om=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Lm=class{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Er,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Er)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pm(typeof r.accessToken=="string"),new Lu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Pm(e===null||typeof e=="string"),new Be(e)}},Fm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Vm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Um=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,xt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pm(typeof n.token=="string"),this.R=n.token,new Um(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function XB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=XB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function eS(t,e){return t<e?-1:t>e?1:0}var $m=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&_t(),r===void 0?r=e.length-n:r>e.length-n&&_t(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ir=class t extends $m{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Pe(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var li=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ir.fromString(e))}static fromName(e){return new t(Ir.fromString(e).popFirst(5))}static empty(){return new t(Ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ir.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ir.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ir(e.slice()))}};var zm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};zm.UNKNOWN_ID=-1;function tS(t){return t.name==="IndexedDbTransactionError"}function ej(t){return t===0&&1/t==-1/0}var tj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jK=[...tj,"documentOverlays"],nj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rj=nj,$K=[...rj,"indexConfiguration","indexState","indexEntries"];var ws=class t{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _s(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _s(this.root,e,this.comparator,!1)}getReverseIterator(){return new _s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _s(this.root,e,this.comparator,!0)}},_s=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Sn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();let e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}};Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Fu=class t{constructor(e){this.comparator=e,this.data=new ws(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vu(this.data.getIterator())}getIteratorFrom(e){return new Vu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Is=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Hm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return eS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Is.EMPTY_BYTE_STRING=new Is("");var HK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qb(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ij(t){return typeof t=="string"?Is.fromBase64String(t):Is.fromUint8Array(t)}var qm=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Wm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function sj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var qK=new ws(li.comparator);var WK=new ws(li.comparator);var GK=new ws(li.comparator),KK=new Fu(li.comparator);var QK=new Fu(eS);var Yb,J;(J=Yb||(Yb={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";var YK=new Gb([4294967295,4294967295],0);var Uu=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Qb(e.integerValue));else if("doubleValue"in e){let r=Qb(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ej(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ij(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?sj(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):_t()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),li.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Uu.bt=new Uu;var ZK=new Uint8Array(0);var bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);function Nm(){return typeof document<"u"?document:null}var Gm=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&xt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Km=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function oj(t,e){if(Jm("AsyncQueue",`${e}: ${t}`),tS(t))return new Pe(Ye.UNAVAILABLE,`${e}: ${t}`);throw t}var Zb,Jb;(Jb=Zb||(Zb={})).j_="default",Jb.Cache="cache";var Qm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>m(this,null,function*(){xt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(xt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=oj(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function nS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Xb=new Map;function aj(t,e,n,r){if(e===!0&&r===!0)throw new Pe(Ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_t()}function lj(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=cj(t);throw new Pe(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Bu=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ju=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Pe(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bu(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new km;switch(r.type){case"firstParty":return new Vm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Xb.get(n);r&&(xt("ComponentProvider","Removing Datastore"),Xb.delete(n),r.terminate())}(this),Promise.resolve()}};function rS(t,e,n,r={}){var i;let s=(t=lj(t,ju))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&JB("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Be.MOCK_USER;else{a=cs(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Pe(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Be(l)}t._authCredentials=new Om(new Lu(a,c))}}var Ym=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Gm(this,"async_queue_retry"),this.cu=()=>{let n=Nm();n&&xt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Nm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Er;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return m(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!tS(e))throw e;xt("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jm("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=Km.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&_t()}verifyOperationInProgress(){}Tu(){return m(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Zm=class extends ju{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Ym}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uj(this),this._firestoreClient.terminate()}};function iS(t,e){let n=typeof t=="object"?t:at(),r=typeof t=="string"?t:e||"(default)",i=He(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=as("firestore");s&&rS(i,...s)}return i}function uj(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,u){return new qm(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,nS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Qm(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var JK=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){Sa=i})(mt),Me(new _e("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Zm(new Lm(r.getProvider("auth-internal")),new Bm(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Pe(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wm(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),O(Kb,"4.5.0",e),O(Kb,"4.5.0","esm2017")})();var Da=class{constructor(e){return e}},sS="firestore",ey=class{constructor(){return At(sS)}};var ty=new R("angularfire2.firestore-instances");function dj(t,e){let n=Ut(sS,t,e);return n&&new Da(n)}function hj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Da(r)}}var fj={provide:ey,deps:[[new oe,ty]]},pj={provide:Da,useFactory:dj,deps:[[new oe,ty],Ge]},gj=(()=>{class t{constructor(){O("angularfire",qe.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Ae({providers:[pj,fj]})}return t})();function oS(t,...e){return{ngModule:gj,providers:[{provide:ty,useFactory:hj(t),multi:!0,deps:[F,ge,yt,ct,[new oe,zn],[new oe,wn],...e]}]}}var aS=We(iS,!0);var cS="@firebase/database",lS="1.0.3";var Xy="";function mj(t){Xy=t}var ly=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:os(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var uy=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _n(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var jS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ly(e)}}catch{}return new uy},di=jS("localStorage"),dy=jS("sessionStorage");var bs=new gt("@firebase/database"),yj=function(){let t=1;return function(){return t++}}(),$S=function(t){let e=$0(t),n=new Tl;n.update(e);let r=n.digest();return bl.encodeByteArray(r)},Ba=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ba.apply(null,r):typeof r=="object"?e+=Fe(r):e+=r,e+=" "}return e},hi=null,uS=!0,_j=function(t,e){w(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(bs.logLevel=Y.VERBOSE,hi=bs.log.bind(bs),e&&dy.set("logging_enabled",!0)):typeof t=="function"?hi=t:(hi=null,dy.remove("logging_enabled"))},et=function(...t){if(uS===!0&&(uS=!1,hi===null&&dy.get("logging_enabled")===!0&&_j(!0)),hi){let e=Ba.apply(null,t);hi(e)}},ja=function(t){return function(...e){et(t,...e)}},hy=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ba(...t);bs.error(e)},Gn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ba(...t)}`;throw bs.error(e),new Error(e)},Nt=function(...t){let e="FIREBASE WARNING: "+Ba(...t);bs.warn(e)},vj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zS=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wj=function(t){if(yn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ds="[MIN_NAME]",fi="[MAX_NAME]",ks=function(t,e){if(t===e)return 0;if(t===Ds||e===fi)return-1;if(e===Ds||t===fi)return 1;{let n=dS(t),r=dS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ij=function(t,e){return t===e?0:t<e?-1:1},Aa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Fe(e))},e_=function(t){if(typeof t!="object"||t===null)return Fe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Fe(e[r]),n+=":",n+=e_(t[e[r]]);return n+="}",n},HS=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function zt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var qS=function(t){w(!zS(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Ej=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Cj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var Tj=new RegExp("^-?(0*)\\d{1,10}$"),bj=-2147483648,Sj=2147483647,dS=function(t){if(Tj.test(t)){let e=Number(t);if(e>=bj&&e<=Sj)return e}return null},$a=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Dj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var fy=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var py=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(e)}},ka=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),zu="5",WS="v",GS="s",KS="r",QS="f",YS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZS="ls",JS="p",gy="ac",XS="websocket",eD="long_polling";var Hu=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=di.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&di.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Aj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function tD(t,e,n){w(typeof e=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let r;if(e===XS)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===eD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Aj(t)&&(n.ns=t.namespace);let i=[];return zt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var my=class{constructor(){this.counters_={}}incrementCounter(e,n=1){_n(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return k0(this.counters_)}};var ny={},ry={};function t_(t){let e=t.toString();return ny[e]||(ny[e]=new my),ny[e]}function Rj(t,e){let n=t.toString();return ry[n]||(ry[n]=e()),ry[n]}var yy=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$a(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var hS="start",Mj="close",xj="pLPCommand",Nj="pRTLPCB",nD="id",rD="pw",iD="ser",Pj="cb",kj="seg",Oj="ts",Lj="d",Fj="dframe",sD=1870,oD=30,Vj=sD-oD,Uj=25e3,Bj=3e4,_y=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ja(e),this.stats_=t_(n),this.urlFn=c=>(this.appCheckToken&&(c[gy]=this.appCheckToken),tD(n,eD,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yy(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Bj)),wj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vy((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===hS)this.id=a,this.password=c;else if(o===Mj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[hS]="t",r[iD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Pj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[WS]=zu,this.transportSessionId&&(r[GS]=this.transportSessionId),this.lastSessionId&&(r[ZS]=this.lastSessionId),this.applicationId&&(r[JS]=this.applicationId),this.appCheckToken&&(r[gy]=this.appCheckToken),typeof location<"u"&&location.hostname&&YS.test(location.hostname)&&(r[KS]=QS);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return yn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ej()&&!Cj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=vp(n),i=HS(r,Vj);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(yn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Fj]="t",r[nD]=e,r[rD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},vy=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,yn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=yj(),window[xj+this.uniqueCallbackIdentifier]=e,window[Nj+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){et("frame writing exception"),a.stack&&et(a.stack),et(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[nD]=this.myID,e[rD]=this.myPW,e[iD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oD+r.length<=sD;){let o=this.pendingSegs.shift();r=r+"&"+kj+i+"="+o.seg+"&"+Oj+i+"="+o.ts+"&"+Lj+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Uj)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){yn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var jj=16384,$j=45e3,qu=null;typeof MozWebSocket<"u"?qu=MozWebSocket:typeof WebSocket<"u"&&(qu=WebSocket);var Ra=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ja(this.connId),this.stats_=t_(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[WS]=zu,!yn()&&typeof location<"u"&&location.hostname&&YS.test(location.hostname)&&(a[KS]=QS),r&&(a[GS]=r),i&&(a[ZS]=i),s&&(a[gy]=s),o&&(a[JS]=o),tD(n,XS,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,di.set("previous_websocket_failure",!0);try{let i;if(yn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${zu}/${Xy}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new qu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&qu!==null&&!t.forceDisallow_}static previouslyFailed(){return di.isInMemoryStorage||di.get("previous_websocket_failure")===!0}markConnectionHealthy(){di.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=os(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Fe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=HS(r,jj);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($j))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),zj=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[_y,Ra]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ra&&Ra.isAvailable(),i=r&&!Ra.previouslyFailed();if(n.webSocketOnly&&(r||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ra];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Hj=6e4,qj=5e3,Wj=10*1024,Gj=100*1024,iy="t",fS="d",Kj="s",pS="r",Qj="e",gS="o",mS="a",yS="n",_S="p",Yj="h",wy=class{constructor(e,n,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ja("c:"+this.id+":"),this.transportManager_=new zj(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Gj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Wj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(iy in e){let n=e[iy];n===mS?this.upgradeIfSecondaryHealthy_():n===pS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Aa("t",e),r=Aa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_S,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Aa("t",e),r=Aa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Aa(iy,e);if(fS in e){let r=e[fS];if(n===Yj){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===yS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Kj?this.onConnectionShutdown_(r):n===pS?this.onReset_(r):n===Qj?hy("Server Error: "+r):n===gS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hy("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zu!==r&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Hj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_S,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Wu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Gu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},w(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){w(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ku=class t extends Gu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return w(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var vS=32,wS=768,fe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function de(){return new fe("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Tr(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function aD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Zj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function cD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function lD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function je(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new fe(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function jt(t,e){let n=X(t),r=X(e);if(n===null)return e;if(n===r)return jt(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uD(t,e){if(Tr(t)!==Tr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function rn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Tr(t)>Tr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Iy=class{constructor(e,n){this.errorPrefix_=n,this.parts_=cD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Go(this.parts_[r]);dD(this)}};function Jj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Go(e),dD(t)}function Xj(t){let e=t.parts_.pop();t.byteLength_-=Go(e),t.parts_.length>0&&(t.byteLength_-=1)}function dD(t){if(t.byteLength_>wS)throw new Error(t.errorPrefix_+"has a key path longer than "+wS+" bytes ("+t.byteLength_+").");if(t.parts_.length>vS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vS+") or object contains a cycle "+ui(t))}function ui(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Ey=class t extends Gu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return w(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ma=1e3,e$=60*5*1e3,IS=30*1e3,t$=1.3,n$=3e4,r$="server_kill",ES=3,n_=(()=>{class t extends Wu{constructor(n,r,i,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=ja("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ma,this.maxReconnectDelay_=e$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!yn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ey.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ku.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Fe(o)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new zr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&_n(n,"w")){let i=Wr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||U0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=IS)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=V0(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Fe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):hy("Unrecognized action received from server: "+Fe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>n$&&(this.reconnectDelay_=Ma),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*t$)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(h){w(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,y]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=y&&y.token,c=new wy(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,_=>{Nt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(r$)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Nt(h),l())}}})}interrupt(n){et("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){et("Resuming connection for reason: "+n),delete this.interruptReasons_[n],qo(this.interruptReasons_)&&(this.reconnectDelay_=Ma,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>e_(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new fe(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){et("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ES&&(this.reconnectDelay_=IS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){et("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ES&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";yn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xy.replace(/\./g,"-")]=1,zo()?n["framework.cordova"]=1:Sl()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ku.getInstance().currentlyOnline();return qo(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ee=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var As=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ee(Ds,e),i=new ee(Ds,n);return this.compare(r,i)!==0}minPost(){return ee.MIN}};var $u,Qu=class extends As{static get __EMPTY_NODE(){return $u}static set __EMPTY_NODE(e){$u=e}compare(e,n){return ks(e.name,n.name)}isDefinedOn(e){throw Hr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(fi,$u)}makePost(e,n){return w(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,$u)}toString(){return".key"}},Ss=new Qu;var Cs=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},nn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??$t.EMPTY_NODE,this.right=o??$t.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return $t.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return $t.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Cy=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new nn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},$t=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Cs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Cs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Cs(this.root_,null,this.comparator_,!0,e)}};$t.EMPTY_NODE=new Cy;function i$(t,e){return ks(t.name,e.name)}function r_(t,e){return ks(t,e)}var Ty;function s$(t){Ty=t}var hD=function(t){return typeof t=="number"?"number:"+qS(t):"string:"+t},fD=function(t){if(t.isLeafNode()){let e=t.val();w(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_n(e,".sv"),"Priority must be a string or number.")}else w(t===Ty||t.isEmpty(),"priority of unexpected type.");w(t===Ty||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var CS,Rs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fD(this.priorityNode_)}static set __childrenNodeConstructor(n){CS=n}static get __childrenNodeConstructor(){return CS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Z(n)?this:X(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=X(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(w(i!==".priority"||Tr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=qS(this.value_):n+=this.value_,this.lazyHash_=$S(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return w(s>=0,"Unknown leaf type: "+r),w(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),pD,gD;function o$(t){pD=t}function a$(t){gD=t}var by=class extends As{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ks(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(fi,new Rs("[PRIORITY-POST]",gD))}makePost(e,n){let r=pD(e);return new ee(n,new Rs("[PRIORITY-POST]",r))}toString(){return".priority"}},nt=new by;var c$=Math.log(2),Sy=class{constructor(e){let n=s=>parseInt(Math.log(s)/c$,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Yu=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=t[c],h=n?n(d):d,new nn(h,d.node,nn.BLACK,null,null);{let y=parseInt(u/2,10)+c,_=i(c,y),v=i(y+1,l);return d=t[y],h=n?n(d):d,new nn(h,d.node,nn.BLACK,_,v)}},s=function(c){let l=null,u=null,d=t.length,h=function(_,v){let E=d-_,D=d;d-=_;let ne=i(E+1,D),re=t[E],b=n?n(re):re;y(new nn(b,re.node,v,null,ne))},y=function(_){l?(l.left=_,l=_):(u=_,l=_)};for(let _=0;_<c.count;++_){let v=c.nextBitIsOne(),E=Math.pow(2,c.count-(_+1));v?h(E,nn.BLACK):(h(E,nn.BLACK),h(E,nn.RED))}return u},o=new Sy(t.length),a=s(o);return new $t(r||e,a)};var sy,Es={},Ms=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return w(Es&&nt,"ChildrenNode.ts has not been loaded"),sy=sy||new t({".priority":Es},{".priority":nt}),sy}get(e){let n=Wr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $t?n:null}hasIndex(e){return _n(this.indexSet_,e.toString())}addIndex(e,n){w(e!==Ss,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(ee.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Yu(r,e.getCompare()):a=Es;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Wo(this.indexes_,(i,s)=>{let o=Wr(this.indexSet_,s);if(w(o,"Missing index implementation for "+s),i===Es)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(ee.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Yu(a,o.getCompare())}else return Es;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new ee(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Wo(this.indexes_,i=>{if(i===Es)return i;{let s=n.get(e.name);return s?i.remove(new ee(e.name,s)):i}});return new t(r,this.indexSet_)}};var xa,Ie=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&fD(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xa||(xa=new t(new $t(r_),null,Ms.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xa}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?xa:r}}getChild(n){let r=X(n);return r===null?this:this.getImmediateChild(r).getChild(ye(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ee(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?xa:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=X(n);if(i===null)return r;{w(X(n)!==".priority"||Tr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ye(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(nt,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+hD(this.getPriority().val())+":"),this.forEachChild(nt,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":$S(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new ee(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ee(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ee(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,ee.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,ee.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===za?-1:0}withIndex(n){if(n===Ss||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ss||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(nt),s=r.getIterator(nt),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ss?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Dy=class extends Ie{constructor(){super(new $t(r_),Ie.EMPTY_NODE,Ms.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ie.EMPTY_NODE}isEmpty(){return!1}},za=new Dy;Object.defineProperties(ee,{MIN:{value:new ee(Ds,Ie.EMPTY_NODE)},MAX:{value:new ee(fi,za)}});Qu.__EMPTY_NODE=Ie.EMPTY_NODE;Rs.__childrenNodeConstructor=Ie;s$(za);a$(za);var l$=!0;function tt(t,e=null){if(t===null)return Ie.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),w(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Rs(n,tt(e))}if(!(t instanceof Array)&&l$){let n=[],r=!1;if(zt(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=tt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ee(o,c)))}}),n.length===0)return Ie.EMPTY_NODE;let s=Yu(n,i$,o=>o.name,r_);if(r){let o=Yu(n,nt.getCompare());return new Ie(s,tt(e),new Ms({".priority":o},{".priority":nt}))}else return new Ie(s,tt(e),Ms.Default)}else{let n=Ie.EMPTY_NODE;return zt(t,(r,i)=>{if(_n(t,r)&&r.substring(0,1)!=="."){let s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}}o$(tt);var Ay=class extends As{constructor(e){super(),this.indexPath_=e,w(!Z(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ks(e.name,n.name):s}makePost(e,n){let r=tt(e),i=Ie.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){let e=Ie.EMPTY_NODE.updateChild(this.indexPath_,za);return new ee(fi,e)}toString(){return cD(this.indexPath_,0).join("/")}};var Ry=class extends As{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ks(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){let r=tt(e);return new ee(n,r)}toString(){return".value"}},u$=new Ry;function d$(t){return{type:"value",snapshotNode:t}}function h$(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function f$(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function TS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function p$(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var My=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ds}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function bS(t){let e={};if(t.isDefault())return e;let n;if(t.index_===nt?n="$priority":t.index_===u$?n="$value":t.index_===Ss?n="$key":(w(t.index_ instanceof Ay,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Fe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Fe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function SS(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==nt&&(e.i=t.index_.toString()),e}var xy=class t extends Wu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ja("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(w(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=bS(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),Wr(this.listens_,o)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=bS(e._queryParams),r=e._path.toString(),i=new zr;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Gr(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=os(a.responseText)}catch{Nt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Nt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Ny=class{constructor(){this.rootNode_=Ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Zu(){return{value:null,children:new Map}}function mD(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=X(e);t.children.has(r)||t.children.set(r,Zu());let i=t.children.get(r);e=ye(e),mD(i,e,n)}}function Py(t,e,n){t.value!==null?n(e,t.value):g$(t,(r,i)=>{let s=new fe(e.toString()+"/"+r);Py(i,s,n)})}function g$(t,e){t.children.forEach((n,r)=>{e(r,n)})}var ky=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var DS=10*1e3,m$=30*1e3,y$=5*60*1e3,Oy=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ky(e);let r=DS+(m$-DS)*Math.random();Pa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;zt(e,(i,s)=>{s>0&&_n(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pa(this.reportStats_.bind(this),Math.floor(Math.random()*2*y$))}};var Wn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Wn||{});function yD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _D(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Ly=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Wn.ACK_USER_WRITE,this.source=yD()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new fe(e));return new t(de(),n,this.revert)}}else return w(X(this.path)===e,"operationForChild called for unrelated child."),new t(ye(this.path),this.affectedTree,this.revert)}};var xs=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Wn.OVERWRITE}operationForChild(e){return Z(this.path)?new t(this.source,de(),this.snap.getImmediateChild(e)):new t(this.source,ye(this.path),this.snap)}};var Ju=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Wn.MERGE}operationForChild(e){if(Z(this.path)){let n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new xs(this.source,de(),n.value):new t(this.source,de(),n)}else return w(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Fa=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;let n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function _$(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(p$(o.childName,o.snapshotNode))}),Na(t,i,"child_removed",e,r,n),Na(t,i,"child_added",e,r,n),Na(t,i,"child_moved",s,r,n),Na(t,i,"child_changed",e,r,n),Na(t,i,"value",e,r,n),i}function Na(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>w$(t,a,c)),o.forEach(a=>{let c=v$(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function v$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function w$(t,e,n){if(e.childName==null||n.childName==null)throw Hr("Should only compare child_ events.");let r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function wD(t,e){return{eventCache:t,serverCache:e}}function Oa(t,e,n,r){return wD(new Fa(e,n,r),t.serverCache)}function ID(t,e,n,r){return wD(t.eventCache,new Fa(e,n,r))}function Fy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var oy,I$=()=>(oy||(oy=new $t(Ij)),oy),vt=class t{constructor(e,n=I$()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return zt(e,(r,i)=>{n=n.set(new fe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(Z(e))return null;{let r=X(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ye(e),n);return s!=null?{path:je(new fe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{let n=X(e),r=this.children.get(n);return r!==null?r.subtree(ye(e)):new t(null)}}set(e,n){if(Z(e))return new t(n,this.children);{let r=X(e),s=(this.children.get(r)||new t(null)).set(ye(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=X(e),r=this.children.get(n);if(r){let i=r.remove(ye(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Z(e))return this.value;{let n=X(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(Z(e))return n;{let r=X(e),s=(this.children.get(r)||new t(null)).setTree(ye(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(je(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Z(e))return null;{let s=X(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),je(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);let i=X(e),s=this.children.get(i);return s?s.foreachOnPath_(ye(e),je(n,i),r):new t(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var sn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new vt(null))}};function La(t,e,n){if(Z(e))return new sn(new vt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=jt(i,e);return s=s.updateChild(o,n),new sn(t.writeTree_.set(i,s))}else{let i=new vt(n),s=t.writeTree_.setTree(e,i);return new sn(s)}}}function AS(t,e,n){let r=t;return zt(n,(i,s)=>{r=La(r,je(e,i),s)}),r}function RS(t,e){if(Z(e))return sn.empty();{let n=t.writeTree_.setTree(e,new vt(null));return new sn(n)}}function Vy(t,e){return gi(t,e)!=null}function gi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(jt(n.path,e)):null}function MS(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(nt,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ee(r,i.value))}),e}function Cr(t,e){if(Z(e))return t;{let n=gi(t,e);return n!=null?new sn(new vt(n)):new sn(t.writeTree_.subtree(e))}}function Uy(t){return t.writeTree_.isEmpty()}function Ns(t,e){return ED(de(),t.writeTree_,e)}function ED(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(w(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ED(je(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(je(t,".priority"),r)),n}}function CD(t,e){return AD(e,t)}function E$(t,e,n,r,i){w(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=La(t.visibleWrites,e,n)),t.lastWriteId=r}function C$(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function T$(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);w(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&b$(a,r.path)?i=!1:rn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return S$(t),!0;if(r.snap)t.visibleWrites=RS(t.visibleWrites,r.path);else{let a=r.children;zt(a,c=>{t.visibleWrites=RS(t.visibleWrites,je(r.path,c))})}return!0}else return!1}function b$(t,e){if(t.snap)return rn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&rn(je(t.path,n),e))return!0;return!1}function S$(t){t.visibleWrites=TD(t.allWrites,D$,de()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function D$(t){return t.visible}function TD(t,e,n){let r=sn.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)rn(n,o)?(a=jt(n,o),r=La(r,a,s.snap)):rn(o,n)&&(a=jt(o,n),r=La(r,de(),s.snap.getChild(a)));else if(s.children){if(rn(n,o))a=jt(n,o),r=AS(r,a,s.children);else if(rn(o,n))if(a=jt(o,n),Z(a))r=AS(r,de(),s.children);else{let c=Wr(s.children,X(a));if(c){let l=c.getChild(ye(a));r=La(r,de(),l)}}}else throw Hr("WriteRecord should have .snap or .children")}}return r}function bD(t,e,n,r,i){if(!r&&!i){let s=gi(t.visibleWrites,e);if(s!=null)return s;{let o=Cr(t.visibleWrites,e);if(Uy(o))return n;if(n==null&&!Vy(o,de()))return null;{let a=n||Ie.EMPTY_NODE;return Ns(o,a)}}}else{let s=Cr(t.visibleWrites,e);if(!i&&Uy(s))return n;if(!i&&n==null&&!Vy(s,de()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(rn(l.path,e)||rn(e,l.path))},a=TD(t.allWrites,o,e),c=n||Ie.EMPTY_NODE;return Ns(a,c)}}}function A$(t,e,n){let r=Ie.EMPTY_NODE,i=gi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(nt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Cr(t.visibleWrites,e);return n.forEachChild(nt,(o,a)=>{let c=Ns(Cr(s,new fe(o)),a);r=r.updateImmediateChild(o,c)}),MS(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Cr(t.visibleWrites,e);return MS(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function R$(t,e,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=je(e,n);if(Vy(t.visibleWrites,s))return null;{let o=Cr(t.visibleWrites,s);return Uy(o)?i.getChild(n):Ns(o,i.getChild(n))}}function M$(t,e,n,r){let i=je(e,n),s=gi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Cr(t.visibleWrites,i);return Ns(o,r.getNode().getImmediateChild(n))}else return null}function x$(t,e){return gi(t.visibleWrites,e)}function N$(t,e,n,r,i,s,o){let a,c=Cr(t.visibleWrites,e),l=gi(c,de());if(l!=null)a=l;else if(n!=null)a=Ns(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),y=h.getNext();for(;y&&u.length<i;)d(y,r)!==0&&u.push(y),y=h.getNext();return u}else return[]}function P$(){return{visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1}}function By(t,e,n,r){return bD(t.writeTree,t.treePath,e,n,r)}function SD(t,e){return A$(t.writeTree,t.treePath,e)}function xS(t,e,n,r){return R$(t.writeTree,t.treePath,e,n,r)}function Xu(t,e){return x$(t.writeTree,je(t.treePath,e))}function k$(t,e,n,r,i,s){return N$(t.writeTree,t.treePath,e,n,r,i,s)}function i_(t,e,n){return M$(t.writeTree,t.treePath,e,n)}function DD(t,e){return AD(je(t.treePath,e),t.writeTree)}function AD(t,e){return{treePath:t,writeTree:e}}var jy=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,TS(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,f$(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,h$(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,TS(r,e.snapshotNode,i.oldSnap));else throw Hr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var $y=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},RD=new $y,Va=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Fa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return i_(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pi(this.viewCache_),s=k$(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function O$(t,e){w(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),w(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function L$(t,e,n,r,i){let s=new jy,o,a;if(n.type===Wn.OVERWRITE){let l=n;l.source.fromUser?o=zy(t,e,l.path,l.snap,r,i,s):(w(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Z(l.path),o=ed(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Wn.MERGE){let l=n;l.source.fromUser?o=V$(t,e,l.path,l.children,r,i,s):(w(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=Hy(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Wn.ACK_USER_WRITE){let l=n;l.revert?o=j$(t,e,l.path,r,i,s):o=U$(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===Wn.LISTEN_COMPLETE)o=B$(t,e,n.path,r,s);else throw Hr("Unknown operation type: "+n.type);let c=s.getChanges();return F$(e,o,c),{viewCache:o,changes:c}}function F$(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Fy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(d$(Fy(e)))}}function MD(t,e,n,r,i,s){let o=e.eventCache;if(Xu(r,n)!=null)return e;{let a,c;if(Z(n))if(w(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=pi(e),u=l instanceof Ie?l:Ie.EMPTY_NODE,d=SD(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let l=By(r,pi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=X(n);if(l===".priority"){w(Tr(n)===1,"Can't have a priority with additional path components");let u=o.getNode();c=e.serverCache.getNode();let d=xS(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=ye(n),d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let h=xS(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(l).updateChild(u,h):d=o.getNode().getImmediateChild(l)}else d=i_(r,l,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),l,d,u,i,s):a=o.getNode()}}return Oa(e,a,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function ed(t,e,n,r,i,s,o,a){let c=e.serverCache,l,u=o?t.filter:t.filter.getIndexedFilter();if(Z(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let y=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),y,null)}else{let y=X(n);if(!c.isCompleteForPath(n)&&Tr(n)>1)return e;let _=ye(n),E=c.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?l=u.updatePriority(c.getNode(),E):l=u.updateChild(c.getNode(),y,E,_,RD,null)}let d=ID(e,l,c.isFullyInitialized()||Z(n),u.filtersNodes()),h=new Va(i,d,s);return MD(t,d,n,i,h,a)}function zy(t,e,n,r,i,s,o){let a=e.eventCache,c,l,u=new Va(i,e,s);if(Z(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Oa(e,l,!0,t.filter.filtersNodes());else{let d=X(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Oa(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=ye(n),y=a.getNode().getImmediateChild(d),_;if(Z(h))_=r;else{let v=u.getCompleteChild(d);v!=null?aD(h)===".priority"&&v.getChild(lD(h)).isEmpty()?_=v:_=v.updateChild(h,r):_=Ie.EMPTY_NODE}if(y.equals(_))c=e;else{let v=t.filter.updateChild(a.getNode(),d,_,h,u,o);c=Oa(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function NS(t,e){return t.eventCache.isCompleteForChild(e)}function V$(t,e,n,r,i,s,o){let a=e;return r.foreach((c,l)=>{let u=je(n,c);NS(e,X(u))&&(a=zy(t,a,u,l,i,s,o))}),r.foreach((c,l)=>{let u=je(n,c);NS(e,X(u))||(a=zy(t,a,u,l,i,s,o))}),a}function PS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Hy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;Z(n)?l=r:l=new vt(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let y=e.serverCache.getNode().getImmediateChild(d),_=PS(t,y,h);c=ed(t,c,new fe(d),_,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{let y=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!y){let _=e.serverCache.getNode().getImmediateChild(d),v=PS(t,_,h);c=ed(t,c,new fe(d),v,i,s,o,a)}}),c}function U$(t,e,n,r,i,s,o){if(Xu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Z(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ed(t,e,n,c.getNode().getChild(n),i,s,a,o);if(Z(n)){let l=new vt(null);return c.getNode().forEachChild(Ss,(u,d)=>{l=l.set(new fe(u),d)}),Hy(t,e,n,l,i,s,a,o)}else return e}else{let l=new vt(null);return r.foreach((u,d)=>{let h=je(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),Hy(t,e,n,l,i,s,a,o)}}function B$(t,e,n,r,i){let s=e.serverCache,o=ID(e,s.getNode(),s.isFullyInitialized()||Z(n),s.isFiltered());return MD(t,o,n,r,RD,i)}function j$(t,e,n,r,i,s){let o;if(Xu(r,n)!=null)return e;{let a=new Va(r,e,i),c=e.eventCache.getNode(),l;if(Z(n)||X(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=By(r,pi(e));else{let d=e.serverCache.getNode();w(d instanceof Ie,"serverChildren would be complete if leaf node"),u=SD(r,d)}u=u,l=t.filter.updateFullNode(c,u,s)}else{let u=X(n),d=i_(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ye(n),a,s):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,Ie.EMPTY_NODE,ye(n),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=By(r,pi(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||Xu(r,de())!=null,Oa(e,l,o,t.filter.filtersNodes())}}function $$(t,e){let n=pi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function kS(t,e,n,r){e.type===Wn.MERGE&&e.source.queryId!==null&&(w(pi(t.viewCache_),"We should always have a full cache before handling merges"),w(Fy(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=L$(t.processor_,i,e,n,r);return O$(t.processor_,s.viewCache),w(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,z$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function z$(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return _$(t.eventGenerator_,e,n,i)}var OS;function H$(t){w(!OS,"__referenceConstructor has already been defined"),OS=t}function s_(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return w(s!=null,"SyncTree gave us an op for an invalid query."),kS(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(kS(o,e,n,r));return s}}function o_(t,e){let n=null;for(let r of t.views.values())n=n||$$(r,e);return n}var LS;function q$(t){w(!LS,"__referenceConstructor has already been defined"),LS=t}var td=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vt(null),this.pendingWriteTree_=P$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function W$(t,e,n,r,i){return E$(t.pendingWriteTree_,e,n,r,i),i?rd(t,new xs(yD(),e,n)):[]}function Ts(t,e,n=!1){let r=C$(t.pendingWriteTree_,e);if(T$(t.pendingWriteTree_,e)){let s=new vt(null);return r.snap!=null?s=s.set(de(),!0):zt(r.children,o=>{s=s.set(new fe(o),!0)}),rd(t,new Ly(r.path,s,n))}else return[]}function nd(t,e,n){return rd(t,new xs(_D(),e,n))}function G$(t,e,n){let r=vt.fromObject(n);return rd(t,new Ju(_D(),e,r))}function K$(t,e,n,r){let i=kD(t,r);if(i!=null){let s=OD(i),o=s.path,a=s.queryId,c=jt(o,e),l=new xs(vD(a),c,n);return LD(t,o,l)}else return[]}function Q$(t,e,n,r){let i=kD(t,r);if(i){let s=OD(i),o=s.path,a=s.queryId,c=jt(o,e),l=vt.fromObject(n),u=new Ju(vD(a),c,l);return LD(t,o,u)}else return[]}function xD(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=jt(o,e),l=o_(a,c);if(l)return l});return bD(i,e,s,n,!0)}function rd(t,e){return ND(e,t.syncPointTree_,null,CD(t.pendingWriteTree_,de()))}function ND(t,e,n,r){if(Z(t.path))return PD(t,e,n,r);{let i=e.get(de());n==null&&i!=null&&(n=o_(i,de()));let s=[],o=X(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let l=n?n.getImmediateChild(o):null,u=DD(r,o);s=s.concat(ND(a,c,l,u))}return i&&(s=s.concat(s_(i,t,r,n))),s}}function PD(t,e,n,r){let i=e.get(de());n==null&&i!=null&&(n=o_(i,de()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,l=DD(r,o),u=t.operationForChild(o);u&&(s=s.concat(PD(u,a,c,l)))}),i&&(s=s.concat(s_(i,t,r,n))),s}function kD(t,e){return t.tagToQueryMap.get(e)}function OD(t){let e=t.indexOf("$");return w(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function LD(t,e,n){let r=t.syncPointTree_.get(e);w(r,"Missing sync point for query tag that we're tracking");let i=CD(t.pendingWriteTree_,e);return s_(r,n,i,null)}var qy=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Wy=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=je(this.path_,e);return new t(this.syncTree_,n)}node(){return xD(this.syncTree_,this.path_)}},Y$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},FS=function(t,e,n){if(!t||typeof t!="object")return t;if(w(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Z$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return J$(t[".sv"],e);w(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Z$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+t)}},J$=function(t,e,n){t.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);let i=e.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},X$=function(t,e,n,r){return a_(e,new Wy(n,t),r)},ez=function(t,e,n){return a_(t,new qy(e),n)};function a_(t,e,n){let r=t.getPriority().val(),i=FS(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=FS(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Rs(a,tt(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Rs(i))),o.forEachChild(nt,(a,c)=>{let l=a_(c,e.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var Ua=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function c_(t,e){let n=e instanceof fe?e:new fe(e),r=t,i=X(n);for(;i!==null;){let s=Wr(r.node.children,i)||{children:{},childCount:0};r=new Ua(i,r,s),n=ye(n),i=X(n)}return r}function Os(t){return t.node.value}function FD(t,e){t.node.value=e,Gy(t)}function VD(t){return t.node.childCount>0}function tz(t){return Os(t)===void 0&&!VD(t)}function id(t,e){zt(t.node.children,(n,r)=>{e(new Ua(n,t,r))})}function UD(t,e,n,r){n&&!r&&e(t),id(t,i=>{UD(i,e,!0,r)}),n&&r&&e(t)}function nz(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ha(t){return new fe(t.parent===null?t.name:Ha(t.parent)+"/"+t.name)}function Gy(t){t.parent!==null&&rz(t.parent,t.name,t)}function rz(t,e,n){let r=tz(n),i=_n(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Gy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Gy(t))}var iz=/[\[\].#$\/\u0000-\u001F\u007F]/,sz=/[\[\].#$\u0000-\u001F\u007F]/,ay=10*1024*1024,BD=function(t){return typeof t=="string"&&t.length!==0&&!iz.test(t)},oz=function(t){return typeof t=="string"&&t.length!==0&&!sz.test(t)},az=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),oz(t)};var jD=function(t,e,n){let r=n instanceof fe?new Iy(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ui(r));if(typeof e=="function")throw new Error(t+"contains a function "+ui(r)+" with contents = "+e.toString());if(zS(e))throw new Error(t+"contains "+e.toString()+" "+ui(r));if(typeof e=="string"&&e.length>ay/3&&Go(e)>ay)throw new Error(t+"contains a string greater than "+ay+" utf8 bytes "+ui(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(zt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!BD(o)))throw new Error(t+" contains an invalid key ("+o+") "+ui(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Jj(r,o),jD(t,a,r),Xj(r)}),i&&s)throw new Error(t+' contains ".value" child '+ui(r)+" in addition to actual children.")}};var cz=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!BD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!az(n))throw new Error(j0(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ky=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function lz(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!uD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function mi(t,e,n){lz(t,n),uz(t,r=>rn(r,e)||rn(e,r))}function uz(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(dz(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function dz(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();hi&&et("event: "+n.toString()),$a(r)}}}var hz="repo_interrupt",fz=25,Qy=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ky,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zu(),this.transactionQueueTree_=new Ua,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function pz(t,e,n){if(t.stats_=t_(t.repoInfo_),t.forceRestClient_||Dj())t.server_=new xy(t.repoInfo_,(r,i,s,o)=>{VS(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>US(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new n_(t.repoInfo_,e,(r,i,s,o)=>{VS(t,r,i,s,o)},r=>{US(t,r)},r=>{mz(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Rj(t.repoInfo_,()=>new Oy(t.stats_,t.server_)),t.infoData_=new Ny,t.infoSyncTree_=new td({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=nd(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),l_(t,"connected",!1),t.serverSyncTree_=new td({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);mi(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function gz(t){let n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $D(t){return Y$({timestamp:gz(t)})}function VS(t,e,n,r,i){t.dataUpdateCount++;let s=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=Wo(n,l=>tt(l));o=Q$(t.serverSyncTree_,s,c,i)}else{let c=tt(n);o=K$(t.serverSyncTree_,s,c,i)}else if(r){let c=Wo(n,l=>tt(l));o=G$(t.serverSyncTree_,s,c)}else{let c=tt(n);o=nd(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=d_(t,s)),mi(t.eventQueue_,a,o)}function US(t,e){l_(t,"connected",e),e===!1&&_z(t)}function mz(t,e){zt(e,(n,r)=>{l_(t,n,r)})}function l_(t,e,n){let r=new fe("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);let s=nd(t.infoSyncTree_,r,i);mi(t.eventQueue_,r,s)}function yz(t){return t.nextWriteId_++}function _z(t){zD(t,"onDisconnectEvents");let e=$D(t),n=Zu();Py(t.onDisconnect_,de(),(i,s)=>{let o=X$(i,s,t.serverSyncTree_,e);mD(n,i,o)});let r=[];Py(n,de(),(i,s)=>{r=r.concat(nd(t.serverSyncTree_,i,s));let o=Ez(t,i);d_(t,o)}),t.onDisconnect_=Zu(),mi(t.eventQueue_,de(),r)}function vz(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hz)}function zD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function HD(t,e,n){return xD(t.serverSyncTree_,e,n)||Ie.EMPTY_NODE}function u_(t,e=t.transactionQueueTree_){if(e||sd(t,e),Os(e)){let n=WD(t,e);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&wz(t,Ha(e),n)}else VD(e)&&id(e,n=>{u_(t,n)})}function wz(t,e,n){let r=n.map(l=>l.currentWriteId),i=HD(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let u=n[l];w(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=jt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,l=>{zD(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Ts(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();sd(t,c_(t.transactionQueueTree_,e)),u_(t,t.transactionQueueTree_),mi(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)$a(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Nt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}d_(t,e)}},o)}function d_(t,e){let n=qD(t,e),r=Ha(n),i=WD(t,n);return Iz(t,i,r),r}function Iz(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=jt(n,c.path),u=!1,d;if(w(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Ts(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=fz)u=!0,d="maxretry",i=i.concat(Ts(t.serverSyncTree_,c.currentWriteId,!0));else{let h=HD(t,c.path,o);c.currentInputSnapshot=h;let y=e[a].update(h.val());if(y!==void 0){jD("transaction failed: Data returned ",y,c.path);let _=tt(y);typeof y=="object"&&y!=null&&_n(y,".priority")||(_=_.updatePriority(h.getPriority()));let E=c.currentWriteId,D=$D(t),ne=ez(_,h,D);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=ne,c.currentWriteId=yz(t),o.splice(o.indexOf(E),1),i=i.concat(W$(t.serverSyncTree_,c.path,ne,c.currentWriteId,c.applyLocally)),i=i.concat(Ts(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(Ts(t.serverSyncTree_,c.currentWriteId,!0))}mi(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}sd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$a(r[a]);u_(t,t.transactionQueueTree_)}function qD(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&Os(r)===void 0;)r=c_(r,n),e=ye(e),n=X(e);return r}function WD(t,e){let n=[];return GD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function GD(t,e,n){let r=Os(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);id(e,i=>{GD(t,i,n)})}function sd(t,e){let n=Os(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,FD(e,n.length>0?n:void 0)}id(e,r=>{sd(t,r)})}function Ez(t,e){let n=Ha(qD(t,e)),r=c_(t.transactionQueueTree_,e);return nz(r,i=>{cy(t,i)}),cy(t,r),UD(r,i=>{cy(t,i)}),n}function cy(t,e){let n=Os(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(w(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(w(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ts(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?FD(e,void 0):n.length=s+1,mi(t.eventQueue_,Ha(e),i);for(let o=0;o<r.length;o++)$a(r[o])}}function Cz(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Tz(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Nt(`Invalid query segment '${n}' in query '${t}'`)}return e}var BS=function(t,e){let n=bz(t),r=n.namespace;n.domain==="firebase.com"&&Gn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vj();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Hu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new fe(n.pathString)}},bz=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Cz(t.substring(u,d)));let h=Tz(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let y=e.slice(0,l);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{let _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Yy=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:aD(this._path)}get ref(){return new Ps(this._repo,this._path)}get _queryIdentifier(){let e=SS(this._queryParams),n=e_(e);return n==="{}"?"default":n}get _queryObject(){return SS(this._queryParams)}isEqual(e){if(e=Se(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=uD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Zj(this._path)}};var Ps=class t extends Yy{constructor(e,n){super(e,n,new My,!1)}get parent(){let e=lD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};H$(Ps);q$(Ps);var Sz="FIREBASE_DATABASE_EMULATOR_HOST",Zy={},Dz=!1;function Az(t,e,n,r){t.repoInfo_=new Hu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Rz(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=BS(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[Sz]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=BS(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new ka(ka.OWNER):new py(t.name,t.options,e);cz("Invalid Firebase Database URL",o),Z(o.path)||Gn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=xz(a,t,u,new fy(t.name,n));return new Jy(d,t)}function Mz(t,e){let n=Zy[e];(!n||n[t.key]!==t)&&Gn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vz(t),delete n[t.key]}function xz(t,e,n,r){let i=Zy[e.name];i||(i={},Zy[e.name]=i);let s=i[t.toURLString()];return s&&Gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Qy(t,Dz,n,r),i[t.toURLString()]=s,s}var Jy=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ps(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Mz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gn("Cannot call "+e+" on a deleted database.")}};function KD(t=at(),e){let n=He(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=as("database");r&&QD(n,...r)}return n}function QD(t,e,n,r={}){t=Se(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Gn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ka(ka.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:cs(r.mockUserToken,t.app.options.projectId);s=new ka(o)}Az(i,e,n,s)}function Nz(t){mj(mt),Me(new _e("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Rz(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),O(cS,lS,t),O(cS,lS,"esm2017")}n_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};n_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Nz();var qa=class{constructor(e){return e}},YD="database",h_=class{constructor(){return At(YD)}};var f_=new R("angularfire2.database-instances");function Pz(t,e){let n=Ut(YD,t,e);return n&&new qa(n)}function kz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qa(r)}}var Oz={provide:h_,deps:[[new oe,f_]]},Lz={provide:qa,useFactory:Pz,deps:[[new oe,f_],Ge]},Fz=(()=>{class t{constructor(){O("angularfire",qe.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Ae({providers:[Lz,Oz]})}return t})();function ZD(t,...e){return{ngModule:Fz,providers:[{provide:f_,useFactory:kz(t),multi:!0,deps:[F,ge,yt,ct,[new oe,zn],[new oe,wn],...e]}]}}var JD=We(KD,!0);var iA="firebasestorage.googleapis.com",Vz="storageBucket",Uz=2*60*1e3,Bz=10*60*1e3;var Dn=class t extends be{constructor(e,n,r=0){super(p_(e),`Firebase Storage: ${n} (${p_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Qn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Qn||{});function p_(t){return"storage/"+t}function jz(){let t="An unknown error occurred, please check the error payload for server response.";return new Dn(Qn.UNKNOWN,t)}function $z(){return new Dn(Qn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zz(){return new Dn(Qn.CANCELED,"User canceled the upload/download.")}function Hz(t){return new Dn(Qn.INVALID_URL,"Invalid URL '"+t+"'.")}function qz(t){return new Dn(Qn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XD(t){return new Dn(Qn.INVALID_ARGUMENT,t)}function sA(){return new Dn(Qn.APP_DELETED,"The Firebase app was deleted.")}function Wz(t){return new Dn(Qn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Kn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw qz(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(b){b.path_=decodeURIComponent(b.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",y=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),_={bucket:1,path:3},v=n===iA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",D=new RegExp(`^https?://${v}/${i}/${E}`,"i"),re=[{regex:a,indices:c,postModify:s},{regex:y,indices:_,postModify:l},{regex:D,indices:{bucket:1,path:2},postModify:l}];for(let b=0;b<re.length;b++){let te=re[b],q=te.regex.exec(e);if(q){let ue=q[te.indices.bucket],ve=q[te.indices.path];ve||(ve=""),r=new t(ue,ve),te.postModify(r);break}}if(r==null)throw Hz(e);return r}},g_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Gz(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...E){l||(l=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(y,c())},E)}function h(){s&&clearTimeout(s)}function y(E,...D){if(l){h();return}if(E){h(),u.call(null,E,...D);return}if(c()||o){h(),u.call(null,E,...D);return}r<64&&(r*=2);let re;a===1?(a=2,re=0):re=(r+Math.random())*1e3,d(re)}let _=!1;function v(E){_||(_=!0,h(),!l&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function Kz(t){t(!1)}function Qz(t){return t!==void 0}function eA(t,e,n,r){if(r<e)throw XD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw XD(`Invalid value for '${t}'. Expected ${n} or less.`)}function Yz(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var m_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(m_||{});function Zz(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var y_=class{constructor(e,n,r,i,s,o,a,c,l,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,_)=>{this.resolve_=y,this.reject_=_,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ls(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===m_.NO_ERROR,c=s.getStatus();if(!a||Zz(c,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===m_.ABORT;r(!1,new Ls(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Ls(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());Qz(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=jz();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?sA():zz();o(c)}else{let c=$z();o(c)}};this.canceled_?n(!1,new Ls(!1,null,!0)):this.backoffId_=Gz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Kz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ls=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Jz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Xz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nH(t,e,n,r,i,s,o=!0){let a=Yz(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return eH(l,e),Jz(l,n),Xz(l,s),tH(l,r),new y_(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function rH(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iH(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var DZ=256*1024;var __=class t{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iH(this._location.path)}get storage(){return this._service}get parent(){let e=rH(this._location.path);if(e===null)return null;let n=new Kn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Wz(e)}};function tA(t,e){let n=e?.[Vz];return n==null?null:Kn.makeFromBucketSpec(n,t)}function sH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:cs(i,t.app.options.projectId))}var v_=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=iA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Uz,this._maxUploadRetryTime=Bz,this._requests=new Set,i!=null?this._bucket=Kn.makeFromBucketSpec(i,this._host):this._bucket=tA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=tA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return m(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return m(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new __(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new g_(sA());{let o=nH(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return m(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},nA="@firebase/storage",rA="0.12.2";var oA="storage";function aA(t=at(),e){t=Se(t);let r=He(t,oA).getImmediate({identifier:e}),i=as("storage");return i&&cA(r,...i),r}function cA(t,e,n,r={}){sH(t,e,n,r)}function oH(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new v_(n,r,i,e,mt)}function aH(){Me(new _e(oA,oH,"PUBLIC").setMultipleInstances(!0)),O(nA,rA,""),O(nA,rA,"esm2017")}aH();var Wa=class{constructor(e){return e}},lA="storage",w_=class{constructor(){return At(lA)}};var I_=new R("angularfire2.storage-instances");function cH(t,e){let n=Ut(lA,t,e);return n&&new Wa(n)}function lH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wa(r)}}var uH={provide:w_,deps:[[new oe,I_]]},dH={provide:Wa,useFactory:cH,deps:[[new oe,I_],Ge]},hH=(()=>{class t{constructor(){O("angularfire",qe.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Ae({providers:[dH,uH]})}return t})();function uA(t,...e){return{ngModule:hH,providers:[{provide:I_,useFactory:lH(t),multi:!0,deps:[F,ge,yt,ct,[new oe,zn],[new oe,wn],...e]}]}}var dA=We(aA,!0);var E_="@firebase/remote-config",hA="0.4.5";var fA="remote-config";var fH={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},wt=new ot("remoteconfig","Remote Config",fH);function pA(t=at()){return t=Se(t),He(t,fA).getImmediate()}function gA(t){let e=Se(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}var C_=class{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){return m(this,null,function*(){let[n,r]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;let i=yield this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})}};function pH(t=navigator){return t.languages&&t.languages[0]||t.language}var T_=class{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){return m(this,null,function*(){let[n,r]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:pH()},c={method:"POST",headers:o,body:JSON.stringify(a)},l=fetch(s,c),u=new Promise((E,D)=>{e.signal.addEventListener(()=>{let ne=new Error("The operation was aborted.");ne.name="AbortError",D(ne)})}),d;try{yield Promise.race([l,u]),d=yield l}catch(E){let D="fetch-client-network";throw E?.name==="AbortError"&&(D="fetch-timeout"),wt.create(D,{originalErrorMessage:E?.message})}let h=d.status,y=d.headers.get("ETag")||void 0,_,v;if(d.status===200){let E;try{E=yield d.json()}catch(D){throw wt.create("fetch-client-parse",{originalErrorMessage:D?.message})}_=E.entries,v=E.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?h=500:v==="NO_CHANGE"?h=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(_={}),h!==304&&h!==200)throw wt.create("fetch-status",{httpStatus:h});return{status:h,eTag:y,config:_}})}};function gH(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mH(t){if(!(t instanceof be)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var b_=class{constructor(e,n){this.client=e,this.storage=n}fetch(e){return m(this,null,function*(){let n=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)})}attemptFetch(i,s){return m(this,arguments,function*(e,{throttleEndTimeMillis:n,backoffCount:r}){yield gH(e.signal,n);try{let o=yield this.client.fetch(e);return yield this.storage.deleteThrottleMetadata(),o}catch(o){if(!mH(o))throw o;let a={throttleEndTimeMillis:Date.now()+Ko(r),backoffCount:r+1};return yield this.storage.setThrottleMetadata(a),this.attemptFetch(e,a)}})}};var yH=60*1e3,_H=12*60*60*1e3,S_=class{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:yH,minimumFetchIntervalMillis:_H},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}};function od(t,e){let n=t.target.error||void 0;return wt.create(e,{originalErrorMessage:n&&n?.message})}var yi="app_namespace_store",vH="firebase_remote_config",wH=1;function IH(){return new Promise((t,e)=>{try{let n=indexedDB.open(vH,wH);n.onerror=r=>{e(od(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yi,{keyPath:"compositeKey"})}}}catch(n){e(wt.create("storage-open",{originalErrorMessage:n?.message}))}})}var D_=class{constructor(e,n,r,i=IH()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){return m(this,null,function*(){let n=yield this.openDbPromise;return new Promise((r,i)=>{let o=n.transaction([yi],"readonly").objectStore(yi),a=this.createCompositeKey(e);try{let c=o.get(a);c.onerror=l=>{i(od(l,"storage-get"))},c.onsuccess=l=>{let u=l.target.result;r(u?u.value:void 0)}}catch(c){i(wt.create("storage-get",{originalErrorMessage:c?.message}))}})})}set(e,n){return m(this,null,function*(){let r=yield this.openDbPromise;return new Promise((i,s)=>{let a=r.transaction([yi],"readwrite").objectStore(yi),c=this.createCompositeKey(e);try{let l=a.put({compositeKey:c,value:n});l.onerror=u=>{s(od(u,"storage-set"))},l.onsuccess=()=>{i()}}catch(l){s(wt.create("storage-set",{originalErrorMessage:l?.message}))}})})}delete(e){return m(this,null,function*(){let n=yield this.openDbPromise;return new Promise((r,i)=>{let o=n.transaction([yi],"readwrite").objectStore(yi),a=this.createCompositeKey(e);try{let c=o.delete(a);c.onerror=l=>{i(od(l,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){i(wt.create("storage-delete",{originalErrorMessage:c?.message}))}})})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}};var A_=class{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){return m(this,null,function*(){let e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=yield e;i&&(this.lastFetchStatus=i);let s=yield n;s&&(this.lastSuccessfulFetchTimestampMillis=s);let o=yield r;o&&(this.activeConfig=o)})}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}};function EH(){Me(new _e(fA,t,"PUBLIC").setMultipleInstances(!0)),O(E_,hA),O(E_,hA,"esm2017");function t(e,{instanceIdentifier:n}){let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wt.create("registration-window");if(!Un())throw wt.create("indexed-db-unavailable");let{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw wt.create("registration-project-id");if(!o)throw wt.create("registration-api-key");if(!a)throw wt.create("registration-app-id");n=n||"firebase";let c=new D_(a,r.name,n),l=new A_(c),u=new gt(E_);u.logLevel=Y.ERROR;let d=new T_(i,mt,n,s,o,a),h=new b_(d,c),y=new C_(h,c,l,u),_=new S_(r,y,l,c,u);return gA(_),_}}function mA(){return m(this,null,function*(){if(!Un())return!1;try{return yield qr()}catch{return!1}})}EH();var Ga=class{constructor(e){return e}},yA="remote-config",R_=class{constructor(){return At(yA)}};var M_="__angularfire_symbol__remoteConfigIsSupportedValue",_A="__angularfire_symbol__remoteConfigIsSupported";globalThis[_A]||=mA().then(t=>globalThis[M_]=t).catch(()=>globalThis[M_]=!1);var ad={async:()=>globalThis[_A],sync:()=>{let t=globalThis[M_];if(t===void 0)throw new Error(Nl("RemoteConfig"));return t}},x_=new R("angularfire2.remote-config-instances");function CH(t,e){if(!ad.sync())return null;let n=Ut(yA,t,e);return n&&new Ga(n)}function TH(t){return(e,n)=>{if(!ad.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new Ga(r)}}var bH={provide:R_,deps:[[new oe,x_]]},SH={provide:Ga,useFactory:CH,deps:[[new oe,x_],Ge]},DH=(()=>{class t{constructor(){O("angularfire",qe.full,"rc")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Re({type:t});static \u0275inj=Ae({providers:[SH,bH,{provide:lr,useValue:ad.async,multi:!0}]})}return t})();function vA(t,...e){return{ngModule:DH,providers:[{provide:x_,useFactory:TH(t),multi:!0,deps:[F,ge,yt,ct,...e]}]}}var TJ=ad.async;var wA=We(pA,!0);var IA={providers:[l0(x0),Pn(tC(()=>nC({projectId:"backstage-billiards",appId:"1:435373889174:web:dcb331ca5daf25e24a54b7",storageBucket:"backstage-billiards.appspot.com",apiKey:"AIzaSyAUDXcUMYlpzRhuS778tKPD87By6xYxoq8",authDomain:"backstage-billiards.firebaseapp.com",messagingSenderId:"435373889174",measurementId:"G-1HYYQ2JW1K"}))),Pn(zC(()=>qC())),Pn(xT(()=>MT())),jg,au,Pn(oS(()=>aS())),Pn(ZD(()=>JD())),Pn(uA(()=>dA())),Pn(vA(()=>wA()))]};var EA=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-footer"]],standalone:!0,features:[K],decls:66,vars:0,consts:[[1,"page-foot","text-sm-left"],[1,"bg-gray-darker","section-top-55","section-bottom-60"],[1,"shell"],[1,"range","border-left-cell"],[1,"cell-sm-6","cell-md-3","cell-lg-4"],[1,"text-uppercase"],[1,"list-unstyled","contact-info","offset-top-5"],[1,"unit","unit-horizontal","unit-top","unit-spacing-xxs"],[1,"unit-left"],[1,"text-white"],[1,"unit-body","text-left","text-gray-light"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-sm-top-0"],[1,"list-tags","offset-top-15"],[1,"text-gray-light"],[1,"link-gray-light"],[1,"cell-sm-10","cell-lg-5","offset-top-50","offset-md-top-0","cell-md-6"],[1,"offset-top-20"],["data-form-output","form-output-global","data-form-type","subscribe","method","post","action","bat/rd-mailform.php",1,"rd-mailform","form-subscribe","form-inline-flex-xs"],[1,"form-group"],["placeholder","Your Email","type","email","name","email","data-constraints","@Required @Email",1,"form-control"],["type","submit",1,"btn","btn-primary-lighter","btn-shape-circle"]],template:function(i,s){i&1&&(f(0,"footer",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),g(6,"Contact"),p(),f(7,"ul",6)(8,"li")(9,"div",7)(10,"div",8)(11,"span",9),g(12,"Phone:"),p()(),f(13,"div",10)(14,"p"),g(15,"407-345-0323"),p()()()(),f(16,"li")(17,"div",7)(18,"div",8)(19,"span",9),g(20,"Email:"),p()(),f(21,"div",10)(22,"p"),g(23,"tavig123@gmail.com"),p()()()(),f(24,"li")(25,"div",7)(26,"div",8)(27,"span",9),g(28,"Address:"),p()(),f(29,"div",10)(30,"p"),g(31,"8957 International Drive Orlando, FL 32819"),p()()()()()(),f(32,"div",11)(33,"h4",5),g(34,"services"),p(),f(35,"ul",12)(36,"li",13)(37,"a",14),g(38,"Pool"),p()(),f(39,"li",13)(40,"a",14),g(41,"Poker"),p()(),f(42,"li",13)(43,"a",14),g(44,"Darts"),p()(),f(45,"li",13)(46,"a",14),g(47,"Leagues"),p()(),f(48,"li",13)(49,"a",14),g(50,"Torunaments"),p()(),f(51,"li",13)(52,"a",14),g(53,"Food"),p()(),f(54,"li",13)(55,"a",14),g(56,"Drinks"),p()()()(),f(57,"div",15)(58,"h4",5),g(59,"newsletter"),p(),f(60,"div",16)(61,"form",17)(62,"div",18),x(63,"input",19),p(),f(64,"button",20),g(65,"Subscribe"),p()()()()()()()())},encapsulation:2});let t=e;return t})();var CA=(()=>{let e=class e{constructor(r){this.el=r,this.menuItems=[{name:"Sandwiches",img:"assets/images/menu-food-01.png",route:"/menu/sandwiches"},{name:"Burgers",img:"assets/images/menu-food-02.png",route:"/menu/burgers"},{name:"Pizzas",img:"assets/images/menu-food-03.png",route:"/menu/pizzas"}]}ngAfterViewInit(){this.initializeRdNavbar()}initializeRdNavbar(){let r=$(this.el.nativeElement).find(".rd-navbar");r.length&&(r.RDNavbar({stickUpClone:r.attr("data-stick-up-clone")?r.attr("data-stick-up-clone")==="true":!1}),r.attr("data-body-class")&&(document.body.className+=" "+r.attr("data-body-class")))}};e.\u0275fac=function(i){return new(i||e)(Jt(Zt))},e.\u0275cmp=G({type:e,selectors:[["app-navbar"]],standalone:!0,features:[K],decls:82,vars:0,consts:[[1,"page-head"],[1,"rd-navbar-wrap","rd-navbar-default"],["data-layout","rd-navbar-fixed","data-sm-layout","rd-navbar-fixed","data-md-device-layout","rd-navbar-fixed","data-lg-layout","rd-navbar-static","data-lg-device-layout","rd-navbar-static","data-stick-up-clone","false","data-md-stick-up-offset","100px","data-lg-stick-up-offset","150px",1,"rd-navbar"],[1,"shell","shell-fluid"],[1,"rd-navbar-inner"],[1,"rd-navbar-nav-wrap-outer"],[1,"rd-navbar-aside"],[1,"rd-navbar-aside-content",2,"display","flex","justify-content","space-between","align-items","center"],[1,"rd-navbar-panel","rd-navbar-aside-left",2,"flex-grow","0","display","flex","align-items","center"],["data-rd-navbar-toggle",".rd-navbar-nav-wrap",1,"rd-navbar-toggle"],["href","index.html",1,"rd-navbar-brand","brand","md-block",2,"margin-right","20px","display","flex","justify-content","left"],["src","assets/images/backstage-logo.png","alt","Backstage Billiards Logo",2,"height","60px"],[1,"rd-navbar-brand-center",2,"flex-grow","0"],[1,"brand-title",2,"font-family","'Almendra', serif","font-size","24px","color","#ffffff"],[1,"hidden-md"],[2,"flex-grow","1"],[1,"rd-navbar-aside-right","hidden-xs",2,"flex-grow","1","display","flex","justify-content","flex-end"],[1,"list-links","list-inline","text-left"],[1,"unit","unit-horizontal","unit-middle","unit-spacing-xs"],[1,"unit-left"],[1,"icon","icon-circle","icon-primary-lighter","icon-xxs","mdi","mdi-map-marker","text-middle"],[1,"unit-body"],[1,"contact-info"],["href","#",1,"link-gray-light-1","link-xs","link-fixed-color"],[1,"visible-md","visible-lg"],[1,"icon","icon-circle","icon-primary-lighter","icon-xxs","mdi","mdi-phone","text-middle"],["href","tel:407-345-0323",1,"link-gray-light-1","link-xs","link-fixed-color"],[1,"reveal-block","text-gray-light-1","link-xs","link-fixed-color"],[1,"hidden-md","hidden-sm"],[1,"list-inline","list-inline-sm"],["href","https://www.instagram.com/backstagebilliardsidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-instagram"],["href","https://www.facebook.com/backstagebilliardsidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-facebook"],["href","https://twitter.com/backstageidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-twitter"],[1,"rd-navbar-nav-wrap"],[1,"rd-navbar-nav"],[1,"active"],["href","/home"],["routerLink","/about"],["routerLink","/menu"],["href","/tournaments-events"],["href","/gallery"],["href","/contact"],["href","/partners"],[1,"rd-navbar-dropdown","menu-img-wrap"],[1,"menu-img"],["href","#"],["src","assets/images/rack-n-draw-logo.png","alt","Partner Logo 1","width","100%"],["src","assets/images/sunshine-state-billiards.jpeg","alt","Partner Logo 2","width","100%"]],template:function(i,s){i&1&&(f(0,"header",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"button",9),x(10,"span"),p(),f(11,"a",10),x(12,"img",11),p(),f(13,"div",12)(14,"span",13),g(15,"Backstage Billiards "),f(16,"span",14),g(17,"I-Drive"),p()()()(),x(18,"div",15),f(19,"div",16)(20,"ul",17)(21,"li")(22,"div",18)(23,"div",19),x(24,"span",20),p(),f(25,"div",21)(26,"address",22)(27,"a",23),g(28,"8957 International Drive "),x(29,"br",24),g(30," Orlando, FL 32819"),p()()()()(),f(31,"li")(32,"div",18)(33,"div",19),x(34,"span",25),p(),f(35,"div",21)(36,"address",22)(37,"a",26),g(38,"407-345-0323"),p(),f(39,"span",27),g(40,"Daily: 3:00 PM \u2013 2:15 AM"),p()()()()(),f(41,"li",28)(42,"ul",29)(43,"li")(44,"a",30),x(45,"span",31),p()(),f(46,"li")(47,"a",32),x(48,"span",33),p()(),f(49,"li")(50,"a",34),x(51,"span",35),p()()()()()()()()(),f(52,"div",36)(53,"ul",37)(54,"li",38)(55,"a",39),g(56,"Home"),p()(),f(57,"li")(58,"a",40),g(59,"About Us"),p()(),f(60,"li")(61,"a",41),g(62,"Menu"),p()(),f(63,"li")(64,"a",42),g(65,"Tournaments & Events"),p()(),f(66,"li")(67,"a",43),g(68,"Gallery"),p()(),f(69,"li")(70,"a",44),g(71,"Contacts"),p()(),f(72,"li")(73,"a",45),g(74,"Partners"),p(),f(75,"ul",46)(76,"li",47)(77,"a",48),x(78,"img",49),p()(),f(79,"li",47)(80,"a",48),x(81,"img",50),p()()()()()()()()()()())},dependencies:[p0,a0],styles:["html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]{width:200px!important;padding:10px!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]{display:block!important;text-align:center!important;margin-bottom:10px!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block!important;width:100%!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%!important;height:auto!important}@media (max-width: 500px){.brand-title[_ngcontent-%COMP%], .social-media-section[_ngcontent-%COMP%]   .contact-section[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();var TA=(()=>{let e=class e{constructor(){this.title="backstage-billiards"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-root"]],standalone:!0,features:[K],decls:30,vars:0,consts:[[1,"page","text-center"],[1,"page-content"],["id","form-output-global",1,"snackbars"],["tabindex","-1","role","dialog","aria-hidden","true",1,"pswp"],[1,"pswp__bg"],[1,"pswp__scroll-wrap"],[1,"pswp__container"],[1,"pswp__item"],[1,"pswp__ui","pswp__ui--hidden"],[1,"pswp__top-bar"],[1,"pswp__counter"],["title","Close (Esc)",1,"pswp__button","pswp__button--close"],["title","Share",1,"pswp__button","pswp__button--share"],["title","Toggle fullscreen",1,"pswp__button","pswp__button--fs"],["title","Zoom in/out",1,"pswp__button","pswp__button--zoom"],[1,"pswp__preloader"],[1,"pswp__preloader__icn"],[1,"pswp__preloader__cut"],[1,"pswp__preloader__donut"],[1,"pswp__share-modal","pswp__share-modal--hidden","pswp__single-tap"],[1,"pswp__share-tooltip"],["title","Previous (arrow left)",1,"pswp__button","pswp__button--arrow--left"],["title","Next (arrow right)",1,"pswp__button","pswp__button--arrow--right"],[1,"pswp__caption"],[1,"pswp__caption__cent"]],template:function(i,s){i&1&&(f(0,"div",0),x(1,"app-navbar"),f(2,"main",1),x(3,"router-outlet"),p(),x(4,"app-footer"),p(),x(5,"div",2),f(6,"div",3),x(7,"div",4),f(8,"div",5)(9,"div",6),x(10,"div",7)(11,"div",7)(12,"div",7),p(),f(13,"div",8)(14,"div",9),x(15,"div",10)(16,"button",11)(17,"button",12)(18,"button",13)(19,"button",14),f(20,"div",15)(21,"div",16)(22,"div",17),x(23,"div",18),p()()()(),f(24,"div",19),x(25,"div",20),p(),x(26,"button",21)(27,"button",22),f(28,"div",23),x(29,"div",24),p()()()())},dependencies:[ap,CA,EA]});let t=e;return t})();wE(TA,IA).catch(t=>console.error(t));
