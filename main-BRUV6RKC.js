var IA=Object.defineProperty,EA=Object.defineProperties;var TA=Object.getOwnPropertyDescriptors;var P_=Object.getOwnPropertySymbols,CA=Object.getPrototypeOf,bA=Object.prototype.hasOwnProperty,SA=Object.prototype.propertyIsEnumerable,DA=Reflect.get;var M_=(t,e,n)=>e in t?IA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C=(t,e)=>{for(var n in e||={})bA.call(e,n)&&M_(t,n,e[n]);if(P_)for(var n of P_(e))SA.call(e,n)&&M_(t,n,e[n]);return t},fe=(t,e)=>EA(t,TA(e));var Kn=(t,e,n)=>DA(CA(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var k_=null;var cd=1,O_=Symbol("SIGNAL");function ne(t){let e=k_;return k_=t,e}var F_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function AA(t){if(!(dd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cd)){if(!t.producerMustRecompute(t)&&!ud(t)){t.dirty=!1,t.lastCleanEpoch=cd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=cd}}function L_(t){return t&&(t.nextProducerIndex=0),ne(t)}function V_(t,e){if(ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(dd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ld(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ud(t){Ga(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(AA(n),r!==n.version))return!0}return!1}function U_(t){if(Ga(t),dd(t))for(let e=0;e<t.producerNode.length;e++)ld(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ld(t,e){if(RA(t),Ga(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ld(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ga(i),i.producerIndexOfThis[r]=e}}function dd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ga(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function RA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function xA(){throw new Error}var NA=xA;function B_(t){NA=t}function F(t){return typeof t=="function"}function yi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ka=yi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(s){e=s instanceof Ka?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{j_(s)}catch(o){e=e??[],o instanceof Ka?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ka(e)}}add(e){var n;if(e&&e!==this)if(this.closed)j_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tr(n,e)}remove(e){let{_finalizers:n}=this;n&&Tr(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var hd=Ce.EMPTY;function Qa(t){return t instanceof Ce||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function j_(t){F(t)?t():t.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _i={setTimeout(t,e,...n){let{delegate:r}=_i;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=_i;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ya(t){_i.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(t);else throw t})}function Bs(){}var $_=fd("C",void 0,void 0);function H_(t){return fd("E",void 0,t)}function q_(t){return fd("N",t,void 0)}function fd(t,e,n){return{kind:t,value:e,error:n}}var Cr=null;function vi(t){if(jt.useDeprecatedSynchronousErrorHandling){let e=!Cr;if(e&&(Cr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Cr;if(Cr=null,n)throw r}}else t()}function z_(t){jt.useDeprecatedSynchronousErrorHandling&&Cr&&(Cr.errorThrown=!0,Cr.error=t)}var br=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qa(e)&&e.add(this)):this.destination=kA}static create(e,n,r){return new wi(e,n,r)}next(e){this.isStopped?md(q_(e),this):this._next(e)}error(e){this.isStopped?md(H_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?md($_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PA=Function.prototype.bind;function pd(t,e){return PA.call(t,e)}var gd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ja(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ja(r)}else Ja(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ja(n)}}},wi=class extends br{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&jt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pd(e.next,s),error:e.error&&pd(e.error,s),complete:e.complete&&pd(e.complete,s)}):i=e}this.destination=new gd(i)}};function Ja(t){jt.useDeprecatedSynchronousErrorHandling?z_(t):Ya(t)}function MA(t){throw t}function md(t,e){let{onStoppedNotification:n}=jt;n&&_i.setTimeout(()=>n(t,e))}var kA={closed:!0,next:Bs,error:MA,complete:Bs};var Ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(t){return t}function yd(...t){return _d(t)}function _d(t){return t.length===0?rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=FA(n)?n:new wi(n,r,i);return vi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=W_(r),new r((i,s)=>{let o=new wi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ii](){return this}pipe(...n){return _d(n)(this)}toPromise(n){return n=W_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function W_(t){var e;return(e=t??jt.Promise)!==null&&e!==void 0?e:Promise}function OA(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function FA(t){return t&&t instanceof br||OA(t)&&Qa(t)}function vd(t){return F(t?.lift)}function B(t){return e=>{if(vd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,r,i){return new js(t,e,n,r,i)}var js=class extends br{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ei(){return B((t,e)=>{let n=null;t._refCount++;let r=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ti=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return Ei()(this)}};var G_=yi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Za(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new G_}next(n){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?hd:(this.currentObservers=null,s.push(n),new Ce(()=>{this.currentObservers=null,Tr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Za(e,n),t})(),Za=class extends Pe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:hd}};var $e=class extends Pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wd={now(){return(wd.delegate||Date).now()},delegate:void 0};var Xa=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var $s={setInterval(t,e,...n){let{delegate:r}=$s;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=$s;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ci=class extends Xa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return $s.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&$s.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};bi.now=wd.now;var Si=class extends bi{constructor(e,n=bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Id=new Si(Ci);var ec=class extends Ci{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var tc=class extends Si{};var Ed=new tc(ec);var vt=new G(t=>t.complete());function K_(t){return t&&F(t.schedule)}function Q_(t){return t[t.length-1]}function Y_(t){return F(Q_(t))?t.pop():void 0}function Qn(t){return K_(Q_(t))?t.pop():void 0}function Td(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function J_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(t){return this instanceof Sr?(this.v=t,this):new Sr(t)}function X_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(y){return new Promise(function(_,v){s.push([h,y,_,v])>1||a(h,y)})})}function a(h,y){try{c(r[h](y))}catch(_){d(s[0][3],_)}}function c(h){h.value instanceof Sr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,y){h(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ev(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof J_=="function"?J_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var nc=t=>t&&typeof t.length=="number"&&typeof t!="function";function rc(t){return F(t?.then)}function ic(t){return F(t[Ii])}function sc(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ac=LA();function cc(t){return F(t?.[ac])}function uc(t){return X_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Sr(n.read());if(i)return yield Sr(void 0);yield yield Sr(r)}}finally{n.releaseLock()}})}function lc(t){return F(t?.getReader)}function De(t){if(t instanceof G)return t;if(t!=null){if(ic(t))return VA(t);if(nc(t))return UA(t);if(rc(t))return BA(t);if(sc(t))return tv(t);if(cc(t))return jA(t);if(lc(t))return $A(t)}throw oc(t)}function VA(t){return new G(e=>{let n=t[Ii]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UA(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function BA(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ya)})}function jA(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tv(t){return new G(e=>{HA(t,e).catch(n=>e.error(n))})}function $A(t){return tv(uc(t))}function HA(t,e){var n,r,i,s;return Z_(this,void 0,void 0,function*(){try{for(n=ev(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Yn(t,e=0){return B((n,r)=>{n.subscribe(j(r,i=>dt(r,t,()=>r.next(i),e),()=>dt(r,t,()=>r.complete(),e),i=>dt(r,t,()=>r.error(i),e)))})}function Jn(t,e=0){return B((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nv(t,e){return De(t).pipe(Jn(e),Yn(e))}function rv(t,e){return De(t).pipe(Jn(e),Yn(e))}function iv(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function sv(t,e){return new G(n=>{let r;return dt(n,e,()=>{r=t[ac](),dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function dc(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{dt(n,e,()=>{let r=t[Symbol.asyncIterator]();dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ov(t,e){return dc(uc(t),e)}function av(t,e){if(t!=null){if(ic(t))return nv(t,e);if(nc(t))return iv(t,e);if(rc(t))return rv(t,e);if(sc(t))return dc(t,e);if(cc(t))return sv(t,e);if(lc(t))return ov(t,e)}throw oc(t)}function we(t,e){return e?av(t,e):De(t)}function A(...t){let e=Qn(t);return we(t,e)}function Di(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function Cd(t){return!!t&&(t instanceof G||F(t.lift)&&F(t.subscribe))}var bn=yi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return B((n,r)=>{let i=0;n.subscribe(j(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:qA}=Array;function zA(t,e){return qA(e)?t(...e):t(e)}function cv(t){return W(e=>zA(t,e))}var{isArray:WA}=Array,{getPrototypeOf:GA,prototype:KA,keys:QA}=Object;function uv(t){if(t.length===1){let e=t[0];if(WA(e))return{args:e,keys:null};if(YA(e)){let n=QA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YA(t){return t&&typeof t=="object"&&GA(t)===KA}function lv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Hs(...t){let e=Qn(t),n=Y_(t),{args:r,keys:i}=uv(t);if(r.length===0)return we([],e);let s=new G(JA(r,e,i?o=>lv(i,o):rt));return n?s.pipe(cv(n)):s}function JA(t,e,n=rt){return r=>{dv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)dv(e,()=>{let u=we(t[c],e),l=!1;u.subscribe(j(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function dv(t,e,n){t?dt(n,t,e):e()}function hv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},y=v=>u<r?_(v):c.push(v),_=v=>{s&&e.next(v),u++;let E=!1;De(n(v,l++)).subscribe(j(e,D=>{i?.(D),s?y(D):e.next(D)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;c.length&&u<r;){let D=c.shift();o?dt(e,o,()=>_(D)):_(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(j(e,y,()=>{d=!0,h()})),()=>{a?.()}}function Ee(t,e,n=1/0){return F(e)?Ee((r,i)=>W((s,o)=>e(r,s,i,o))(De(t(r,i))),n):(typeof e=="number"&&(n=e),B((r,i)=>hv(r,i,t,n)))}function Ai(t=1/0){return Ee(rt,t)}function fv(){return Ai(1)}function Ri(...t){return fv()(we(t,Qn(t)))}function hc(t){return new G(e=>{De(t()).subscribe(e)})}function it(t,e){return B((n,r)=>{let i=0;n.subscribe(j(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zn(t){return B((e,n)=>{let r=null,i=!1,s;r=e.subscribe(j(n,void 0,void 0,o=>{s=De(t(o,Zn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function pv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(j(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Xn(t,e){return F(e)?Ee(t,e,1):Ee(t,1)}function er(t){return B((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sn(t){return t<=0?()=>vt:B((e,n)=>{let r=0;e.subscribe(j(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bd(t){return W(()=>t)}function Sd(t,e=rt){return t=t??ZA,B((n,r)=>{let i,s=!0;n.subscribe(j(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function ZA(t,e){return t===e}function fc(t=XA){return B((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function XA(){return new bn}function qs(t){return B((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function en(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,s)=>t(i,s,r)):rt,Sn(1),n?er(e):fc(()=>new bn))}function Dd(t,e,n,r){return B((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let a=new Map,c=_=>{a.forEach(_),_(s)},u=_=>c(v=>v.error(_)),l=0,d=!1,h=new js(s,_=>{try{let v=t(_),E=a.get(v);if(!E){a.set(v,E=r?r():new Pe);let D=y(v,E);if(s.next(D),n){let ee=j(E,()=>{E.complete(),ee?.unsubscribe()},void 0,void 0,()=>a.delete(v));h.add(De(n(D)).subscribe(ee))}}E.next(o?o(_):_)}catch(v){u(v)}},()=>c(_=>_.complete()),u,()=>a.clear(),()=>(d=!0,l===0));i.subscribe(h);function y(_,v){let E=new G(D=>{l++;let ee=v.subscribe(D);return()=>{ee.unsubscribe(),--l===0&&d&&h.unsubscribe()}});return E.key=_,E}})}function xi(t){return t<=0?()=>vt:B((e,n)=>{let r=[];e.subscribe(j(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ad(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,s)=>t(i,s,r)):rt,xi(1),n?er(e):fc(()=>new bn))}function Rd(){return B((t,e)=>{let n,r=!1;t.subscribe(j(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function xd(t,e){return B(pv(t,e,arguments.length>=2,!0))}function zs(...t){let e=Qn(t);return B((n,r)=>{(e?Ri(t,n,e):Ri(t,n)).subscribe(r)})}function st(t,e){return B((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(j(r,c=>{i?.unsubscribe();let u=0,l=s++;De(t(c,l)).subscribe(i=j(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Nd(t){return B((e,n)=>{De(t).subscribe(j(n,()=>n.complete(),Bs)),!n.closed&&e.subscribe(n)})}function Re(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?B((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(j(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):rt}var Yv="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(Ah(e,n)),this.code=e}};function Ah(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function io(t){return{toString:t}.toString()}var pc="__parameters__";function eR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Jv(t,e,n){return io(()=>{let r=eR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(pc)?c[pc]:Object.defineProperty(c,pc,{value:[]})[pc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Dr=globalThis;function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function wt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var tR=de({__forward_ref__:de});function Zv(t){return t.__forward_ref__=Zv,t.toString=function(){return wt(this())},t}function Pt(t){return Xv(t)?t():t}function Xv(t){return typeof t=="function"&&t.hasOwnProperty(tR)&&t.__forward_ref__===Zv}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Me(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vc(t){return gv(t,tw)||gv(t,nw)}function ew(t){return Vc(t)!==null}function gv(t,e){return t.hasOwnProperty(e)?t[e]:null}function nR(t){let e=t&&(t[tw]||t[nw]);return e||null}function yv(t){return t&&(t.hasOwnProperty(_v)||t.hasOwnProperty(rR))?t[_v]:null}var tw=de({\u0275prov:de}),_v=de({\u0275inj:de}),nw=de({ngInjectableDef:de}),rR=de({ngInjectorDef:de}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rw(t){return t&&!!t.\u0275providers}var iR=de({\u0275cmp:de}),sR=de({\u0275dir:de}),oR=de({\u0275pipe:de}),aR=de({\u0275mod:de}),Ec=de({\u0275fac:de}),Ws=de({__NG_ELEMENT_ID__:de}),vv=de({__NG_ENV_ID__:de});function Rh(t){return typeof t=="string"?t:t==null?"":String(t)}function cR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rh(t)}function uR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function xh(t,e){throw new P(-201,!1)}var H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(H||{}),$d;function iw(){return $d}function Nt(t){let e=$d;return $d=t,e}function sw(t,e,n){let r=Vc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&H.Optional)return null;if(e!==void 0)return e;xh(t,"Injector")}var lR={},Gs=lR,Hd="__NG_DI_FLAG__",Tc="ngTempTokenPath",dR="ngTokenPath",hR=/\n/gm,fR="\u0275",wv="__source",Oi;function pR(){return Oi}function tr(t){let e=Oi;return Oi=t,e}function mR(t,e=H.Default){if(Oi===void 0)throw new P(-203,!1);return Oi===null?sw(t,void 0,e):Oi.get(t,e&H.Optional?null:void 0,e)}function S(t,e=H.Default){return(iw()||mR)(Pt(t),e)}function T(t,e=H.Default){return S(t,Uc(e))}function Uc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qd(t){let e=[];for(let n=0;n<t.length;n++){let r=Pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){let a=r[o],c=gR(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function ow(t,e){return t[Hd]=e,t.prototype[Hd]=e,t}function gR(t){return t[Hd]}function yR(t,e,n,r){let i=t[Tc];throw e[wv]&&i.unshift(e[wv]),t.message=_R(`
`+t.message,i,n,r),t[dR]=i,t[Tc]=null,t}function _R(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==fR?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hR,`
  `)}`}var ie=ow(Jv("Optional"),8);var aw=ow(Jv("SkipSelf"),4);function Li(t,e){let n=t.hasOwnProperty(Ec);return n?t[Ec]:null}function vR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function wR(t){return t.flat(Number.POSITIVE_INFINITY)}function Nh(t,e){t.forEach(n=>Array.isArray(n)?Nh(n,e):e(n))}function cw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Cc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Ks={},tn=[],Vi=new R(""),uw=new R("",-1),lw=new R(""),bc=class{get(e,n=Gs){if(n===Gs){let r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}},dw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dw||{}),sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sn||{}),qt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(qt||{});function IR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function zd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];ER(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function hw(t){return t===3||t===4||t===6}function ER(t){return t.charCodeAt(0)===64}function Ph(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Iv(t,n,i,null,e[++r]):Iv(t,n,i,null,null))}}return t}function Iv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var fw="ng-template";function TR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&IR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Mh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Mh(t){return t.type===4&&t.value!==fw}function CR(t,e,n){let r=t.type===4&&!n?fw:t.value;return e===r}function bR(t,e,n){let r=4,i=t.attrs,s=i!==null?AR(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!$t(r)&&!$t(c))return!1;if(o&&$t(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!CR(t,c,n)||c===""&&e.length===1){if($t(r))return!1;o=!0}}else if(r&8){if(i===null||!TR(t,i,c,n)){if($t(r))return!1;o=!0}}else{let u=e[++a],l=SR(c,i,Mh(t),n);if(l===-1){if($t(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if($t(r))return!1;o=!0}}}}return $t(r)||o}function $t(t){return(t&1)===0}function SR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return RR(e,t)}function DR(t,e,n=!1){for(let r=0;r<e.length;r++)if(bR(t,e[r],n))return!0;return!1}function AR(t){for(let e=0;e<t.length;e++){let n=t[e];if(hw(n))return e}return t.length}function RR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ev(t,e){return t?":not("+e.trim()+")":e}function xR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!$t(o)&&(e+=Ev(s,i),i=""),r=o,s=s||!$t(r);n++}return i!==""&&(e+=Ev(s,i)),e}function NR(t){return t.map(xR).join(",")}function PR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!$t(i))break;i=s}r++}return{attrs:e,classes:n}}function se(t){return io(()=>{let e=_w(t),n=fe(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sn.Emulated,styles:t.styles||tn,_:null,schemas:t.schemas||null,tView:null,id:""});vw(n);let r=t.dependencies;return n.directiveDefs=Cv(r,!1),n.pipeDefs=Cv(r,!0),n.id=OR(n),n})}function MR(t){return rr(t)||pw(t)}function kR(t){return t!==null}function ke(t){return io(()=>({type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Tv(t,e){if(t==null)return Ks;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=qt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==qt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Bc(t){return io(()=>{let e=_w(t);return vw(e),e})}function rr(t){return t[iR]||null}function pw(t){return t[sR]||null}function mw(t){return t[oR]||null}function gw(t){let e=rr(t)||pw(t)||mw(t);return e!==null?e.standalone:!1}function yw(t,e){let n=t[aR]||null;if(!n&&e===!0)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function _w(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ks,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tv(t.inputs,e),outputs:Tv(t.outputs),debugInfo:null}}function vw(t){t.features?.forEach(e=>e(t))}function Cv(t,e){if(!t)return null;let n=e?mw:MR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(kR)}function OR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jc(t){return{\u0275providers:t}}function xn(...t){return{\u0275providers:ww(!0,t),\u0275fromNgModule:!0}}function ww(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Nh(e,o=>{let a=o;Wd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Iw(i,s),n}function Iw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];kh(i,s=>{e(s,r)})}}function Wd(t,e,n,r){if(t=Pt(t),!t)return!1;let i=null,s=yv(t),o=!s&&rr(t);if(!s&&!o){let c=t.ngModule;if(s=yv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Wd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Nh(s.imports,l=>{Wd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Iw(u,e)}if(!a){let u=Li(i)||(()=>new i);e({provide:i,useFactory:u,deps:tn},i),e({provide:lw,useValue:i,multi:!0},i),e({provide:Vi,useValue:()=>S(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;kh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function kh(t,e){for(let n of t)rw(n)&&(n=n.\u0275providers),Array.isArray(n)?kh(n,e):e(n)}var FR=de({provide:String,useValue:de});function Ew(t){return t!==null&&typeof t=="object"&&FR in t}function LR(t){return!!(t&&t.useExisting)}function VR(t){return!!(t&&t.useFactory)}function Gd(t){return typeof t=="function"}var $c=new R(""),gc={},UR={},Pd;function Oh(){return Pd===void 0&&(Pd=new bc),Pd}var Et=class{},Qs=class extends Et{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qd(e,o=>this.processProvider(o)),this.records.set(uw,Ni(void 0,this)),i.has("environment")&&this.records.set(Et,Ni(void 0,this));let s=this.records.get($c);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(lw,tn,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=tr(this),r=Nt(void 0),i;try{return e()}finally{tr(n),Nt(r)}}get(e,n=Gs,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vv))return e[vv](this);r=Uc(r);let i,s=tr(this),o=Nt(void 0);try{if(!(r&H.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=zR(e)&&Vc(e);u&&this.injectableDefInScope(u)?c=Ni(Kd(e),gc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&H.Self?Oh():this.parent;return n=r&H.Optional&&n===Gs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Tc]=a[Tc]||[]).unshift(wt(e)),s)throw a;return yR(a,e,"R3InjectorError",this.source)}else throw a}finally{Nt(o),tr(s)}}resolveInjectorInitializers(){let e=ne(null),n=tr(this),r=Nt(void 0),i;try{let s=this.get(Vi,tn,H.Self);for(let o of s)o()}finally{tr(n),Nt(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=Pt(e);let n=Gd(e)?e:Pt(e&&e.provide),r=jR(e);if(!Gd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ni(void 0,gc,!0),i.factory=()=>qd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ne(null);try{return n.value===gc&&(n.value=UR,n.value=n.factory()),typeof n.value=="object"&&n.value&&qR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Kd(t){let e=Vc(t),n=e!==null?e.factory:Li(t);if(n!==null)return n;if(t instanceof R)throw new P(204,!1);if(t instanceof Function)return BR(t);throw new P(204,!1)}function BR(t){if(t.length>0)throw new P(204,!1);let n=nR(t);return n!==null?()=>n.factory(t):()=>new t}function jR(t){if(Ew(t))return Ni(void 0,t.useValue);{let e=$R(t);return Ni(e,gc)}}function $R(t,e,n){let r;if(Gd(t)){let i=Pt(t);return Li(i)||Kd(i)}else if(Ew(t))r=()=>Pt(t.useValue);else if(VR(t))r=()=>t.useFactory(...qd(t.deps||[]));else if(LR(t))r=()=>S(Pt(t.useExisting));else{let i=Pt(t&&(t.useClass||t.provide));if(HR(t))r=()=>new i(...qd(t.deps));else return Li(i)||Kd(i)}return r}function Ni(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function HR(t){return!!t.deps}function qR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zR(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function Qd(t,e){for(let n of t)Array.isArray(n)?Qd(n,e):n&&rw(n)?Qd(n.\u0275providers,e):e(n)}function Nn(t,e){t instanceof Qs&&t.assertNotDestroyed();let n,r=tr(t),i=Nt(void 0);try{return e()}finally{tr(r),Nt(i)}}function Tw(){return iw()!==void 0||pR()!=null}function WR(t){if(!Tw())throw new P(-203,!1)}function GR(t){return typeof t=="function"}var Pn=0,q=1,M=2,He=3,Ht=4,Wt=5,Sc=6,Ys=7,Dn=8,Ui=9,zt=10,Tt=11,Js=12,bv=13,so=14,on=15,oo=16,Pi=17,An=18,Hc=19,Cw=20,nr=21,Md=22,xr=23,Nr=25,bw=1;var Pr=7,Dc=8,Bi=9,It=10,Fh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Fh||{});function Ar(t){return Array.isArray(t)&&typeof t[bw]=="object"}function Mn(t){return Array.isArray(t)&&t[bw]===!0}function Sw(t){return(t.flags&4)!==0}function Lh(t){return t.componentOffset>-1}function Dw(t){return(t.flags&1)===1}function ao(t){return!!t.template}function KR(t){return(t[M]&512)!==0}var Yd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Aw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function co(){return Rw}function Rw(t){return t.type.prototype.ngOnChanges&&(t.setInput=YR),QR}co.ngInherit=!0;function QR(){let t=Nw(this),e=t?.current;if(e){let n=t.previous;if(n===Ks)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function YR(t,e,n,r,i){let s=this.declaredInputs[r],o=Nw(t)||JR(t,{previous:Ks,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Yd(u&&u.currentValue,n,c===Ks),Aw(t,e,i,n)}var xw="__ngSimpleChanges__";function Nw(t){return t[xw]||null}function JR(t,e){return t[xw]=e}var Sv=null;var nn=function(t,e,n){Sv?.(t,e,n)},ZR="svg",XR="math",ex=!1;function tx(){return ex}function Rn(t){for(;Array.isArray(t);)t=t[Pn];return t}function Gt(t,e){return Rn(e[t.index])}function Pw(t,e){return t.data[e]}function Or(t,e){let n=e[t];return Ar(n)?n:n[Pn]}function nx(t){return(t[M]&4)===4}function Vh(t){return(t[M]&128)===128}function rx(t){return Mn(t[He])}function Dv(t,e){return e==null?null:t[e]}function Mw(t){t[Pi]=0}function ix(t){t[M]&1024||(t[M]|=1024,Vh(t)&&Zs(t))}function Uh(t){return!!(t[M]&9216||t[xr]?.dirty)}function Jd(t){t[zt].changeDetectionScheduler?.notify(1),Uh(t)?Zs(t):t[M]&64&&(tx()?(t[M]|=1024,Zs(t)):t[zt].changeDetectionScheduler?.notify())}function Zs(t){t[zt].changeDetectionScheduler?.notify();let e=Xs(t);for(;e!==null&&!(e[M]&8192||(e[M]|=8192,!Vh(e)));)e=Xs(e)}function kw(t,e){if((t[M]&256)===256)throw new P(911,!1);t[nr]===null&&(t[nr]=[]),t[nr].push(e)}function sx(t,e){if(t[nr]===null)return;let n=t[nr].indexOf(e);n!==-1&&t[nr].splice(n,1)}function Xs(t){let e=t[He];return Mn(e)?e[He]:e}var re={lFrame:jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ox(){return re.lFrame.elementDepthCount}function ax(){re.lFrame.elementDepthCount++}function cx(){re.lFrame.elementDepthCount--}function Ow(){return re.bindingsEnabled}function ux(){return re.skipHydrationRootTNode!==null}function lx(t){return re.skipHydrationRootTNode===t}function dx(){re.skipHydrationRootTNode=null}function xe(){return re.lFrame.lView}function Fr(){return re.lFrame.tView}function kt(){let t=Fw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Fw(){return re.lFrame.currentTNode}function hx(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function qc(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function Lw(){return re.lFrame.isParent}function fx(){re.lFrame.isParent=!1}function px(t){return re.lFrame.bindingIndex=t}function mx(){return re.lFrame.bindingIndex++}function gx(){return re.lFrame.inI18n}function yx(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zd(e)}function _x(){return re.lFrame.currentDirectiveIndex}function Zd(t){re.lFrame.currentDirectiveIndex=t}function Vw(){return re.lFrame.currentQueryIndex}function Bh(t){re.lFrame.currentQueryIndex=t}function vx(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[Wt]:null}function Uw(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&H.Host);)if(i=vx(s),i===null||(s=s[so],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=re.lFrame=Bw();return r.currentTNode=e,r.lView=t,!0}function jh(t){let e=Bw(),n=t[q];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Bw(){let t=re.lFrame,e=t===null?null:t.child;return e===null?jw(t):e}function jw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $w(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Hw=$w;function $h(){let t=$w();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wx(){return re.lFrame.selectedIndex}function Mr(t){re.lFrame.selectedIndex=t}function Ix(){let t=re.lFrame;return Pw(t.tView,t.selectedIndex)}function Ex(){return re.lFrame.currentNamespace}var qw=!0;function zw(){return qw}function Ww(t){qw=t}function Tx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Rw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Gw(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function yc(t,e,n){Kw(t,e,3,n)}function _c(t,e,n,r){(t[M]&3)===n&&Kw(t,e,n,r)}function kd(t,e){let n=t[M];(n&3)===e&&(n&=16383,n+=1,t[M]=n)}function Kw(t,e,n,r){let i=r!==void 0?t[Pi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Pi]+=65536),(a<s||s==-1)&&(Cx(t,n,e,c),t[Pi]=(t[Pi]&4294901760)+c+2),c++}function Av(t,e){nn(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),nn(5,t,e)}}function Cx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[M]>>14<t[Pi]>>16&&(t[M]&3)===e&&(t[M]+=16384,Av(a,s)):Av(a,s)}var Fi=-1,eo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function bx(t){return t instanceof eo}function Sx(t){return(t.flags&8)!==0}function Dx(t){return(t.flags&16)!==0}function Qw(t){return t!==Fi}function Ac(t){return t&32767}function Ax(t){return t>>16}function Rc(t,e){let n=Ax(t),r=e;for(;n>0;)r=r[so],n--;return r}var Xd=!0;function Rv(t){let e=Xd;return Xd=t,e}var Rx=256,Yw=Rx-1,Jw=5,xx=0,rn={};function Nx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ws)&&(r=n[Ws]),r==null&&(r=n[Ws]=xx++);let i=r&Yw,s=1<<i;e.data[t+(i>>Jw)]|=s}function Zw(t,e){let n=Xw(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,Od(r.data,t),Od(e,null),Od(r.blueprint,null));let i=Hh(t,e),s=t.injectorIndex;if(Qw(i)){let o=Ac(i),a=Rc(i,e),c=a[q].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Od(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=iI(i),r===null)return Fi;if(n++,i=i[so],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fi}function Px(t,e,n){Nx(t,e,n)}function Mx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(hw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function eI(t,e,n){if(n&H.Optional||t!==void 0)return t;xh(e,"NodeInjector")}function tI(t,e,n,r){if(n&H.Optional&&r===void 0&&(r=null),!(n&(H.Self|H.Host))){let i=t[Ui],s=Nt(void 0);try{return i?i.get(e,r,n&H.Optional):sw(e,r,n&H.Optional)}finally{Nt(s)}}return eI(r,e,n)}function nI(t,e,n,r=H.Default,i){if(t!==null){if(e[M]&2048&&!(r&H.Self)){let o=Lx(t,e,n,r,rn);if(o!==rn)return o}let s=rI(t,e,n,r,rn);if(s!==rn)return s}return tI(e,n,r,i)}function rI(t,e,n,r,i){let s=Ox(n);if(typeof s=="function"){if(!Uw(e,t,r))return r&H.Host?eI(i,n,r):tI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&H.Optional))xh(n);else return o}finally{Hw()}}else if(typeof s=="number"){let o=null,a=Xw(t,e),c=Fi,u=r&H.Host?e[on][Wt]:null;for((a===-1||r&H.SkipSelf)&&(c=a===-1?Hh(t,e):e[a+8],c===Fi||!Nv(r,!1)?a=-1:(o=e[q],a=Ac(c),e=Rc(c,e)));a!==-1;){let l=e[q];if(xv(s,a,l.data)){let d=kx(a,e,n,o,r,u);if(d!==rn)return d}c=e[a+8],c!==Fi&&Nv(r,e[q].data[a+8]===u)&&xv(s,a,e)?(o=l,a=Ac(c),e=Rc(c,e)):a=-1}}return i}function kx(t,e,n,r,i,s){let o=e[q],a=o.data[t+8],c=r==null?Lh(a)&&Xd:r!=o&&(a.type&3)!==0,u=i&H.Host&&s===a,l=vc(a,o,n,c,u);return l!==null?ji(e,o,l,a):rn}function vc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let y=d;y<h;y++){let _=o[y];if(y<c&&n===_||y>=c&&_.type===n)return y}if(i){let y=o[c];if(y&&ao(y)&&y.type===n)return c}return null}function ji(t,e,n,r){let i=t[n],s=e.data;if(bx(i)){let o=i;o.resolving&&uR(cR(s[n]));let a=Rv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Nt(o.injectImpl):null,l=Uw(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Tx(n,s[n],e)}finally{u!==null&&Nt(u),Rv(a),o.resolving=!1,Hw()}}return i}function Ox(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ws)?t[Ws]:void 0;return typeof e=="number"?e>=0?e&Yw:Fx:e}function xv(t,e,n){let r=1<<t;return!!(n[e+(t>>Jw)]&r)}function Nv(t,e){return!(t&H.Self)&&!(t&H.Host&&e)}var Rr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nI(this._tNode,this._lView,e,Uc(r),n)}};function Fx(){return new Rr(kt(),xe())}function qh(t){return io(()=>{let e=t.prototype.constructor,n=e[Ec]||eh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ec]||eh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function eh(t){return Xv(t)?()=>{let e=eh(Pt(t));return e&&e()}:Li(t)}function Lx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[M]&2048&&!(o[M]&512);){let a=rI(s,o,n,r|H.Self,rn);if(a!==rn)return a;let c=s.parent;if(!c){let u=o[Cw];if(u){let l=u.get(n,rn,r);if(l!==rn)return l}c=iI(o),o=o[so]}s=c}return i}function iI(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[Wt]:null}function zh(t){return Mx(kt(),t)}function Pv(t,e=null,n=null,r){let i=sI(t,e,n,r);return i.resolveInjectorInitializers(),i}function sI(t,e=null,n=null,r,i=new Set){let s=[n||tn,xn(t)];return r=r||(typeof t=="object"?void 0:wt(t)),new Qs(s,e||Oh(),r||null,i)}var pe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Pv({name:""},i,r,"");{let s=r.name??"";return Pv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Gs,e.NULL=new bc,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>S(uw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Vx="ngOriginalError";function Fd(t){return t[Vx]}var an=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fd(e);for(;n&&Fd(n);)n=Fd(n);return n||null}},oI=new R("",{providedIn:"root",factory:()=>T(an).handleError.bind(void 0)}),Wh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ux,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),th=class extends Wh{constructor(e){super(),this._lView=e}onDestroy(e){return kw(this._lView,e),()=>sx(this._lView,e)}};function Ux(){return new th(xe())}function Bx(){return qi(kt(),xe())}function qi(t,e){return new cn(Gt(t,e))}var cn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Bx;let t=e;return t})();function jx(t){return t instanceof cn?t.nativeElement:t}var nh=class extends Pe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Tw()&&(this.destroyRef=T(Wh,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Ld(s),i&&(i=Ld(i)),o&&(o=Ld(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ce&&e.add(a),a}};function Ld(t){return e=>{setTimeout(t,void 0,e)}}var Mt=nh;function $x(){return this._results[Symbol.iterator]()}var rh=class t{get changes(){return this._changes??=new Mt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$x)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=wR(e);(this._changesDetected=!vR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function aI(t){return(t.flags&128)===128}var ih;function cI(t){ih=t}function Hx(){if(ih!==void 0)return ih;if(typeof document<"u")return document;throw new P(210,!1)}var Gh=new R("",{providedIn:"root",factory:()=>qx}),qx="ng",Kh=new R(""),un=new R("",{providedIn:"platform",factory:()=>"unknown"});var Qh=new R("",{providedIn:"root",factory:()=>Hx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zx="h",Wx="b";var Gx=()=>null;function Yh(t,e,n=!1){return Gx(t,e,n)}var uI=!1,Kx=new R("",{providedIn:"root",factory:()=>uI});var mc;function Qx(){if(mc===void 0&&(mc=null,Dr.trustedTypes))try{mc=Dr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return mc}function Mv(t){return Qx()?.createScriptURL(t)||t}var xc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yv})`}};function zc(t){return t instanceof xc?t.changingThisBreaksApplicationSecurity:t}function Jh(t,e){let n=Yx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Yv})`)}return n===e}function Yx(t){return t instanceof xc&&t.getTypeName()||null}var Jx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lI(t){return t=String(t),t.match(Jx)?t:"unsafe:"+t}var Wc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wc||{});function Zx(t){let e=hI();return e?e.sanitize(Wc.URL,t)||"":Jh(t,"URL")?zc(t):lI(Rh(t))}function Xx(t){let e=hI();if(e)return Mv(e.sanitize(Wc.RESOURCE_URL,t)||"");if(Jh(t,"ResourceURL"))return Mv(zc(t));throw new P(904,!1)}function eN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Xx:Zx}function dI(t,e,n){return eN(e,n)(t)}function hI(){let t=xe();return t&&t[zt].sanitizer}var fI=new Map,tN=0;function nN(){return tN++}function rN(t){fI.set(t[Hc],t)}function iN(t){fI.delete(t[Hc])}var kv="__ngContext__";function $i(t,e){Ar(e)?(t[kv]=e[Hc],rN(e)):t[kv]=e}function pI(t){return t instanceof Function?t():t}function sN(t){return(t??T(pe)).get(un)==="browser"}var Lr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Lr||{}),oN;function Zh(t,e){return oN(t,e)}function Mi(t,e,n,r,i){if(r!=null){let s,o=!1;Mn(r)?s=r:Ar(r)&&(o=!0,r=r[Pn]);let a=Rn(r);t===0&&n!==null?i==null?vI(e,n,a):Nc(e,n,a,i||null,!0):t===1&&n!==null?Nc(e,n,a,i||null,!0):t===2?EN(e,a,o):t===3&&e.destroyNode(a),s!=null&&CN(e,t,s,n,i)}}function aN(t,e){return t.createText(e)}function mI(t,e,n){return t.createElement(e,n)}function cN(t,e){gI(t,e),e[Pn]=null,e[Wt]=null}function uN(t,e,n,r,i,s){r[Pn]=i,r[Wt]=e,Gc(t,r,n,1,i,s)}function gI(t,e){e[zt].changeDetectionScheduler?.notify(1),Gc(t,e,e[Tt],2,null,null)}function lN(t){let e=t[Js];if(!e)return Vd(t[q],t);for(;e;){let n=null;if(Ar(e))n=e[Js];else{let r=e[It];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)Ar(e)&&Vd(e[q],e),e=e[He];e===null&&(e=t),Ar(e)&&Vd(e[q],e),n=e&&e[Ht]}e=n}}function dN(t,e,n,r){let i=It+r,s=n.length;r>0&&(n[i-1][Ht]=e),r<s-It?(e[Ht]=n[i],cw(n,It+r,e)):(n.push(e),e[Ht]=null),e[He]=n;let o=e[oo];o!==null&&n!==o&&hN(o,e);let a=e[An];a!==null&&a.insertView(t),Jd(e),e[M]|=128}function hN(t,e){let n=t[Bi],i=e[He][He][on];e[on]!==i&&(t[M]|=Fh.HasTransplantedViews),n===null?t[Bi]=[e]:n.push(e)}function yI(t,e){let n=t[Bi],r=n.indexOf(e);n.splice(r,1)}function sh(t,e){if(t.length<=It)return;let n=It+e,r=t[n];if(r){let i=r[oo];i!==null&&i!==t&&yI(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let s=Cc(t,It+e);cN(r[q],r);let o=s[An];o!==null&&o.detachView(s[q]),r[He]=null,r[Ht]=null,r[M]&=-129}return r}function _I(t,e){if(!(e[M]&256)){let n=e[Tt];n.destroyNode&&Gc(t,e,n,3,null,null),lN(e)}}function Vd(t,e){if(e[M]&256)return;let n=ne(null);try{e[M]&=-129,e[M]|=256,e[xr]&&U_(e[xr]),pN(t,e),fN(t,e),e[q].type===1&&e[Tt].destroy();let r=e[oo];if(r!==null&&Mn(e[He])){r!==e[He]&&yI(r,e);let i=e[An];i!==null&&i.detachView(t)}iN(e)}finally{ne(n)}}function fN(t,e){let n=t.cleanup,r=e[Ys];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ys]=null);let i=e[nr];if(i!==null){e[nr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function pN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof eo)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];nn(4,a,c);try{c.call(a)}finally{nn(5,a,c)}}else{nn(4,i,s);try{s.call(i)}finally{nn(5,i,s)}}}}}function mN(t,e,n){return gN(t,e.parent,n)}function gN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===sn.None||s===sn.Emulated)return null}return Gt(r,n)}}function Nc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function vI(t,e,n){t.appendChild(e,n)}function Ov(t,e,n,r,i){r!==null?Nc(t,e,n,r,i):vI(t,e,n)}function yN(t,e,n,r){t.removeChild(e,n,r)}function Xh(t,e){return t.parentNode(e)}function _N(t,e){return t.nextSibling(e)}function vN(t,e,n){return IN(t,e,n)}function wN(t,e,n){return t.type&40?Gt(t,n):null}var IN=wN,Fv;function wI(t,e,n,r){let i=mN(t,r,e),s=e[Tt],o=r.parent||e[Wt],a=vN(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ov(s,i,n[c],a,!1);else Ov(s,i,n,a,!1);Fv!==void 0&&Fv(s,r,e,n,i)}function wc(t,e){if(e!==null){let n=e.type;if(n&3)return Gt(e,t);if(n&4)return oh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return wc(t,r);{let i=t[e.index];return Mn(i)?oh(-1,i):Rn(i)}}else{if(n&32)return Zh(e,t)()||Rn(t[e.index]);{let r=II(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xs(t[on]);return wc(i,r)}else return wc(t,e.next)}}}return null}function II(t,e){if(e!==null){let r=t[on][Wt],i=e.projection;return r.projection[i]}return null}function oh(t,e){let n=It+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return wc(r,i)}return e[Pr]}function EN(t,e,n){let r=Xh(t,e);r&&yN(t,r,e,n)}function ef(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&$i(Rn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)ef(t,e,n.child,r,i,s,!1),Mi(e,t,i,a,s);else if(c&32){let u=Zh(n,r),l;for(;l=u();)Mi(e,t,i,l,s);Mi(e,t,i,a,s)}else c&16?TN(t,e,r,n,i,s):Mi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Gc(t,e,n,r,i,s){ef(n,r,t.firstChild,e,i,s,!1)}function TN(t,e,n,r,i,s){let o=n[on],c=o[Wt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Mi(e,t,i,l,s)}else{let u=c,l=o[He];aI(r)&&(u.flags|=128),ef(t,e,u,l,i,s,!0)}}function CN(t,e,n,r,i){let s=n[Pr],o=Rn(n);s!==o&&Mi(e,t,r,s,i);for(let a=It;a<n.length;a++){let c=n[a];Gc(c[q],c,t,e,r,s)}}function bN(t,e,n){t.setAttribute(e,"style",n)}function EI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function TI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&zd(t,e,r),i!==null&&EI(t,e,i),s!==null&&bN(t,e,s)}var CI={};function SN(t,e,n,r){if(!r)if((e[M]&3)===3){let s=t.preOrderCheckHooks;s!==null&&yc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&_c(e,s,0,n)}Mr(n)}function ln(t,e=H.Default){let n=xe();if(n===null)return S(t,e);let r=kt();return nI(r,n,Pt(t),e)}function bI(){let t="invalid";throw new Error(t)}function SI(t,e,n,r,i,s){let o=ne(null);try{let a=null;i&qt.SignalBased&&(a=e[r][O_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&qt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Aw(e,a,r,s)}finally{ne(o)}}function DN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Mr(~i);else{let s=i,o=n[++r],a=n[++r];yx(o,s);let c=e[s];a(2,c)}}}finally{Mr(-1)}}function Kc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Pn]=i,d[M]=r|4|128|8|64,(u!==null||t&&t[M]&2048)&&(d[M]|=2048),Mw(d),d[He]=d[so]=t,d[Dn]=n,d[zt]=o||t&&t[zt],d[Tt]=a||t&&t[Tt],d[Ui]=c||t&&t[Ui]||null,d[Wt]=s,d[Hc]=nN(),d[Sc]=l,d[Cw]=u,d[on]=e.type==2?t[on]:d,d}function tf(t,e,n,r,i){let s=t.data[e];if(s===null)s=AN(t,e,n,r,i),gx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=hx();s.injectorIndex=o===null?-1:o.injectorIndex}return qc(s,!0),s}function AN(t,e,n,r,i){let s=Fw(),o=Lw(),a=o?s:s&&s.parent,c=t.data[e]=FN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function DI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function AI(t,e,n,r,i){let s=wx(),o=r&2;try{Mr(-1),o&&e.length>Nr&&SN(t,e,Nr,!1),nn(o?2:0,i),n(r,i)}finally{Mr(s),nn(o?3:1,i)}}function RI(t,e,n){if(Sw(e)){let r=ne(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ne(r)}}}function RN(t,e,n){Ow()&&(jN(t,e,n,Gt(n,e)),(n.flags&64)===64&&MI(t,e,n))}function xN(t,e,n=Gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function xI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=NI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function NI(t,e,n,r,i,s,o,a,c,u,l){let d=Nr+r,h=d+i,y=NN(d,h),_=typeof u=="function"?u():u;return y[q]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:l}}function NN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:CI);return n}function PN(t,e,n,r){let s=r.get(Kx,uI)||n===sn.ShadowDom,o=t.selectRootElement(e,s);return MN(o),o}function MN(t){kN(t)}var kN=()=>null;function ON(t,e,n,r){let i=OI(e);i.push(n),t.firstCreatePass&&FI(t).push(r,i.length-1)}function FN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ux()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Lv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=qt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Vv(r,n,u,a,c):Vv(r,n,u,a)}return r}function Vv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function LN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,y=h?h.inputs:null,_=h?h.outputs:null;c=Lv(0,d.inputs,l,c,y),u=Lv(1,d.outputs,l,u,_);let v=c!==null&&o!==null&&!Mh(e)?ZN(c,l,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function VN(t,e,n,r){if(Ow()){let i=r===null?null:{"":-1},s=HN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&PI(t,e,n,o,i,a),i&&qN(n,r,i)}n.mergedAttrs=Ph(n.mergedAttrs,n.attrs)}function PI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Px(Zw(n,e),t,r[u].type);WN(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=DI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Ph(n.mergedAttrs,l.hostAttrs),GN(t,n,e,c,l),zN(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}LN(t,n,s)}function UN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;BN(o)!=a&&o.push(a),o.push(n,r,s)}}function BN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Lh(n)&&KN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Zw(n,e),$i(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=ji(e,t,a,n);if($i(u,e),o!==null&&JN(e,a-i,u,c,n,o),ao(c)){let l=Or(n.index,e);l[Dn]=ji(e,t,a,n)}}}function MI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=_x();try{Mr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Zd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&$N(c,u)}}finally{Mr(-1),Zd(o)}}function $N(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(DR(e,o.selectors,!1))if(r||(r=[]),ao(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;ah(t,e,c)}else r.unshift(o),ah(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function ah(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new P(-301,!1);r.push(e[i],s)}}}function zN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ao(e)&&(n[""]=t)}}function WN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Li(i.type,!0)),o=new eo(s,ao(i),ln);t.blueprint[r]=o,n[r]=o,UN(t,e,r,DI(t,n,i.hostVars,CI),i)}function KN(t,e,n){let r=Gt(e,t),i=xI(n),s=t[zt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=nf(t,Kc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function QN(t,e,n,r,i,s){let o=Gt(t,e);YN(e[Tt],o,s,t.value,n,r,i)}function YN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Rh(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function JN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];SI(r,n,c,u,l,d)}}function ZN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function XN(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kI(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Bh(s),a.contentQueries(2,e[o],o)}}}finally{ne(r)}}}function nf(t,e){return t[Js]?t[bv][Ht]=e:t[Js]=e,t[bv]=e,e}function ch(t,e,n){Bh(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function OI(t){return t[Ys]||(t[Ys]=[])}function FI(t){return t.cleanup||(t.cleanup=[])}function LI(t,e){let n=t[Ui],r=n?n.get(an,null):null;r&&r.handleError(e)}function VI(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];SI(l,u,r,a,c,i)}}function eP(t,e){let n=Or(e,t),r=n[q];tP(r,n);let i=n[Pn];i!==null&&n[Sc]===null&&(n[Sc]=Yh(i,n[Ui])),rf(r,n,n[Dn])}function tP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rf(t,e,n){jh(e);try{let r=t.viewQuery;r!==null&&ch(1,r,n);let i=t.template;i!==null&&AI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[An]?.finishViewCreation(t),t.staticContentQueries&&kI(t,e),t.staticViewQueries&&ch(2,t.viewQuery,n);let s=t.components;s!==null&&nP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[M]&=-5,$h()}}function nP(t,e){for(let n=0;n<e.length;n++)eP(t,e[n])}function rP(t,e,n,r){let i=ne(null);try{let s=e.tView,a=t[M]&4096?4096:16,c=Kc(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];c[oo]=u;let l=t[An];return l!==null&&(c[An]=l.createEmbeddedView(s)),rf(s,c,n),c}finally{ne(i)}}function Uv(t,e){return!e||e.firstChild===null||aI(t)}function iP(t,e,n,r=!0){let i=e[q];if(dN(i,e,t,n),r){let o=oh(n,t),a=e[Tt],c=Xh(a,t[Pr]);c!==null&&uN(i,t[Wt],a,e,c,o)}let s=e[Sc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Pc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Rn(s)),Mn(s)&&sP(s,r);let o=n.type;if(o&8)Pc(t,e,n.child,r);else if(o&32){let a=Zh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=II(e,n);if(Array.isArray(a))r.push(...a);else{let c=Xs(e[on]);Pc(c[q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sP(t,e){for(let n=It;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&Pc(r[q],r,i,e)}t[Pr]!==t[Pn]&&e.push(t[Pr])}var UI=[];function oP(t){return t[xr]??aP(t)}function aP(t){let e=UI.pop()??Object.create(uP);return e.lView=t,e}function cP(t){t.lView[xr]!==t&&(t.lView=null,UI.push(t))}var uP=fe(C({},F_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zs(t.lView)},consumerOnSignalRead(){this.lView[xr]=this}});function BI(t){return $I(t[Js])}function jI(t){return $I(t[Ht])}function $I(t){for(;t!==null&&!Mn(t);)t=t[Ht];return t}var HI=100;function qI(t,e=!0,n=0){let r=t[zt],i=r.rendererFactory,s=!1;s||i.begin?.();try{lP(t,n)}catch(o){throw e&&LI(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function lP(t,e){uh(t,e);let n=0;for(;Uh(t);){if(n===HI)throw new P(103,!1);n++,uh(t,1)}}function dP(t,e,n,r){let i=e[M];if((i&256)===256)return;let s=!1;!s&&e[zt].inlineEffectRunner?.flush(),jh(e);let o=null,a=null;!s&&hP(t)&&(a=oP(e),o=L_(a));try{Mw(e),px(t.bindingStartIndex),n!==null&&AI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&yc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&_c(e,d,0,null),kd(e,0)}if(fP(e),zI(e,0),t.contentQueries!==null&&kI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&yc(e,d)}else{let d=t.contentHooks;d!==null&&_c(e,d,1),kd(e,1)}DN(t,e);let u=t.components;u!==null&&GI(e,u,0);let l=t.viewQuery;if(l!==null&&ch(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&yc(e,d)}else{let d=t.viewHooks;d!==null&&_c(e,d,2),kd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Md]){for(let d of e[Md])d();e[Md]=null}s||(e[M]&=-73)}catch(c){throw Zs(e),c}finally{a!==null&&(V_(a,o),cP(a)),$h()}}function hP(t){return t.type!==2}function zI(t,e){for(let n=BI(t);n!==null;n=jI(n))for(let r=It;r<n.length;r++){let i=n[r];WI(i,e)}}function fP(t){for(let e=BI(t);e!==null;e=jI(e)){if(!(e[M]&Fh.HasTransplantedViews))continue;let n=e[Bi];for(let r=0;r<n.length;r++){let i=n[r],s=i[He];ix(i)}}}function pP(t,e,n){let r=Or(e,t);WI(r,n)}function WI(t,e){Vh(t)&&uh(t,e)}function uh(t,e){let r=t[q],i=t[M],s=t[xr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ud(s)),s&&(s.dirty=!1),t[M]&=-9217,o)dP(r,t,r.template,t[Dn]);else if(i&8192){zI(t,1);let a=r.components;a!==null&&GI(t,a,1)}}function GI(t,e,n){for(let r=0;r<e.length;r++)pP(t,e[r],n)}function sf(t){for(t[zt].changeDetectionScheduler?.notify();t;){t[M]|=64;let e=Xs(t);if(KR(t)&&!e)return t;t=e}return null}var kr=class{get rootNodes(){let e=this._lView,n=e[q];return Pc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return(this._lView[M]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(Mn(e)){let n=e[Dc],r=n?n.indexOf(this):-1;r>-1&&(sh(e,r),Cc(n,r))}this._attachedToViewContainer=!1}_I(this._lView[q],this._lView)}onDestroy(e){kw(this._lView,e)}markForCheck(){sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[M]&=-129}reattach(){Jd(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,qI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,gI(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,Jd(this._lView)}},to=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yP;let t=e;return t})(),mP=to,gP=class extends mP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=rP(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new kr(i)}};function yP(){return of(kt(),xe())}function of(t,e){return t.type&4?new gP(e,t,qi(t,e)):null}var Z6=new RegExp(`^(\\d+)*(${Wx}|${zx})*(.*)`);var _P=()=>null;function Bv(t,e){return _P(t,e)}var Mc=class{},lh=class{},kc=class{};function vP(t){let e=Error(`No component factory found for ${wt(t)}.`);return e[wP]=t,e}var wP="ngComponent";var dh=class{resolveComponentFactory(e){throw vP(e)}},zi=(()=>{let e=class e{};e.NULL=new dh;let t=e;return t})(),no=class{},Qc=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>IP();let t=e;return t})();function IP(){let t=xe(),e=kt(),n=Or(e.index,t);return(Ar(n)?n:t)[Tt]}var EP=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ud={};var jv=new Set;function af(t){jv.has(t)||(jv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function $v(...t){}function TP(){let t=typeof Dr.requestAnimationFrame=="function",e=Dr[t?"requestAnimationFrame":"setTimeout"],n=Dr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var V=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=TP().nativeRequestAnimationFrame,SP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,CP,$v,$v);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},CP={};function cf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hh(t),t.isCheckStableRunning=!0,cf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hh(t))}function SP(t){let e=()=>{bP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(DP(a))return n.invokeTask(i,s,o,a);try{return Hv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Hv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),qv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,hh(t),cf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function hh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qv(t){t._nesting--,cf(t)}function DP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ki=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ki||{}),AP={destroy(){}};function uf(t,e){!e&&WR(uf);let n=e?.injector??T(pe);if(!sN(n))return AP;af("NgAfterNextRender");let r=n.get(lf),i=r.handler??=new ph,s=e?.phase??ki.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Wh).onDestroy(o),c=Nn(n,()=>new fh(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var fh=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=T(V),this.errorHandler=T(an,{optional:!0}),T(Mc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ph=class{constructor(){this.executingCallbacks=!1,this.buckets={[ki.EarlyRead]:new Set,[ki.Write]:new Set,[ki.MixedReadWrite]:new Set,[ki.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},lf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function mh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=mv(i,a);else if(s==2){let c=a,u=e[++o];r=mv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Oc=class extends zi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=rr(e);return new Hi(n,this.ngModule)}};function zv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function RP(t){let e=t.toLowerCase();return e==="svg"?ZR:e==="math"?XR:null}var gh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Uc(r);let i=this.injector.get(e,Ud,r);return i!==Ud||n===Ud?i:this.parentInjector.get(e,n,r)}},Hi=class extends kc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=zv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return zv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=NR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ne(null);try{i=i||this.ngModule;let o=i instanceof Et?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new gh(e,o):e,c=a.get(no,null);if(c===null)throw new P(407,!1);let u=a.get(EP,null),l=a.get(lf,null),d=a.get(Mc,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},y=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=r?PN(y,r,this.componentDef.encapsulation,a):mI(y,_,RP(_)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let D=null;v!==null&&(D=Yh(v,a,!0));let ee=NI(0,null,null,1,0,null,null,null,null,null,null),te=Kc(null,ee,null,E,null,null,h,y,a,null,D);jh(te);let b,X;try{let z=this.componentDef,ue,ve=null;z.findHostDirectiveDefs?(ue=[],ve=new Map,z.findHostDirectiveDefs(z,ue,ve),ue.push(z)):ue=[z];let Je=xP(te,v),Gn=NP(Je,v,z,ue,te,h,y);X=Pw(ee,Nr),v&&kP(y,z,v,r),n!==void 0&&OP(X,this.ngContentSelectors,n),b=MP(Gn,z,ue,ve,te,[FP]),rf(ee,te,null)}finally{$h()}return new yh(this.componentType,b,qi(X,te),te,X)}finally{ne(s)}}},yh=class extends lh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new kr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;VI(s[q],s,i,e,n),this.previousInputValues.set(e,n);let o=Or(this._tNode.index,s);sf(o)}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xP(t,e){let n=t[q],r=Nr;return t[r]=e,tf(n,r,2,"#host",null)}function NP(t,e,n,r,i,s,o){let a=i[q];PP(r,t,e,o);let c=null;e!==null&&(c=Yh(e,i[Ui]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Kc(i,xI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&ah(a,t,r.length-1),nf(i,d),i[t.index]=d}function PP(t,e,n,r){for(let i of t)e.mergedAttrs=Ph(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(mh(e,e.mergedAttrs,!0),n!==null&&TI(r,n,e))}function MP(t,e,n,r,i,s){let o=kt(),a=i[q],c=Gt(o,i);PI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=ji(i,a,d,o);$i(h,i)}MI(a,i,o),c&&$i(c,i);let u=ji(i,a,o.directiveStart+o.componentOffset,o);if(t[Dn]=i[Dn]=u,s!==null)for(let l of s)l(u,e);return RI(a,o,i),u}function kP(t,e,n,r){if(r)zd(t,n,["ng-version","17.3.0"]);else{let{attrs:i,classes:s}=PR(e.selectors[0]);i&&zd(t,n,i),s&&s.length>0&&EI(t,n,s.join(" "))}}function OP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function FP(){let t=kt();Gw(xe()[q],t)}var Wi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LP;let t=e;return t})();function LP(){let t=kt();return QI(t,xe())}var VP=Wi,KI=class extends VP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qi(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hh(this._hostTNode,this._hostLView);if(Qw(e)){let n=Rc(e,this._hostLView),r=Ac(e),i=n[q].data[r+8];return new Rr(i,n)}else return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Wv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Bv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Uv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!GR(e),a;if(o)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let c=o?e:new Hi(rr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?u:this.parentInjector).get(Et,null);v&&(s=v)}let l=rr(c.componentType??{}),d=Bv(this._lContainer,l?.id??null),h=d?.firstChild??null,y=c.create(u,i,h,s);return this.insertImpl(y.hostView,a,Uv(this._hostTNode,d)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(rx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[He],u=new KI(c,c[Wt],c[He]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return iP(o,i,s,r),e.attachToViewContainerRef(),cw(Bd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Wv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);r&&(Cc(Bd(this._lContainer),n),_I(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);return r&&Cc(Bd(this._lContainer),n)!=null?new kr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Wv(t){return t[Dc]}function Bd(t){return t[Dc]||(t[Dc]=[])}function QI(t,e){let n,r=e[t.index];return Mn(r)?n=r:(n=XN(r,e,null,t),e[t.index]=n,nf(e,n)),BP(n,e,t,r),new KI(n,t,e)}function UP(t,e){let n=t[Tt],r=n.createComment(""),i=Gt(e,t),s=Xh(n,i);return Nc(n,s,r,_N(n,i),!1),r}var BP=jP;function jP(t,e,n,r){if(t[Pr])return;let i;n.type&8?i=Rn(r):i=UP(e,n),t[Pr]=i}var _h=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},vh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)df(e,n).matches!==null&&this.queries[n].setDirty()}},wh=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=QP(e):this.predicate=e}},Ih=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Eh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,$P(n,s)),this.matchTNodeWithReadOption(e,n,vc(n,e,s,!1,!1))}else r===to?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,vc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===cn||i===Wi||i===to&&n.type&4)this.addMatch(n.index,-2);else{let s=vc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function $P(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function HP(t,e){return t.type&11?qi(t,e):t.type&4?of(t,e):null}function qP(t,e,n,r){return n===-1?HP(e,t):n===-2?zP(t,e,r):ji(t,t[q],n,e)}function zP(t,e,n){if(n===cn)return qi(e,t);if(n===to)return of(e,t);if(n===Wi)return QI(e,t)}function YI(t,e,n,r){let i=e[An].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(qP(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Th(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=YI(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=It;d<l.length;d++){let h=l[d];h[oo]===h[He]&&Th(h[q],h,u,r)}if(l[Bi]!==null){let d=l[Bi];for(let h=0;h<d.length;h++){let y=d[h];Th(y[q],y,u,r)}}}}}return r}function WP(t,e){return t[An].queries[e].queryList}function GP(t,e,n){let r=new rh((n&4)===4);return ON(t,e,r,r.destroy),(e[An]??=new vh).queries.push(new _h(r))-1}function KP(t,e,n){let r=Fr();return r.firstCreatePass&&(YP(r,new wh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),GP(r,xe(),e)}function QP(t){return t.split(",").map(e=>e.trim())}function YP(t,e,n){t.queries===null&&(t.queries=new Ih),t.queries.track(new Eh(e,n))}function df(t,e){return t.queries.getByIndex(e)}function JP(t,e){let n=t[q],r=df(n,e);return r.crossesNgTemplate?Th(n,t,e,[]):YI(n,t,r,e)}function hf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ir=class{},ro=class{};var Ch=class extends ir{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Oc(this);let i=yw(e);this._bootstrapComponents=pI(i.bootstrap),this._r3Injector=sI(e,n,[{provide:ir,useValue:this},{provide:zi,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bh=class extends ro{constructor(e){super(),this.moduleType=e}create(e){return new Ch(this.moduleType,e,[])}};var Fc=class extends ir{constructor(e){super(),this.componentFactoryResolver=new Oc(this),this.instance=null;let n=new Qs([...e.providers,{provide:ir,useValue:this},{provide:zi,useValue:this.componentFactoryResolver}],e.parent||Oh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yc(t,e,n=null){return new Fc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Jc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZP(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function XP(t){return(t.flags&32)===32}function ff(t,e,n,r){let i=xe(),s=mx();if(ZP(i,s,e)){let o=Fr(),a=Ix();QN(a,i,t,e,n,r)}return ff}function Gv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";VI(t,n,s[o],o,r)}function eM(t,e,n,r,i,s){let o=e.consts,a=Dv(o,i),c=tf(e,t,2,r,a);return VN(e,n,c,Dv(o,s)),c.attrs!==null&&mh(c,c.attrs,!1),c.mergedAttrs!==null&&mh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=xe(),s=Fr(),o=Nr+t,a=i[Tt],c=s.firstCreatePass?eM(o,s,i,e,n,r):s.data[o],u=tM(s,i,c,a,e,t);i[o]=u;let l=Dw(c);return qc(c,!0),TI(a,u,c),!XP(c)&&zw()&&wI(s,i,u,c),ox()===0&&$i(u,i),ax(),l&&(RN(s,i,c),RI(s,c,i)),r!==null&&xN(i,c),f}function p(){let t=kt();Lw()?fx():(t=t.parent,qc(t,!1));let e=t;lx(e)&&dx(),cx();let n=Fr();return n.firstCreatePass&&(Gw(n,t),Sw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Sx(e)&&Gv(n,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Dx(e)&&Gv(n,e,xe(),e.stylesWithoutHost,!1),p}function x(t,e,n,r){return f(t,e,n,r),p(),x}var tM=(t,e,n,r,i,s)=>(Ww(!0),mI(r,i,Ex()));var Lc="en-US";var nM=Lc;function rM(t){typeof t=="string"&&(nM=t.toLowerCase().replace(/_/g,"-"))}function pf(t,e,n,r){let i=xe(),s=Fr(),o=kt();return sM(s,i,i[Tt],o,t,e,r),pf}function iM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ys],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function sM(t,e,n,r,i,s,o){let a=Dw(r),u=t.firstCreatePass&&FI(t),l=e[Dn],d=OI(e),h=!0;if(r.type&3||o){let v=Gt(r,e),E=o?o(v):v,D=d.length,ee=o?b=>o(Rn(b[r.index])):r.index,te=null;if(!o&&a&&(te=iM(t,e,i,r.index)),te!==null){let b=te.__ngLastListenerFn__||te;b.__ngNextListenerFn__=s,te.__ngLastListenerFn__=s,h=!1}else{s=Qv(r,e,l,s,!1);let b=n.listen(E,i,s);d.push(s,b),u&&u.push(i,ee,D,D+1)}}else s=Qv(r,e,l,s,!1);let y=r.outputs,_;if(h&&y!==null&&(_=y[i])){let v=_.length;if(v)for(let E=0;E<v;E+=2){let D=_[E],ee=_[E+1],X=e[D][ee].subscribe(s),z=d.length;d.push(s,X),u&&u.push(i,r.index,z,-(z+1))}}}function Kv(t,e,n,r){let i=ne(null);try{return nn(6,e,n),n(r)!==!1}catch(s){return LI(t,s),!1}finally{nn(7,e,n),ne(i)}}function Qv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Or(t.index,e):e;sf(a);let c=Kv(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Kv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Gi(t,e,n){KP(t,e,n)}function Vr(t){let e=xe(),n=Fr(),r=Vw();Bh(r+1);let i=df(n,r);if(t.dirty&&nx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=JP(e,r);t.reset(s,jx),t.notifyOnChanges()}return!0}return!1}function Ur(){return WP(xe(),Vw())}function m(t,e=""){let n=xe(),r=Fr(),i=t+Nr,s=r.firstCreatePass?tf(r,i,1,e,null):r.data[i],o=oM(r,n,s,e,t);n[i]=o,zw()&&wI(r,n,o,s),qc(s,!1)}var oM=(t,e,n,r,i)=>(Ww(!0),aN(e[Tt],r));var aM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=ww(!1,r.type),s=i.length>0?Yc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(S(Et))});let t=e;return t})();function oe(t){af("NgStandalone"),t.getStandaloneInjector=e=>e.get(aM).getOrCreateStandaloneInjector(t)}var sr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},JI=new sr("17.3.0"),Zc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ZI=new R("");function uo(t){return!!t&&typeof t.then=="function"}function XI(t){return!!t&&typeof t.subscribe=="function"}var or=new R(""),eE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=T(or,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(uo(o))r.push(o);else if(XI(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xc=new R("");function cM(){B_(()=>{throw new P(600,!1)})}function uM(t){return t.isBoundToModule}function lM(t,e,n){try{let r=n();return uo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var lo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(oI),this.afterRenderEffectManager=T(lf),this.externalTestViews=new Set,this.beforeRender=new Pe,this.afterTick=new Pe,this.componentTypes=[],this.components=[],this.isStable=T(Jc).hasPendingTasks.pipe(W(r=>!r)),this._injector=T(Et)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof kc;if(!this._injector.get(eE).done){let y=!s&&gw(r),_=!1;throw new P(405,_)}let a;s?a=r:a=this._injector.get(zi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=uM(a)?void 0:this._injector.get(ir),u=i||a.selector,l=a.create(pe.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(ZI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),jd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new P(101,!1);let i=ne(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ne(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===HI)throw new P(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)dM(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Sh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Sh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;jd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Xc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>jd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function dM(t,e,n){!e&&!Sh(t)||hM(t,n,e)}function Sh(t){return Uh(t)}function hM(t,e,n){let r;n?(r=0,t[M]|=1024):t[M]&64?r=0:r=1,qI(t,e,r)}var Dh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},eu=(()=>{let e=class e{compileModuleSync(r){return new bh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=yw(r),o=pI(s.declarations).reduce((a,c)=>{let u=rr(c);return u&&a.push(new Hi(u)),a},[]);return new Dh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fM=(()=>{let e=class e{constructor(){this.zone=T(V),this.applicationRef=T(lo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pM(t){return[{provide:V,useFactory:t},{provide:Vi,multi:!0,useFactory:()=>{let e=T(fM,{optional:!0});return()=>e.initialize()}},{provide:Vi,multi:!0,useFactory:()=>{let e=T(_M);return()=>{e.initialize()}}},{provide:oI,useFactory:mM}]}function mM(){let t=T(V),e=T(an);return n=>t.runOutsideAngular(()=>e.handleError(n))}function gM(t){let e=pM(()=>new V(yM(t)));return jc([[],e])}function yM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var _M=(()=>{let e=class e{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=T(V),this.pendingTasks=T(Jc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{V.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{V.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vM(){return typeof $localize<"u"&&$localize.locale||Lc}var mf=new R("",{providedIn:"root",factory:()=>T(mf,H.Optional|H.SkipSelf)||vM()});var tE=new R("");var Ic=null;function wM(t=[],e){return pe.create({name:e,providers:[{provide:$c,useValue:"platform"},{provide:tE,useValue:new Set([()=>Ic=null])},...t]})}function IM(t=[]){if(Ic)return Ic;let e=wM(t);return Ic=e,cM(),EM(e),e}function EM(t){t.get(Kh,null)?.forEach(n=>n())}var ho=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TM;let t=e;return t})();function TM(t){return CM(kt(),xe(),(t&16)===16)}function CM(t,e,n){if(Lh(t)&&!n){let r=Or(t.index,e);return new kr(r,r)}else if(t.type&47){let r=e[on];return new kr(r,e)}return null}function nE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=IM(r),s=[gM(),...n||[]],a=new Fc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(V);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(an,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:y=>{u.handleError(y)}})});let d=()=>a.destroy(),h=i.get(tE);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),lM(u,c,()=>{let y=a.get(eE);return y.runInitializers(),y.donePromise.then(()=>{let _=a.get(mf,Lc);rM(_||Lc);let v=a.get(lo);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}function fo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function rE(t){let e=rr(t);if(!e)return null;let n=new Hi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var oE=null;function Ki(){return oE}function aE(t){oE??=t}var tu=class{};var ht=new R(""),_f=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>T(bM),providedIn:"platform"});let t=e;return t})(),cE=new R(""),bM=(()=>{let e=class e extends _f{constructor(){super(),this._doc=T(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ki().getBaseHref(this._doc)}onPopState(r){let i=Ki().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ki().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function vf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function iE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kn(t){return t&&t[0]!=="?"?"?"+t:t}var On=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>T(wf),providedIn:"root"});let t=e;return t})(),uE=new R(""),wf=(()=>{let e=class e extends On{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??T(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return vf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+kn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+kn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+kn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(_f),S(uE,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lE=(()=>{let e=class e extends On{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=vf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+kn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+kn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(_f),S(uE,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Qi=(()=>{let e=class e{constructor(r){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=AM(iE(sE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+kn(i))}normalize(r){return e.stripTrailingSlash(DM(this._basePath,sE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=kn,e.joinWithSlash=vf,e.stripTrailingSlash=iE,e.\u0275fac=function(i){return new(i||e)(S(On))},e.\u0275prov=N({token:e,factory:()=>SM(),providedIn:"root"});let t=e;return t})();function SM(){return new Qi(S(On))}function DM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sE(t){return t.replace(/\/index.html$/,"")}function AM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function dE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var If="browser",RM="server";function xM(t){return t===If}function Ef(t){return t===RM}var hE=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>xM(T(un))?new gf(T(ht),window):new yf});let t=e;return t})(),gf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=NM(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function NM(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var yf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},nu=class{};var bf=class extends tu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sf=class t extends bf{static makeCurrent(){aE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=MM();return n==null?null:kM(n)}resetBaseElement(){po=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dE(document.cookie,e)}},po=null;function MM(){return po=po||document.querySelector("base"),po?po.getAttribute("href"):null}function kM(t){return new URL(t,document.baseURI).pathname}var OM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Df=new R(""),gE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(Df),S(V))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),ru=class{constructor(e){this._doc=e}},Tf="ng-app-id",yE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ef(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Tf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Tf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Tf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(ht),S(Gh),S(Qh,8),S(un))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Cf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rf=/%COMP%/g,_E="%COMP%",FM=`_nghost-${_E}`,LM=`_ngcontent-${_E}`,VM=!0,UM=new R("",{providedIn:"root",factory:()=>VM});function BM(t){return LM.replace(Rf,t)}function jM(t){return FM.replace(Rf,t)}function vE(t,e){return e.map(n=>n.replace(Rf,t))}var fE=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ef(c),this.defaultRenderer=new mo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===sn.ShadowDom&&(i=fe(C({},i),{encapsulation:sn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof iu?s.applyToHost(r):s instanceof go&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case sn.Emulated:o=new iu(u,l,i,this.appId,d,a,c,h);break;case sn.ShadowDom:return new Af(u,l,r,i,a,c,this.nonce,h);default:o=new go(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(gE),S(yE),S(Gh),S(UM),S(ht),S(un),S(V),S(Qh))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),mo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Cf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Cf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Cf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Lr.DashCase|Lr.Important)?e.style.setProperty(n,r,i&Lr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Lr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ki().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function pE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Af=class extends mo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=vE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},go=class extends mo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?vE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},iu=class extends go{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=BM(u),this.hostAttr=jM(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},$M=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(ht))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),mE=["alt","control","meta","shift"],HM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},zM=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ki().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),mE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=HM[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),mE.forEach(a=>{if(a!==s){let c=qM[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(ht))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function wE(t,e){return nE(C({rootComponent:t},WM(e)))}function WM(t){return{appProviders:[...JM,...t?.providers??[]],platformProviders:YM}}function GM(){Sf.makeCurrent()}function KM(){return new an}function QM(){return cI(document),document}var YM=[{provide:un,useValue:If},{provide:Kh,useValue:GM,multi:!0},{provide:ht,useFactory:QM,deps:[]}];var JM=[{provide:$c,useValue:"root"},{provide:an,useFactory:KM,deps:[]},{provide:Df,useClass:$M,multi:!0,deps:[ht,V,un]},{provide:Df,useClass:zM,multi:!0,deps:[ht]},fE,yE,gE,{provide:no,useExisting:fE},{provide:nu,useClass:OM,deps:[]},[]];var su=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(ht))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U="primary",Mo=Symbol("RouteTitle"),kf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function es(t){return new kf(t)}function ZM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function XM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}function dn(t,e){let n=t?Of(t):void 0,r=e?Of(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xE(t[i],e[i]))return!1;return!0}function Of(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function NE(t){return t.length>0?t[t.length-1]:null}function dr(t){return Cd(t)?t:uo(t)?we(Promise.resolve(t)):A(t)}var e1={exact:ME,subset:kE},PE={exact:t1,subset:n1,ignored:()=>!0};function EE(t,e,n){return e1[n.paths](t.root,e.root,n.matrixParams)&&PE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function t1(t,e){return dn(t,e)}function ME(t,e,n){if(!jr(t.segments,e.segments)||!cu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ME(t.children[r],e.children[r],n))return!1;return!0}function n1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xE(t[n],e[n]))}function kE(t,e,n){return OE(t,e,e.segments,n)}function OE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!jr(i,n)||e.hasChildren()||!cu(i,n,r))}else if(t.segments.length===n.length){if(!jr(t.segments,n)||!cu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!kE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!jr(t.segments,i)||!cu(t.segments,i,r)||!t.children[U]?!1:OE(t.children[U],e,s,r)}}function cu(t,e,n){return e.every((r,i)=>PE[n](t[i].parameters,r.parameters))}var ar=class{constructor(e=new ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=es(this.queryParams),this._queryParamMap}toString(){return s1.serialize(this)}},ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uu(this)}},Br=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=es(this.parameters),this._parameterMap}toString(){return LE(this)}};function r1(t,e){return jr(t,e)&&t.every((n,r)=>dn(n.parameters,e[r].parameters))}function jr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function i1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var ko=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new To,providedIn:"root"});let t=e;return t})(),To=class{parse(e){let n=new Lf(e);return new ar(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${yo(e.root,!0)}`,r=c1(e.queryParams),i=typeof e.fragment=="string"?`#${o1(e.fragment)}`:"";return`${n}${r}${i}`}},s1=new To;function uu(t){return t.segments.map(e=>LE(e)).join("/")}function yo(t,e){if(!t.hasChildren())return uu(t);if(e){let n=t.children[U]?yo(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==U&&r.push(`${i}:${yo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=i1(t,(r,i)=>i===U?[yo(t.children[U],!1)]:[`${i}:${yo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${uu(t)}/${n[0]}`:`${uu(t)}/(${n.join("//")})`}}function FE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ou(t){return FE(t).replace(/%3B/gi,";")}function o1(t){return encodeURI(t)}function Ff(t){return FE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lu(t){return decodeURIComponent(t)}function TE(t){return lu(t.replace(/\+/g,"%20"))}function LE(t){return`${Ff(t.path)}${a1(t.parameters)}`}function a1(t){return Object.entries(t).map(([e,n])=>`;${Ff(e)}=${Ff(n)}`).join("")}function c1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ou(n)}=${ou(i)}`).join("&"):`${ou(n)}=${ou(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var u1=/^[^\/()?;#]+/;function xf(t){let e=t.match(u1);return e?e[0]:""}var l1=/^[^\/()?;=#]+/;function d1(t){let e=t.match(l1);return e?e[0]:""}var h1=/^[^=?&#]+/;function f1(t){let e=t.match(h1);return e?e[0]:""}var p1=/^[^&#]+/;function m1(t){let e=t.match(p1);return e?e[0]:""}var Lf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ae(e,n)),r}parseSegment(){let e=xf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Br(lu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=d1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xf(this.remaining);i&&(r=i,this.capture(r))}e[lu(n)]=lu(r)}parseQueryParam(e){let n=f1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=m1(this.remaining);o&&(r=o,this.capture(r))}let i=TE(n),s=TE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=U);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[U]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function VE(t){return t.segments.length>0?new ae([],{[U]:t}):t}function UE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=UE(i);if(r===U&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ae(t.segments,e);return g1(n)}function g1(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ae(t.segments.concat(e.segments),e.children)}return t}function ts(t){return t instanceof ar}function y1(t,e,n=null,r=null){let i=BE(t);return jE(i,e,n,r)}function BE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ae(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=VE(r);return e??i}function jE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Nf(i,i,i,n,r);let s=_1(e);if(s.toRoot())return Nf(i,i,new ae([],{}),n,r);let o=v1(s,i,t),a=o.processChildren?wo(o.segmentGroup,o.index,s.commands):HE(o.segmentGroup,o.index,s.commands);return Nf(i,o.segmentGroup,a,n,r)}function du(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Co(t){return typeof t=="object"&&t!=null&&t.outlets}function Nf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=$E(t,e,n);let a=VE(UE(o));return new ar(a,s,i)}function $E(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=$E(s,e,n)}),new ae(t.segments,r)}var hu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&du(r[0]))throw new P(4003,!1);let i=r.find(Co);if(i&&i!==NE(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hu(n,e,r)}var Zi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function v1(t,e,n){if(t.isAbsolute)return new Zi(e,!0,0);if(!n)return new Zi(e,!1,NaN);if(n.parent===null)return new Zi(n,!0,0);let r=du(t.commands[0])?0:1,i=n.segments.length-1+r;return w1(n,i,t.numberOfDoubleDots)}function w1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Zi(r,!1,i-s)}function I1(t){return Co(t[0])?t[0].outlets:{[U]:t}}function HE(t,e,n){if(t??=new ae([],{}),t.segments.length===0&&t.hasChildren())return wo(t,e,n);let r=E1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[U]=new ae(t.segments.slice(r.pathIndex),t.children),wo(s,0,i)}else return r.match&&i.length===0?new ae(t.segments,{}):r.match&&!t.hasChildren()?Vf(t,e,n):r.match?wo(t,0,i):Vf(t,e,n)}function wo(t,e,n){if(n.length===0)return new ae(t.segments,{});{let r=I1(n),i={};if(Object.keys(r).some(s=>s!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let s=wo(t.children[U],e,n);return new ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=HE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ae(t.segments,i)}}function E1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Co(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!bE(c,u,o))return s;r+=2}else{if(!bE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Co(s)){let c=T1(s.outlets);return new ae(r,c)}if(i===0&&du(n[0])){let c=t.segments[e];r.push(new Br(c.path,CE(n[0]))),i++;continue}let o=Co(s)?s.outlets[U]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&du(a)?(r.push(new Br(o,CE(a))),i+=2):(r.push(new Br(o,{})),i++)}return new ae(r,{})}function T1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Vf(new ae([],{}),0,r))}),e}function CE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bE(t,e,n){return t==n.path&&dn(e,n.parameters)}var Io="imperative",Oe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Oe||{}),Ot=class{constructor(e,n){this.id=e,this.url=n}},ns=class extends Ot{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Oe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Ot{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Oe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(bt||{}),fu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fu||{}),cr=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Oe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ur=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Oe.NavigationSkipped}},bo=class extends Ot{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Oe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pu=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class extends Ot{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Oe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jf=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Oe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hf=class{constructor(e){this.route=e,this.type=Oe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qf=class{constructor(e){this.route=e,this.type=Oe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zf=class{constructor(e){this.snapshot=e,this.type=Oe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wf=class{constructor(e){this.snapshot=e,this.type=Oe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gf=class{constructor(e){this.snapshot=e,this.type=Oe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},So=class{constructor(e){this.snapshot=e,this.type=Oe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Oe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Do=class{},Ao=class{constructor(e){this.url=e}};var Kf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Oo,this.attachRef=null}},Oo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Qf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Qf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Yf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yf(e,this._root).map(n=>n.value)}};function Qf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Qf(t,n);if(r)return r}return null}function Yf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Yf(t,n);if(r.length)return r.unshift(e),r}return[]}var Ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ji(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yu=class extends gu{constructor(e,n){super(e),this.snapshot=n,op(this,e)}toString(){return this.snapshot.toString()}};function qE(t){let e=C1(t),n=new $e([new Br("",{})]),r=new $e({}),i=new $e({}),s=new $e({}),o=new $e(""),a=new lr(n,r,s,o,i,U,t,e.root);return a.snapshot=e.root,new yu(new Ct(a,[]),e)}function C1(t){let e={},n={},r={},i="",s=new Ro([],e,r,i,n,U,t,null,{});return new _u("",new Ct(s,[]))}var lr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(u=>u[Mo]))??A(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>es(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>es(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),i?.data),t._resolvedData)}:r={params:C({},t.params),data:C({},t.data),resolve:C(C({},t.data),t._resolvedData??{})},i&&WE(i)&&(r.resolve[Mo]=i.title),r}var Ro=class{get title(){return this.data?.[Mo]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=es(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=es(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_u=class extends gu{constructor(e,n){super(n),this.url=e,op(this,n)}toString(){return zE(this._root)}};function op(t,e){e.value._routerState=t,e.children.forEach(n=>op(t,n))}function zE(t){let e=t.children.length>0?` { ${t.children.map(zE).join(", ")} } `:"";return`${t.value}${e}`}function Pf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dn(e.params,n.params)||t.paramsSubject.next(n.params),XM(e.url,n.url)||t.urlSubject.next(n.url),dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Jf(t,e){let n=dn(t.params,e.params)&&r1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Jf(t.parent,e.parent))}function WE(t){return typeof t.title=="string"||t.title===null}var ap=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=T(Oo),this.location=T(Wi),this.changeDetector=T(ho),this.environmentInjector=T(Et),this.inputBinder=T(Eu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Zf(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Bc({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[co]});let t=e;return t})(),Zf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===lr?this.route:e===Oo?this.childContexts:this.parent.get(e,n)}},Eu=new R(""),SE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Hs([i.queryParams,i.params,i.data]).pipe(st(([o,a,c],u)=>(c=C(C(C({},o),a),c),u===0?A(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=rE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function b1(t,e,n){let r=xo(t,e._root,n?n._root:void 0);return new yu(r,e)}function xo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=S1(t,e,n);return new Ct(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>xo(t,a)),o}}let r=D1(e.value),i=e.children.map(s=>xo(t,s));return new Ct(r,i)}}function S1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xo(t,r,i);return xo(t,r)})}function D1(t){return new lr(new $e(t.url),new $e(t.params),new $e(t.queryParams),new $e(t.fragment),new $e(t.data),t.outlet,t.component,t)}var GE="ngNavigationCancelingError";function KE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QE(!1,bt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function QE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[GE]=!0,n.cancellationCode=e,n}function A1(t){return YE(t)&&ts(t.url)}function YE(t){return!!t&&t[GE]}var cp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["ng-component"]],standalone:!0,features:[oe],decls:1,vars:0,template:function(i,s){i&1&&x(0,"router-outlet")},dependencies:[ap],encapsulation:2});let t=e;return t})();function R1(t,e){return t.providers&&!t._injector&&(t._injector=Yc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function up(t){let e=t.children&&t.children.map(up),n=e?fe(C({},t),{children:e}):C({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=cp),n}function fn(t){return t.outlet||U}function x1(t,e){let n=t.filter(r=>fn(r)===e);return n.push(...t.filter(r=>fn(r)!==e)),n}function Fo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var N1=(t,e,n,r)=>W(i=>(new Xf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Xf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ji(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ji(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new So(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Pf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Pf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Fo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},vu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xi=class{constructor(e,n){this.component=e,this.route=n}};function P1(t,e,n){let r=t._root,i=e?e._root:null;return _o(r,i,n,[r.value])}function M1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ew(t)?t:e.get(t):r}function _o(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ji(e);return t.children.forEach(o=>{k1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Eo(a,n.getContext(o),i)),i}function k1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=O1(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?_o(t,e,a?a.children:null,r,i):_o(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xi(a.outlet.component,o))}else o&&Eo(e,a,i),i.canActivateChecks.push(new vu(r)),s.component?_o(t,null,a?a.children:null,r,i):_o(t,null,n,r,i);return i}function O1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!jr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!jr(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jf(t,e)||!dn(t.queryParams,e.queryParams);case"paramsChange":default:return!Jf(t,e)}}function Eo(t,e,n){let r=Ji(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Eo(o,e.children.getContext(s),n):Eo(o,null,n):Eo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xi(e.outlet.component,i)):n.canDeactivateChecks.push(new Xi(null,i)):n.canDeactivateChecks.push(new Xi(null,i))}function Lo(t){return typeof t=="function"}function F1(t){return typeof t=="boolean"}function L1(t){return t&&Lo(t.canLoad)}function V1(t){return t&&Lo(t.canActivate)}function U1(t){return t&&Lo(t.canActivateChild)}function B1(t){return t&&Lo(t.canDeactivate)}function j1(t){return t&&Lo(t.canMatch)}function JE(t){return t instanceof bn||t?.name==="EmptyError"}var au=Symbol("INITIAL_VALUE");function rs(){return st(t=>Hs(t.map(e=>e.pipe(Sn(1),zs(au)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===au)return au;if(n===!1||n instanceof ar)return n}return!0}),it(e=>e!==au),Sn(1)))}function $1(t,e){return Ee(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?A(fe(C({},n),{guardsResult:!0})):H1(o,r,i,t).pipe(Ee(a=>a&&F1(a)?q1(r,s,t,e):A(a)),W(a=>fe(C({},n),{guardsResult:a})))})}function H1(t,e,n,r){return we(t).pipe(Ee(i=>Q1(i.component,i.route,n,e,r)),en(i=>i!==!0,!0))}function q1(t,e,n,r){return we(e).pipe(Xn(i=>Ri(W1(i.route.parent,r),z1(i.route,r),K1(t,i.path,n),G1(t,i.route,n))),en(i=>i!==!0,!0))}function z1(t,e){return t!==null&&e&&e(new Gf(t)),A(!0)}function W1(t,e){return t!==null&&e&&e(new zf(t)),A(!0)}function G1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(s=>hc(()=>{let o=Fo(e)??n,a=is(s,o),c=V1(a)?a.canActivate(e,t):Nn(o,()=>a(e,t));return dr(c).pipe(en())}));return A(i).pipe(rs())}function K1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>M1(o)).filter(o=>o!==null).map(o=>hc(()=>{let a=o.guards.map(c=>{let u=Fo(o.node)??n,l=is(c,u),d=U1(l)?l.canActivateChild(r,t):Nn(u,()=>l(r,t));return dr(d).pipe(en())});return A(a).pipe(rs())}));return A(s).pipe(rs())}function Q1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return A(!0);let o=s.map(a=>{let c=Fo(e)??i,u=is(a,c),l=B1(u)?u.canDeactivate(t,e,n,r):Nn(c,()=>u(t,e,n,r));return dr(l).pipe(en())});return A(o).pipe(rs())}function Y1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return A(!0);let s=i.map(o=>{let a=is(o,t),c=L1(a)?a.canLoad(e,n):Nn(t,()=>a(e,n));return dr(c)});return A(s).pipe(rs(),ZE(r))}function ZE(t){return yd(Re(e=>{if(ts(e))throw KE(t,e)}),W(e=>e===!0))}function J1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return A(!0);let s=i.map(o=>{let a=is(o,t),c=j1(a)?a.canMatch(e,n):Nn(t,()=>a(e,n));return dr(c)});return A(s).pipe(rs(),ZE(r))}var No=class{constructor(e){this.segmentGroup=e||null}},wu=class extends Error{constructor(e){super(),this.urlTree=e}};function Yi(t){return Di(new No(t))}function Z1(t){return Di(new P(4e3,!1))}function X1(t){return Di(QE(!1,bt.GuardRejected))}var ep=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[U])return Z1(e.redirectTo);i=i.children[U]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new wu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ar(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ek(t,e,n,r,i){let s=lp(t,e,n);return s.matched?(r=R1(e,r),J1(r,e,n,i).pipe(W(o=>o===!0?s:C({},tp)))):A(s)}function lp(t,e,n){if(e.path==="**")return tk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?C({},tp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZM)(n,t,e);if(!i)return C({},tp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?C(C({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function tk(t){return{matched:!0,parameters:t.length>0?NE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DE(t,e,n,r){return n.length>0&&ik(t,n,r)?{segmentGroup:new ae(e,rk(r,new ae(n,t.children))),slicedSegments:[]}:n.length===0&&sk(t,n,r)?{segmentGroup:new ae(t.segments,nk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ae(t.segments,t.children),slicedSegments:n}}function nk(t,e,n,r){let i={};for(let s of n)if(Tu(t,e,s)&&!r[fn(s)]){let o=new ae([],{});i[fn(s)]=o}return C(C({},r),i)}function rk(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&fn(r)!==U){let i=new ae([],{});n[fn(r)]=i}return n}function ik(t,e,n){return n.some(r=>Tu(t,e,r)&&fn(r)!==U)}function sk(t,e,n){return n.some(r=>Tu(t,e,r))}function Tu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ok(t,e,n,r){return fn(t)!==r&&(r===U||!Tu(e,n,t))?!1:lp(e,t,n).matched}function ak(t,e,n){return e.length===0&&!t.children[n]}var np=class{};function ck(t,e,n,r,i,s,o="emptyOnly"){return new rp(t,e,n,r,i,o,s).recognize()}var uk=31,rp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ep(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=DE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(n=>{let r=new Ro([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,{},U,this.rootComponentType,null,{}),i=new Ct(r,n),s=new _u("",i),o=y1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,U).pipe(Zn(r=>{if(r instanceof wu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof No?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=sp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(W(s=>s instanceof Ct?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return we(i).pipe(Xn(s=>{let o=r.children[s],a=x1(n,s);return this.processSegmentGroup(e,a,o,s)}),xd((s,o)=>(s.push(...o),s)),er(null),Ad(),Ee(s=>{if(s===null)return Yi(r);let o=XE(s);return lk(o),A(o)}))}processSegment(e,n,r,i,s,o){return we(n).pipe(Xn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Zn(c=>{if(c instanceof No)return A(null);throw c}))),en(a=>!!a),Zn(a=>{if(JE(a))return ak(r,i,s)?A(new np):Yi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return ok(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Yi(i):Yi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=lp(n,i,s);if(!a)return Yi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uk&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ee(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=ek(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(st(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(st(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,y=new Ro(l,h,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,hk(r),fn(r),r.component??r._loadedComponent??null,r,fk(r)),{segmentGroup:_,slicedSegments:v}=DE(n,l,d,c);if(v.length===0&&_.hasChildren())return this.processChildren(u,c,_).pipe(W(D=>D===null?null:new Ct(y,D)));if(c.length===0&&v.length===0)return A(new Ct(y,[]));let E=fn(r)===s;return this.processSegment(u,c,_,v,E?U:s,!0).pipe(W(D=>new Ct(y,D instanceof Ct?[D]:[])))}))):Yi(n)))}getChildConfig(e,n,r){return n.children?A({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):Y1(e,n,r,this.urlSerializer).pipe(Ee(i=>i?this.configLoader.loadChildren(e,n).pipe(Re(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):X1(n))):A({routes:[],injector:e})}};function lk(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function dk(t){let e=t.value.routeConfig;return e&&e.path===""}function XE(t){let e=[],n=new Set;for(let r of t){if(!dk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=XE(r.children);e.push(new Ct(r.value,i))}return e.filter(r=>!n.has(r))}function hk(t){return t.data||{}}function fk(t){return t.resolve||{}}function pk(t,e,n,r,i,s){return Ee(o=>ck(t,e,n,r,o.extractedUrl,i,s).pipe(W(({state:a,tree:c})=>fe(C({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function mk(t,e){return Ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of eT(c))o.add(u);let a=0;return we(o).pipe(Xn(c=>s.has(c)?gk(c,r,t,e):(c.data=sp(c,c.parent,t).resolve,A(void 0))),Re(()=>a++),xi(1),Ee(c=>a===o.size?A(n):vt))})}function eT(t){let e=t.children.map(n=>eT(n)).flat();return[t,...e]}function gk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!WE(i)&&(s[Mo]=i.title),yk(s,t,e,r).pipe(W(o=>(t._resolvedData=o,t.data=sp(t,t.parent,n).resolve,null)))}function yk(t,e,n,r){let i=Of(t);if(i.length===0)return A({});let s={};return we(i).pipe(Ee(o=>_k(t[o],e,n,r).pipe(en(),Re(a=>{s[o]=a}))),xi(1),bd(s),Zn(o=>JE(o)?vt:Di(o)))}function _k(t,e,n,r){let i=Fo(e)??r,s=is(t,i),o=s.resolve?s.resolve(e,n):Nn(i,()=>s(e,n));return dr(o)}function Mf(t){return st(e=>{let n=t(e);return n?we(n).pipe(W(()=>e)):A(e)})}var tT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[Mo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>T(vk),providedIn:"root"});let t=e;return t})(),vk=(()=>{let e=class e extends tT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(su))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vo=new R("",{providedIn:"root",factory:()=>({})}),Po=new R(""),dp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(eu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return A(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=dr(r.loadComponent()).pipe(W(nT),Re(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qs(()=>{this.componentLoaders.delete(r)})),s=new Ti(i,()=>new Pe).pipe(Ei());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return A({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=wk(i,this.compiler,r,this.onLoadEndListener).pipe(qs(()=>{this.childrenLoaders.delete(i)})),a=new Ti(o,()=>new Pe).pipe(Ei());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wk(t,e,n,r){return dr(t.loadChildren()).pipe(W(nT),Ee(i=>i instanceof ro||Array.isArray(i)?A(i):we(e.compileModuleAsync(i))),W(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Po,[],{optional:!0,self:!0}).flat()),{routes:o.map(up),injector:s}}))}function Ik(t){return t&&typeof t=="object"&&"default"in t}function nT(t){return Ik(t)?t.default:t}var hp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>T(Ek),providedIn:"root"});let t=e;return t})(),Ek=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rT=new R(""),iT=new R("");function Tk(t,e,n){let r=t.get(iT),i=t.get(ht);return t.get(V).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),Ck(t))),{onViewTransitionCreated:c}=r;return c&&Nn(t,()=>c({transition:a,from:e,to:n})),o})}function Ck(t){return new Promise(e=>{uf(e,{injector:t})})}var fp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pe,this.transitionAbortSubject=new Pe,this.configLoader=T(dp),this.environmentInjector=T(Et),this.urlSerializer=T(ko),this.rootContexts=T(Oo),this.location=T(Qi),this.inputBindingEnabled=T(Eu,{optional:!0})!==null,this.titleStrategy=T(tT),this.options=T(Vo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=T(hp),this.createViewTransition=T(rT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Hf(s)),i=s=>this.events.next(new qf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(fe(C(C({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new $e({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Io,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(it(o=>o.id!==0),W(o=>fe(C({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),st(o=>{let a=!1,c=!1;return A(o).pipe(st(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",bt.SupersededByNewNavigation),vt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?fe(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new ur(u.id,this.urlSerializer.serialize(u.rawUrl),h,fu.IgnoredSameUrlNavigation)),u.resolve(null),vt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return A(u).pipe(st(h=>{let y=this.transitions?.getValue();return this.events.next(new ns(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions?.getValue()?vt:Promise.resolve(h)}),pk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Re(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=fe(C({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let y=new pu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:y,source:_,restoredState:v,extras:E}=u,D=new ns(h,this.urlSerializer.serialize(y),_,v);this.events.next(D);let ee=qE(this.rootComponentType).snapshot;return this.currentTransition=o=fe(C({},u),{targetSnapshot:ee,urlAfterRedirects:y,extras:fe(C({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,A(o)}else{let h="";return this.events.next(new ur(u.id,this.urlSerializer.serialize(u.extractedUrl),h,fu.IgnoredByUrlHandlingStrategy)),u.resolve(null),vt}}),Re(u=>{let l=new Uf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),W(u=>(this.currentTransition=o=fe(C({},u),{guards:P1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),$1(this.environmentInjector,u=>this.events.next(u)),Re(u=>{if(o.guardsResult=u.guardsResult,ts(u.guardsResult))throw KE(this.urlSerializer,u.guardsResult);let l=new Bf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),it(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",bt.GuardRejected),!1)),Mf(u=>{if(u.guards.canActivateChecks.length)return A(u).pipe(Re(l=>{let d=new jf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),st(l=>{let d=!1;return A(l).pipe(mk(this.paramsInheritanceStrategy,this.environmentInjector),Re({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",bt.NoDataFromResolver)}}))}),Re(l=>{let d=new $f(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Mf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Re(y=>{d.component=y}),W(()=>{})));for(let y of d.children)h.push(...l(y));return h};return Hs(l(u.targetSnapshot.root)).pipe(er(null),Sn(1))}),Mf(()=>this.afterPreactivation()),st(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?we(d).pipe(W(()=>o)):A(o)}),W(u=>{let l=b1(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=fe(C({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Re(()=>{this.events.next(new Do)}),N1(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Sn(1),Re({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Nd(this.transitionAbortSubject.pipe(Re(u=>{throw u}))),qs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",bt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zn(u=>{if(c=!0,YE(u))this.events.next(new cr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),A1(u)?this.events.next(new Ao(u.url)):o.resolve(!1);else{this.events.next(new bo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return vt}))}))}cancelNavigationTransition(r,i,s){let o=new cr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bk(t){return t!==Io}var Sk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>T(Dk),providedIn:"root"});let t=e;return t})(),ip=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Dk=(()=>{let e=class e extends ip{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=qh(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>T(Ak),providedIn:"root"});let t=e;return t})(),Ak=(()=>{let e=class e extends sT{constructor(){super(...arguments),this.location=T(Qi),this.urlSerializer=T(ko),this.options=T(Vo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=T(hp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ar,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ns)this.stateMemento=this.createStateMemento();else if(r instanceof ur)this.rawUrlTree=i.initialUrl;else if(r instanceof pu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Do?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof cr&&(r.code===bt.GuardRejected||r.code===bt.NoDataFromResolver)?this.restoreHistory(i):r instanceof bo?this.restoreHistory(i,!0):r instanceof hn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=C(C({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=C(C({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=qh(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(vo||{});function oT(t,e){t.events.pipe(it(n=>n instanceof hn||n instanceof cr||n instanceof bo||n instanceof ur),W(n=>n instanceof hn||n instanceof ur?vo.COMPLETE:(n instanceof cr?n.code===bt.Redirect||n.code===bt.SupersededByNewNavigation:!1)?vo.REDIRECTING:vo.FAILED),it(n=>n!==vo.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function Rk(t){throw t}var xk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=T(Zc),this.stateManager=T(sT),this.options=T(Vo,{optional:!0})||{},this.pendingTasks=T(Jc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=T(fp),this.urlSerializer=T(ko),this.location=T(Qi),this.urlHandlingStrategy=T(hp),this._events=new Pe,this.errorHandler=this.options.errorHandler||Rk,this.navigated=!1,this.routeReuseStrategy=T(Sk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=T(Po,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!T(Eu,{optional:!0}),this.eventsSubscription=new Ce,this.isNgZoneEnabled=T(V)instanceof V&&V.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof cr&&i.code!==bt.Redirect&&i.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof hn)this.navigated=!0;else if(i instanceof Ao){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||bk(s.source)};this.scheduleNavigation(a,Io,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Mk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Io,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=C({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(up),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let y=s?s.snapshot:this.routerState.snapshot.root;h=BE(y)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return jE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ts(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Io,null,i)}navigate(r,i={skipLocationChange:!1}){return Pk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=C({},xk):i===!1?s=C({},Nk):s=i,ts(r))return EE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return EE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,y)=>{c=h,u=y});let d=this.pendingTasks.add();return oT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function Mk(t){return!(t instanceof Do)&&!(t instanceof Ao)}var aT=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Pe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:dI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ln(Kt),ln(lr),zh("tabindex"),ln(Qc),ln(cn),ln(On))},e.\u0275dir=Bc({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&pf("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ff("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[qt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",fo],skipLocationChange:[qt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",fo],replaceUrl:[qt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",fo],routerLink:"routerLink"},standalone:!0,features:[hf,co]});let t=e;return t})();var Iu=class{};var kk=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(it(r=>r instanceof hn),Xn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Yc(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return we(s).pipe(Ai())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=A(null);let o=s.pipe(Ee(a=>a===null?A(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return we([o,a]).pipe(Ai())}else return o})}};e.\u0275fac=function(i){return new(i||e)(S(Kt),S(eu),S(Et),S(Iu),S(dp))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cT=new R(""),Ok=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof hn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ur&&r.code===fu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof mu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){bI()},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function uT(t,...e){return jc([{provide:Po,multi:!0,useValue:t},[],{provide:lr,useFactory:lT,deps:[Kt]},{provide:Xc,multi:!0,useFactory:dT},e.map(n=>n.\u0275providers)])}function lT(t){return t.routerState.root}function Uo(t,e){return{\u0275kind:t,\u0275providers:e}}function dT(){let t=T(pe);return e=>{let n=t.get(lo);if(e!==n.components[0])return;let r=t.get(Kt),i=t.get(hT);t.get(pp)===1&&r.initialNavigation(),t.get(fT,null,H.Optional)?.setUpPreloading(),t.get(cT,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hT=new R("",{factory:()=>new Pe}),pp=new R("",{providedIn:"root",factory:()=>1});function Fk(){return Uo(2,[{provide:pp,useValue:0},{provide:or,multi:!0,deps:[pe],useFactory:e=>{let n=e.get(cE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Kt),s=e.get(hT);oT(i,()=>{r(!0)}),e.get(fp).afterPreactivation=()=>(r(!0),s.closed?A(void 0):s),i.initialNavigation()}))}}])}function Lk(){return Uo(3,[{provide:or,multi:!0,useFactory:()=>{let e=T(Kt);return()=>{e.setUpLocationChangeListener()}}},{provide:pp,useValue:2}])}var fT=new R("");function Vk(t){return Uo(0,[{provide:fT,useExisting:kk},{provide:Iu,useExisting:t}])}function Uk(){return Uo(8,[SE,{provide:Eu,useExisting:SE}])}function Bk(t){let e=[{provide:rT,useValue:Tk},{provide:iT,useValue:C({skipNextTransition:!!t?.skipInitialTransition},t)}];return Uo(9,e)}var AE=new R("ROUTER_FORROOT_GUARD"),jk=[Qi,{provide:ko,useClass:To},Kt,Oo,{provide:lr,useFactory:lT,deps:[Kt]},dp,[]],pT=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[jk,[],{provide:Po,multi:!0,useValue:r},{provide:AE,useFactory:zk,deps:[[Kt,new ie,new aw]]},{provide:Vo,useValue:i||{}},i?.useHash?Hk():qk(),$k(),i?.preloadingStrategy?Vk(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Wk(i):[],i?.bindToComponentInputs?Uk().\u0275providers:[],i?.enableViewTransitions?Bk().\u0275providers:[],Gk()]}}static forChild(r){return{ngModule:e,providers:[{provide:Po,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(S(AE,8))},e.\u0275mod=ke({type:e}),e.\u0275inj=Me({});let t=e;return t})();function $k(){return{provide:cT,useFactory:()=>{let t=T(hE),e=T(V),n=T(Vo),r=T(fp),i=T(ko);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ok(i,r,t,e,n)}}}function Hk(){return{provide:On,useClass:lE}}function qk(){return{provide:On,useClass:wf}}function zk(t){return"guarded"}function Wk(t){return[t.initialNavigation==="disabled"?Lk().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Fk().\u0275providers:[]]}var RE=new R("");function Gk(){return[{provide:RE,useFactory:dT},{provide:Xc,multi:!0,useExisting:RE}]}var Kk=["swiperContainer"],gT=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1]):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){this.initializeSwiperWithCustomCode()}initializeSwiperWithCustomCode(){let i={swiper:$(this.swiperContainer.nativeElement)};$(document).ready(()=>{if(i.swiper.length){var s;for(s=0;s<i.swiper.length;s++){for(var o=$(i.swiper[s]),a=o.find(".swiper-pagination"),c=o.find(".swiper-button-next"),u=o.find(".swiper-button-prev"),l=o.find(".swiper-scrollbar"),d=o.parents(".rd-parallax").length,h=o.find(".swiper-slide"),y=0;y<h.length;y++){var _=$(h[y]),v;(v=_.attr("data-slide-bg"))&&_.css({"background-image":"url("+v+")","background-size":"cover"})}h.end().find("[data-caption-animate]").addClass("not-animated").end().swiper({autoplay:o.attr("data-autoplay")?o.attr("data-autoplay")==="false"?void 0:o.attr("data-autoplay"):1e4,direction:o.attr("data-direction")?o.attr("data-direction"):"horizontal",effect:o.attr("data-slide-effect")?o.attr("data-slide-effect"):"slide",speed:o.attr("data-slide-speed")?o.attr("data-slide-speed"):2e3,keyboardControl:o.attr("data-keyboard")==="true",mousewheelControl:o.attr("data-mousewheel")==="true",mousewheelReleaseOnEdges:o.attr("data-mousewheel-release")==="true",nextButton:c.length?c.get(0):null,prevButton:u.length?u.get(0):null,pagination:a.length?a.get(0):null,paginationClickable:a.length?a.attr("data-clickable")!=="false":!1,paginationBulletRender:a.length&&a.attr("data-index-bullet")==="true"?function(b,X){return'<span class="'+X+'">'+(b+1)+"</span>"}:null,scrollbar:l.length?l.get(0):null,scrollbarDraggable:l.length?l.attr("data-draggable")!=="false":!0,scrollbarHide:l.length?l.attr("data-draggable")==="false":!1,loop:o.attr("data-loop")!=="false",simulateTouch:o.attr("data-simulate-touch")?o.attr("data-simulate-touch")==="true":!1,onTransitionStart:function(b){D(b)},onTransitionEnd:function(b){ee(b)},onInit:function(b){D(b),ee(b);for(var X=o.find(".swiper-parallax"),z=0;z<X.length;z++){var ue=$(X[z]),ve;d&&!this.isIEBrows&&!this.isMobile&&(ve=ue.attr("data-speed"))&&te(ue,ve,o,!1)}$(window).on("resize",function(){b.update(!0)})}}),$(window).on("resize",function(){var b=E(o,"min-height"),X=E(o,"height");X&&o.css("height",b&&b>X?b:X)}).trigger("resize")}}function E(b,X){var z=b.attr("data-"+X),ue;if(z)if(ue=z.match(/(px)|(%)|(vh)$/i),ue.length)switch(ue[0]){case"px":return parseFloat(z);case"vh":return $(window).height()*(parseFloat(z)/100);case"%":return b.width()*(parseFloat(z)/100)}else return}function D(b){var X=$(b.slides[b.previousIndex]),z=$(b.slides[b.activeIndex]),ue;X.find("video").each(function(ve){ve.pause()}),ue=z.find("video"),ue.length&&ue.get(0).play()}function ee(b){var X=$(b.container),z=$(b.slides[b.activeIndex]);X.find("[data-caption-animate]").each(function(ue,ve){var Je=$(ve);Je.removeClass("animated").removeClass(Je.attr("data-caption-animate")).addClass("not-animated")}),z.find("[data-caption-animate]").each(function(ue,ve){var Je=$(ve),Gn=Je.attr("data-caption-delay"),Er=Je.attr("data-caption-duration");setTimeout(function(){Je.removeClass("not-animated").addClass(Je.attr("data-caption-animate")).addClass("animated"),Er&&Je.css("animation-duration",Er+"ms")},Gn?parseInt(Gn):0)})}function te(b,X,z,ue){var ve=window.scrollY||window.pageYOffset;if(ue!=ve&&(ue=ve,b.addClass("no-transition"),b[0].style.transform="translate3d(0,"+-ve*(1-X)+"px,0)",b.height(),b.removeClass("no-transition"),b.attr("data-fade")==="true")){var Je=b[0].getBoundingClientRect(),Gn=Je.top*2+ve,Er=z.outerHeight(),Fs=z.offset().top+Er/2,Ls=Gn+b.outerHeight()/2,Vs=Er/6,Us;Fs+Vs>Ls&&Fs-Vs<Ls?b[0].style.opacity=1:(Fs-Vs<Ls?Us=1+(Fs+Vs-Ls)/Er/3*5:Us=1-(Fs-Vs-Ls)/Er/3*5,b[0].style.opacity=Us<0?0:Us>1?1:Us.toFixed(2))}requestAnimationFrame(function(){te(b,X,z,ue)})}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["swiper-component"]],viewQuery:function(i,s){if(i&1&&Gi(Kk,5),i&2){let o;Vr(o=Ur())&&(s.swiperContainer=o.first)}},standalone:!0,features:[oe],decls:52,vars:0,consts:[["swiperContainer",""],[1,"bg-gray-darker"],[1,"swiper-variant-1"],["data-slide-effect","fade","data-min-height","600px",1,"swiper-container","swiper-slider"],[1,"swiper-wrapper"],["data-slide-bg","assets/images/home-slide-4-1920x800.jpg",1,"swiper-slide"],[1,"swiper-slide-caption","slide-caption-2","text-center"],[1,"shell"],[1,"range","range-sm-center"],[1,"cell-sm-12"],["data-caption-animate","fadeInUpSmall","data-caption-delay","100",1,"text-italic","font-secondary","text-white"],["data-caption-animate","fadeInUpSmall","data-caption-delay","400",1,"text-uppercase","text-white","offset-top-10","offset-sm-top-0"],[1,"range","range-sm-center","offset-top-15"],[1,"cell-sm-9","cell-lg-7"],["data-caption-animate","fadeInUpSmall","data-caption-delay","700",1,"text-white","offset-top-18"],["href","#","data-caption-animate","fadeInUpSmall","data-caption-delay","1000",1,"btn","btn-primary-lighter","btn-md","btn-shape-circle","offset-top-20"],["data-slide-bg","assets/images/home-slide-2-1920x800.jpg",1,"swiper-slide"],["data-slide-bg","assets/images/home-slide-3-1920x800.jpg",1,"swiper-slide"],[1,"swiper-pagination-wrap"],[1,"swiper-pagination"]],template:function(i,s){i&1&&(f(0,"section",1)(1,"div",2)(2,"div",3,0)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5",10),m(11,"Welcome to Backstage Billiards I-Drive"),p(),f(12,"h2",11),m(13,"Where Every Night is a Celebration"),p(),f(14,"div",12)(15,"div",13)(16,"p",14),m(17,"Dive into the heart of entertainment on International Drive with Backstage Billiards. Here, we foster the best players and serve unforgettable moments, whether you're sinking balls, throwing darts, or enjoying our signature cocktails and gourmet bites. Join us for an unparalleled pool, pints, and plates experience."),p(),f(18,"a",15),m(19,"Discover the Experience"),p()()()()()()()(),f(20,"div",16)(21,"div",6)(22,"div",7)(23,"div",8)(24,"div",9)(25,"h5",10),m(26,"Taste the Fun"),p(),f(27,"h2",11),m(28,"Craft Drinks & Delicious Eats"),p(),f(29,"div",12)(30,"div",13)(31,"p",14),m(32,"Elevate your game night with our curated selection of craft beers, signature cocktails, and gourmet bar food. At Backstage Billiards, every sip and bite is part of the experience. Indulge in our menu of classics and contemporary creations, all while enjoying the best of billiards, darts, and poker."),p(),f(33,"a",15),m(34,"Explore Our Menu"),p()()()()()()()(),f(35,"div",17)(36,"div",6)(37,"div",7)(38,"div",8)(39,"div",9)(40,"h5",10),m(41,"Join the Backstage Crew"),p(),f(42,"h2",11),m(43,"Play, Cheer, and Celebrate"),p(),f(44,"div",12)(45,"div",13)(46,"p",14),m(47,"Backstage Billiards is more than a pool hall; it's a community. Join us for weekly tournaments, special events, and viewing parties. Whether you're here to compete or to relax with friends, you'll find something to love beyond the game. Enjoy our lively atmosphere, competitive spirit, and, of course, our excellent bar and kitchen offerings."),p(),f(48,"a",15),m(49,"Become a Part of It"),p()()()()()()()()(),f(50,"div",18),x(51,"div",19),p()()()())},encapsulation:2});let t=e;return t})();var Qk=["menuWidgetContainer"],yT=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){this.initializeAnimations()}initializeAnimations(){$(document).on("scroll",()=>{this.menuWidgets.forEach(r=>{let i=$(r.nativeElement);this.isScrolledIntoView(i)&&i.addClass("active")})}).trigger("scroll")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["menu-widget"]],viewQuery:function(i,s){if(i&1&&Gi(Qk,5),i&2){let o;Vr(o=Ur())&&(s.menuWidgets=o)}},standalone:!0,features:[oe],decls:39,vars:0,consts:[["menuWidgetContainer",""],[1,"section-50","section-sm-100","bg-gray-lighter"],[1,"shell-wide"],[1,"range","range-xs-center"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-04"],["href","#",1,"thumbnail-variant-3"],["src","assets/images/the-bar.jpeg","alt","Backstage Billiards Bar","width","566","height","401",1,"img-responsive"],[1,"caption","text-center"],[1,"text-italic"],[1,"big"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-06"],["src","assets/images/the-menu.jpeg","alt","Backstage Billiards Menu","width","566","height","401",1,"img-responsive"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-02"],["src","assets/images/weekly-specials.jpeg","alt","Backstage Billiards Specials","width","566","height","401",1,"img-responsive"],["href","#",1,"thumbnail-variant-4"],["src","assets/images/events.jpeg","alt","Backstage Billiards Events","width","566","height","401",1,"img-responsive"]],template:function(i,s){i&1&&(f(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4,0)(5,"a",5),x(6,"img",6),f(7,"div",7)(8,"h3",8),m(9,"The Bar"),p(),f(10,"p",9),m(11,"Pull up a stool and enjoy a selection of craft beers, signature cocktails, and premium spirits at our vibrant bar."),p()()()(),f(12,"div",10,0)(14,"a",5),x(15,"img",11),f(16,"div",7)(17,"h3",8),m(18,"The Menu"),p(),f(19,"p",9),m(20,"Explore our full menu of pub favorites, from wing and pizza to shareable appetizers and entrees."),p()()()(),f(21,"div",12,0)(23,"a",5),x(24,"img",13),f(25,"div",7)(26,"h3",8),m(27,"Specials"),p(),f(28,"p",9),m(29,"Join us for weekly specials and happy hour."),p()()()(),f(30,"div",12,0)(32,"a",14),x(33,"img",15),f(34,"div",7)(35,"h3",8),m(36,"Events"),p(),f(37,"p",9),m(38,"Join us for weekly events, pool tournaments, and special occasions. There's always something exciting happening!"),p()()()()()()())},encapsulation:2});let t=e;return t})();var _T=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-home"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(i,s){i&1&&x(0,"swiper-component")(1,"menu-widget")},dependencies:[gT,yT]});let t=e;return t})();var Yk=["counterWidgetContainer"],vT=(()=>{let e=class e{constructor(){}ngAfterViewInit(){this.initializeAnimations()}initializeAnimations(){$(document).ready(()=>{this.checkAndAnimateCounters(),$(window).on("scroll",()=>{this.checkAndAnimateCounters()})})}checkAndAnimateCounters(){this.counterWidgets.forEach(r=>{let i=$(r.nativeElement);if(!i.hasClass("animated")&&this.isScrolledIntoView(i)){let s=i.data("to");i.countTo({from:i.data("from")||0,to:s,speed:1e3,refreshInterval:40}),i.addClass("animated")}})}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["about-component"]],viewQuery:function(i,s){if(i&1&&Gi(Yk,5),i&2){let o;Vr(o=Ur())&&(s.counterWidgets=o)}},standalone:!0,features:[oe],decls:44,vars:0,consts:[["counterWidgetContainer",""],[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"text-center","text-sm-left","section-50","section-sm-top-100","section-sm-bottom-205","section-with-angle","bg-black-haze"],[1,"shell"],[1,"range","range-xs-center","range-md-right"],[1,"cell-sm-10","cell-md-6"],[1,"font-default"],[1,"range","range-xs-center","offset-top-30","text-center"],[1,"cell-xs-6","cell-sm-4"],["data-from","0","data-to","10",1,"counter","text-primary"],[1,"counter-header"],["data-from","0","data-to","20",1,"counter","text-primary"],["data-from","0","data-to","7",1,"counter","text-primary"],["href","contact.html",1,"btn","btn-shape-circle","btn-primary-lighter","offset-top-40"]],template:function(i,s){i&1&&(f(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"p",5),m(5,"About Us"),p(),f(6,"ul",6)(7,"li")(8,"a",7),m(9,"Home"),p()(),f(10,"li",8),m(11,"About Us"),p()()()()()(),f(12,"section",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),m(17,"Welcome to Backstage Billiards"),p(),f(18,"p"),m(19,"Backstage Billiards on International Drive is your premier destination for a top-quality pool hall experience. Featuring expert staff, the best pool tables and equipment in the area, and a fun atmosphere, we're ready to make your visit unforgettable. Whether you're a pool enthusiast or looking for a vibrant social setting, we have something for everyone."),p(),f(20,"div",14)(21,"div",15)(22,"div",16,0),m(24,"10"),p(),f(25,"div",17)(26,"p"),m(27,"Top-Quality Pool Tables"),p()()(),f(28,"div",15)(29,"div",18,0),m(31,"20"),p(),f(32,"div",17)(33,"p"),m(34,"Years of Experience"),p()()(),f(35,"div",15)(36,"div",19,0),m(38,"7"),p(),f(39,"div",17)(40,"p"),m(41,"Days Open a Week"),p()()()(),f(42,"a",20),m(43,"Visit Us"),p()()()()())},encapsulation:2});let t=e;return t})();var wT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-menu"]],standalone:!0,features:[oe],decls:325,vars:0,consts:[[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs-3"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"section-50","section-sm-100"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-sm-6"],[1,"menu-classic","bg-menu-1"],[1,"title"],["href","menu-single.html",1,"link-white"],[1,"list-menu"],[1,"menu-item","h6"],[1,"price"],[1,"menu-item-desc"],[1,"cell-sm-6","offset-top-50","offset-sm-top-0"],[1,"menu-classic","bg-menu-2"],[1,"cell-sm-6","offset-top-50"],[1,"menu-classic","bg-menu-3"],[1,"menu-classic","bg-menu-4"],[1,"menu-classic","bg-menu-5"],[1,"menu-classic","bg-menu-6"],[1,"offset-top-50","offset-sm-top-100","text-center","divider-custom"],["href","#",1,"btn","btn-md","btn-shape-circle","btn-primary"]],template:function(i,s){i&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),m(5,"Menu"),p(),f(6,"ul",5)(7,"li")(8,"a",6),m(9,"Home"),p()(),f(10,"li",7),m(11,"Menu"),p()()()()()(),f(12,"section",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"h4",13)(18,"a",14),m(19,"Sandwiches"),p()(),f(20,"ul",15)(21,"li")(22,"div",16)(23,"span"),m(24,"Vegetable Sandwich"),p(),f(25,"span",17),m(26,"25.00"),p()(),f(27,"div",18)(28,"span"),m(29,"Zucchini / Eggplant / Pepper / Tomatoes / Mozzarella"),p()()(),f(30,"li")(31,"div",16)(32,"span"),m(33,"Sandwich with Beef"),p(),f(34,"span",17),m(35,"15.90"),p()(),f(36,"div",18)(37,"span"),m(38,"Chuck roast / Oregano / Rosemary / Beef bouillon"),p()()(),f(39,"li")(40,"div",16)(41,"span"),m(42,"Sandwich with Pork"),p(),f(43,"span",17),m(44,"7.90"),p()(),f(45,"div",18)(46,"span"),m(47,"Pork shoulder roast / Olive oil / Parsley / Rosemary"),p()()(),f(48,"li")(49,"div",16)(50,"span"),m(51,"Cheese Sandwich"),p(),f(52,"span",17),m(53,"23.90"),p()(),f(54,"div",18)(55,"span"),m(56,"White bread / Cheddar cheese / Butter"),p()()(),f(57,"li")(58,"div",16)(59,"span"),m(60,"Fish Sandwich"),p(),f(61,"span",17),m(62,"23.90"),p()(),f(63,"div",18)(64,"span"),m(65,"Tuna / Cheddar cheese / Jalapeno pepper / Lemon juice"),p()()()()()(),f(66,"div",19)(67,"div",20)(68,"h4",13)(69,"a",14),m(70,"Burgers"),p()(),f(71,"ul",15)(72,"li")(73,"div",16)(74,"span"),m(75,"Mushroom Burger"),p(),f(76,"span",17),m(77,"25.00"),p()(),f(78,"div",18)(79,"span"),m(80,"Sliced mushrooms / Worcestershire sauce / Ground beef"),p()()(),f(81,"li")(82,"div",16)(83,"span"),m(84,"Cowboy Burger"),p(),f(85,"span",17),m(86,"15.90"),p()(),f(87,"div",18)(88,"span"),m(89,"Sliced onions / Hamburger patties / Tomatoes"),p()()(),f(90,"li")(91,"div",16)(92,"span"),m(93,"The Perfect Burger"),p(),f(94,"span",17),m(95,"7.90"),p()(),f(96,"div",18)(97,"span"),m(98,"Worcestershire sauce / Onions / Mustard / Ground beef"),p()()(),f(99,"li")(100,"div",16)(101,"span"),m(102,"Hawaiian Burger"),p(),f(103,"span",17),m(104,"23.90"),p()(),f(105,"div",18)(106,"span"),m(107,"Chili sauce / Cheddar cheese / Pineapple / Lettuce"),p()()(),f(108,"li")(109,"div",16)(110,"span"),m(111,"Blue Cheese Burger"),p(),f(112,"span",17),m(113,"23.90"),p()(),f(114,"div",18)(115,"span"),m(116,"Ground beef / Minced fresh chives / Blue cheese"),p()()()()()(),f(117,"div",21)(118,"div",22)(119,"h4",13)(120,"a",14),m(121,"Pizzas"),p()(),f(122,"ul",15)(123,"li")(124,"div",16)(125,"span"),m(126,"Pizza Capricciosa"),p(),f(127,"span",17),m(128,"25.00"),p()(),f(129,"div",18)(130,"span"),m(131,"Tomatoes / Mozzarella cheese / Artichokes"),p()()(),f(132,"li")(133,"div",16)(134,"span"),m(135,"Four Seasons Pizza"),p(),f(136,"span",17),m(137,"15.90"),p()(),f(138,"div",18)(139,"span"),m(140,"Mozzarella / Passata / Kalamata Olives / Cooked Ham"),p()()(),f(141,"li")(142,"div",16)(143,"span"),m(144,"Royal Pizza"),p(),f(145,"span",17),m(146,"7.90"),p()(),f(147,"div",18)(148,"span"),m(149,"Olive oil / onions / Red bell peppers / Chopped pepperoni"),p()()(),f(150,"li")(151,"div",16)(152,"span"),m(153,"Pizza Pepperoni"),p(),f(154,"span",17),m(155,"23.90"),p()(),f(156,"div",18)(157,"span"),m(158,"Sliced pepperoni / Parmesan cheese / Mozzarella cheese"),p()()(),f(159,"li")(160,"div",16)(161,"span"),m(162,"Pizza Margherita"),p(),f(163,"span",17),m(164,"23.90"),p()(),f(165,"div",18)(166,"span"),m(167,"Tomato sauce / Fresh mozzarella / Olive oil / Basil"),p()()()()()(),f(168,"div",21)(169,"div",23)(170,"h4",13)(171,"a",14),m(172,"Salads"),p()(),f(173,"ul",15)(174,"li")(175,"div",16)(176,"span"),m(177,"Mozzarella Salad"),p(),f(178,"span",17),m(179,"25.00"),p()(),f(180,"div",18)(181,"span"),m(182,"Mozzarella cheese / Tomatoes / Basil"),p()()(),f(183,"li")(184,"div",16)(185,"span"),m(186,"Greek Salad"),p(),f(187,"span",17),m(188,"15.90"),p()(),f(189,"div",18)(190,"span"),m(191,"Ripe tomatoes / Red onions / Lemon juice / Feta cheese"),p()()(),f(192,"li")(193,"div",16)(194,"span"),m(195,"Caesar Salad"),p(),f(196,"span",17),m(197,"7.90"),p()(),f(198,"div",18)(199,"span"),m(200,"French bread / Butter / Parsley / Black pepper / Garlic"),p()()(),f(201,"li")(202,"div",16)(203,"span"),m(204,"Italian Chopped Salad"),p(),f(205,"span",17),m(206,"23.90"),p()(),f(207,"div",18)(208,"span"),m(209,"Bacon / Romaine / Red cabbage / Large tomatoes"),p()()(),f(210,"li")(211,"div",16)(212,"span"),m(213,"Vegetable Salad"),p(),f(214,"span",17),m(215,"23.90"),p()(),f(216,"div",18)(217,"span"),m(218,"Parmesan cheese / Celery / Cauliflower / Broccoli"),p()()()()()(),f(219,"div",21)(220,"div",24)(221,"h4",13)(222,"a",14),m(223,"Drinks"),p()(),f(224,"ul",15)(225,"li")(226,"div",16)(227,"span"),m(228,"Mojito"),p(),f(229,"span",17),m(230,"25.00"),p()(),f(231,"div",18)(232,"span"),m(233,"White sugar / White rum / Mint leaves / Lime"),p()()(),f(234,"li")(235,"div",16)(236,"span"),m(237,"Whiskey with Ice"),p(),f(238,"span",17),m(239,"15.90"),p()(),f(240,"div",18)(241,"span"),m(242,"Jack Daniel\u2019s / Jameson / Johnie Walker"),p()()(),f(243,"li")(244,"div",16)(245,"span"),m(246,"Draft Light Beer"),p(),f(247,"span",17),m(248,"7.90"),p()(),f(249,"div",18)(250,"span"),m(251,"Miller / Big Rock / Bud Light"),p()()(),f(252,"li")(253,"div",16)(254,"span"),m(255,"Orange Juice"),p(),f(256,"span",17),m(257,"23.90"),p()(),f(258,"div",18)(259,"span"),m(260,"Froze Fresh / Always Sweet / Lambeth Groves"),p()()(),f(261,"li")(262,"div",16)(263,"span"),m(264,"Strawberry Liqueur"),p(),f(265,"span",17),m(266,"23.90"),p()(),f(267,"div",18)(268,"span"),m(269,"Bols / Hiram Walker / DeKuyper"),p()()()()()(),f(270,"div",21)(271,"div",25)(272,"h4",13)(273,"a",14),m(274,"Desserts"),p()(),f(275,"ul",15)(276,"li")(277,"div",16)(278,"span"),m(279,"Strawberry Cake"),p(),f(280,"span",17),m(281,"25.00"),p()(),f(282,"div",18)(283,"span"),m(284,"White sugar / Eggs / Strawberry / Cake flour / Vanilla extract"),p()()(),f(285,"li")(286,"div",16)(287,"span"),m(288,"Domino Cake"),p(),f(289,"span",17),m(290,"15.90"),p()(),f(291,"div",18)(292,"span"),m(293,"Chocolate frosting / White frosting / Milk chocolate"),p()()(),f(294,"li")(295,"div",16)(296,"span"),m(297,"Coconut Cake"),p(),f(298,"span",17),m(299,"7.90"),p()(),f(300,"div",18)(301,"span"),m(302,"Butter / Eggs / Coconut extract / Flaked coconut"),p()()(),f(303,"li")(304,"div",16)(305,"span"),m(306,"Cake with Lime"),p(),f(307,"span",17),m(308,"23.90"),p()(),f(309,"div",18)(310,"span"),m(311,"Lime juice / Milk / Cake flour / Lime zest"),p()()(),f(312,"li")(313,"div",16)(314,"span"),m(315,"\u201CPigeon's Milk\u201D Cake"),p(),f(316,"span",17),m(317,"23.90"),p()(),f(318,"div",18)(319,"span"),m(320,"Butter / Sugar / Vanilla extract / Agar / Chocolate "),p()()()()()()(),f(321,"div",26)(322,"div")(323,"a",27),m(324,"download full menu"),p()()()()())}});let t=e;return t})();var IT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-contact"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),m(1,"contact works!"),p())}});let t=e;return t})();var ET=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-tournaments"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),m(1,"tournaments works!"),p())}});let t=e;return t})();var TT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-gallery"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),m(1,"gallery works!"),p())}});let t=e;return t})();var CT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-partners"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),m(1,"partners works!"),p())}});let t=e;return t})();var bT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-faq"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),m(1,"faq works!"),p())}});let t=e;return t})();var ST=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-blog"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(i,s){i&1&&(f(0,"p"),m(1,"blog works!"),p())}});let t=e;return t})();var DT=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:_T},{path:"about",component:vT},{path:"menu",component:wT},{path:"contact",component:IT},{path:"tournaments-events",component:ET},{path:"gallery",component:TT},{path:"partners",component:CT},{path:"faq",component:bT},{path:"blog",component:ST}];var gp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var w=function(t,e){if(!t)throw Hr(e)},Hr=function(t){return new Error("Firebase Database ("+gp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var RT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(h=64)),r.push(n[l],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new yp;let h=s<<2|a>>4;if(r.push(h),u!==64){let y=a<<4&240|u>>2;if(r.push(y),d!==64){let _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vp=function(t){let e=RT(t);return bu.encodeByteArray(e,!0)},Bo=function(t){return vp(t).replace(/\./g,"")},jo=function(t){try{return bu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xT(t){return NT(void 0,t)}function NT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Zk(n)||(t[n]=NT(t[n],e[n]));return t}function Zk(t){return t!=="__proto__"}function Xk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eO=()=>Xk().__FIREBASE_DEFAULTS__,tO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&jo(t[1]);return e&&JSON.parse(e)},wp=()=>{try{return eO()||tO()||nO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ip=t=>{var e,n;return(n=(e=wp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},os=t=>{let e=Ip(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ep=()=>{var t;return(t=wp())===null||t===void 0?void 0:t.config},Tp=t=>{var e;return(e=wp())===null||e===void 0?void 0:e[`_${t}`]};var $r=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function as(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bo(JSON.stringify(n)),Bo(JSON.stringify(o)),""].join(".")}function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $o(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Ho(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Su(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PT(){let t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pn(){return gp.NODE_CLIENT===!0||gp.NODE_ADMIN===!0}function Fn(){try{return typeof indexedDB=="object"}catch{return!1}}function qr(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Cp(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var rO="FirebaseError",be=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}},ot=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new be(i,a,r)}};function iO(t,e){return t.replace(sO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sO=/\{\$([^}]+)}/g;function ss(t){return JSON.parse(t)}function Le(t){return JSON.stringify(t)}var MT=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=ss(jo(s[0])||""),n=ss(jo(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var kT=function(t){let e=MT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},OT=function(t){let e=MT(t).claims;return typeof e=="object"&&e.admin===!0};function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ln(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(AT(s)&&AT(o)){if(!Ln(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function AT(t){return t!==null&&typeof t=="object"}function Wr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Cu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,l;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),l=1518500249):(u=s^o^a,l=1859775393):d<60?(u=s&o|a&(s|o),l=2400959708):(u=s^o^a,l=3395469782);let h=(i<<5|i>>>27)+u+c+l+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function FT(t,e){let n=new _p(t,e);return n.subscribe.bind(n)}var _p=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mp),i.error===void 0&&(i.error=mp),i.complete===void 0&&(i.complete=mp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mp(){}function LT(t,e){return`${t} failed: ${e} argument `}var VT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,w(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var aO=1e3,cO=2,uO=4*60*60*1e3,lO=.5;function Go(t,e=aO,n=cO){let r=e*Math.pow(n,t),i=Math.round(lO*r*(Math.random()-.5)*2);return Math.min(uO,r+i)}function Se(t){return t&&t._delegate?t._delegate:t}var _e=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Gr="[DEFAULT]";var Du=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $r;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hO(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dO(t){return t===Gr?void 0:t}function hO(t){return t.instantiationMode==="EAGER"}var Ko=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Du(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var fO=[],K=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(K||{}),pO={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},mO=K.INFO,gO={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},yO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=gO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ft=class{constructor(e){this.name=e,this._logLevel=mO,this._logHandler=yO,this._userLogHandler=null,fO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var _O=(t,e)=>e.some(n=>t instanceof n),UT,BT;function vO(){return UT||(UT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wO(){return BT||(BT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jT=new WeakMap,Sp=new WeakMap,$T=new WeakMap,bp=new WeakMap,Ap=new WeakMap;function IO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jT.set(n,t)}).catch(()=>{}),Ap.set(e,t),e}function EO(t){if(Sp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sp.set(t,e)}var Dp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$T.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HT(t){Dp=t(Dp)}function TO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Au(this),e,...n);return $T.set(r,e.sort?e.sort():[e]),gn(r)}:wO().includes(t)?function(...e){return t.apply(Au(this),e),gn(jT.get(this))}:function(...e){return gn(t.apply(Au(this),e))}}function CO(t){return typeof t=="function"?TO(t):(t instanceof IDBTransaction&&EO(t),_O(t,vO())?new Proxy(t,Dp):t)}function gn(t){if(t instanceof IDBRequest)return IO(t);if(bp.has(t))return bp.get(t);let e=CO(t);return e!==t&&(bp.set(t,e),Ap.set(e,t)),e}var Au=t=>Ap.get(t);function Ru(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=gn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(gn(o.result),c.oldVersion,c.newVersion,gn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var bO=["get","getKey","getAll","getAllKeys","count"],SO=["put","add","delete","clear"],Rp=new Map;function qT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=SO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bO.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Rp.set(e,s),s}HT(t=>fe(C({},t),{get:(e,n,r)=>qT(e,n)||t.get(e,n,r),has:(e,n)=>!!qT(e,n)||t.has(e,n)}));var Np=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function DO(t){let e=t.getComponent();return e?.type==="VERSION"}var Pp="@firebase/app",zT="0.9.29";var Kr=new ft("@firebase/app"),AO="@firebase/app-compat",RO="@firebase/analytics-compat",xO="@firebase/analytics",NO="@firebase/app-check-compat",PO="@firebase/app-check",MO="@firebase/auth",kO="@firebase/auth-compat",OO="@firebase/database",FO="@firebase/database-compat",LO="@firebase/functions",VO="@firebase/functions-compat",UO="@firebase/installations",BO="@firebase/installations-compat",jO="@firebase/messaging",$O="@firebase/messaging-compat",HO="@firebase/performance",qO="@firebase/performance-compat",zO="@firebase/remote-config",WO="@firebase/remote-config-compat",GO="@firebase/storage",KO="@firebase/storage-compat",QO="@firebase/firestore",YO="@firebase/firestore-compat",JO="firebase",ZO="10.9.0";var Mp="[DEFAULT]",XO={[Pp]:"fire-core",[AO]:"fire-core-compat",[xO]:"fire-analytics",[RO]:"fire-analytics-compat",[PO]:"fire-app-check",[NO]:"fire-app-check-compat",[MO]:"fire-auth",[kO]:"fire-auth-compat",[OO]:"fire-rtdb",[FO]:"fire-rtdb-compat",[LO]:"fire-fn",[VO]:"fire-fn-compat",[UO]:"fire-iid",[BO]:"fire-iid-compat",[jO]:"fire-fcm",[$O]:"fire-fcm-compat",[HO]:"fire-perf",[qO]:"fire-perf-compat",[zO]:"fire-rc",[WO]:"fire-rc-compat",[GO]:"fire-gcs",[KO]:"fire-gcs-compat",[QO]:"fire-fst",[YO]:"fire-fst-compat","fire-js":"fire-js",[JO]:"fire-js-all"};var Qo=new Map,kp=new Map;function eF(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ae(t){let e=t.name;if(kp.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,t);for(let n of Qo.values())eF(n,t);return!0}function qe(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var tF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hr=new ot("app","Firebase",tF);var Op=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _e("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}};var pt=ZO;function Vp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hr.create("bad-app-name",{appName:String(i)});if(n||(n=Ep()),!n)throw hr.create("no-options");let s=Qo.get(i);if(s){if(Ln(n,s.options)&&Ln(r,s.config))return s;throw hr.create("duplicate-app",{appName:i})}let o=new Ko(i);for(let c of kp.values())o.addComponent(c);let a=new Op(n,r,o);return Qo.set(i,a),a}function at(t=Mp){let e=Qo.get(t);if(!e&&t===Mp&&Ep())return Vp();if(!e)throw hr.create("no-app",{appName:t});return e}function xu(){return Array.from(Qo.values())}function O(t,e,n){var r;let i=(r=XO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(a.join(" "));return}Ae(new _e(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var nF="firebase-heartbeat-database",rF=1,Yo="firebase-heartbeat-store",xp=null;function QT(){return xp||(xp=Ru(nF,rF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw hr.create("idb-open",{originalErrorMessage:t.message})})),xp}function iF(t){return g(this,null,function*(){try{let n=(yield QT()).transaction(Yo),r=yield n.objectStore(Yo).get(YT(t));return yield n.done,r}catch(e){if(e instanceof be)Kr.warn(e.message);else{let n=hr.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(n.message)}}})}function WT(t,e){return g(this,null,function*(){try{let r=(yield QT()).transaction(Yo,"readwrite");yield r.objectStore(Yo).put(e,YT(t)),yield r.done}catch(n){if(n instanceof be)Kr.warn(n.message);else{let r=hr.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(r.message)}}})}function YT(t){return`${t.name}!${t.options.appId}`}var sF=1024,oF=30*24*60*60*1e3,Fp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Lp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=oF}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=GT(),{heartbeatsToSend:r,unsentEntries:i}=aF(this._heartbeatsCache.heartbeats),s=Bo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function GT(){return new Date().toISOString().substring(0,10)}function aF(t,e=sF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Lp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return Fn()?qr().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield iF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function KT(t){return Bo(JSON.stringify({version:2,heartbeats:t})).length}function cF(t){Ae(new _e("platform-logger",e=>new Np(e),"PRIVATE")),Ae(new _e("heartbeat",e=>new Fp(e),"PRIVATE")),O(Pp,zT,t),O(Pp,zT,"esm2017"),O("fire-js","")}cF("");var uF="firebase",lF="10.9.0";O(uF,lF,"app");var ze=new sr("ANGULARFIRE2_VERSION"),Pu=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Ft(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var St=(t,e)=>{let n=e?[e]:xu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},yn=class{constructor(){return St(dF)}},dF="app-check";function cs(){}var Nu=class{zone;delegate;constructor(e,n=Ed){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Up=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),n.pipe(Re({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},mt=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Nu(Zone.current)),this.insideAngular=n.run(()=>new Nu(Zone.current,Id)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(V))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function hF(t){return Mu().ngZone.runOutsideAngular(()=>t())}function Qr(t){return Mu().ngZone.run(()=>t())}function fF(t){return pF(Mu())(t)}function pF(t){return function(n){return n=n.lift(new Up(t.ngZone)),n.pipe(Jn(t.outsideAngular),Yn(t.insideAngular))}}var mF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Qr(()=>t.apply(void 0,r))},We=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Qr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs))),r[s]=mF(r[s],n));let i=hF(()=>t.apply(this,r));if(!e)if(i instanceof G){let s=Mu();return i.pipe(Jn(s.outsideAngular),Yn(s.insideAngular))}else return Qr(()=>i);return i instanceof G?i.pipe(fF):i instanceof Promise?Qr(()=>new Promise((s,o)=>i.then(a=>Qr(()=>s(a)),a=>Qr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Qr(()=>i)};var Ge=class{constructor(e){return e}},ct=class{constructor(){return xu()}};function gF(t){return t&&t.length===1?t[0]:new Ge(at())}var Bp=new R("angularfire2._apps"),yF={provide:Ge,useFactory:gF,deps:[[new ie,Bp]]},_F={provide:ct,deps:[[new ie,Bp]]};function vF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ge(r)}}var wF=(()=>{class t{constructor(n){O("angularfire",ze.full,"core"),O("angularfire",ze.full,"app"),O("angular",JI.full,n.toString())}static \u0275fac=function(r){return new(r||t)(S(un))};static \u0275mod=ke({type:t});static \u0275inj=Me({providers:[yF,_F]})}return t})();function JT(t,...e){return{ngModule:wF,providers:[{provide:Bp,useFactory:vF(t),multi:!0,deps:[V,pe,mt,...e]}]}}var ZT=We(Vp,!0);function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var f0=h0,p0=new ot("auth","Firebase",h0());var Uu=new ft("@firebase/auth");function IF(t,...e){Uu.logLevel<=K.WARN&&Uu.warn(`Auth (${pt}): ${t}`,...e)}function Ou(t,...e){Uu.logLevel<=K.ERROR&&Uu.error(`Auth (${pt}): ${t}`,...e)}function pr(t,...e){throw om(t,...e)}function Yr(t,...e){return om(t,...e)}function EF(t,e,n){let r=Object.assign(Object.assign({},f0()),{[e]:n});return new ot("auth","Firebase",r).create(e,{appName:t.name})}function om(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p0.create(t,...e)}function L(t,e,...n){if(!t)throw om(e,...n)}function Vn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ou(e),new Error(e)}function mr(t,e){t||Vn(e)}function qp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TF(){return XT()==="http:"||XT()==="https:"}function XT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TF()||Ho()||"connection"in navigator)?navigator.onLine:!0}function bF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Jr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=$o()||Su()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function am(t,e){mr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Bu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var SF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var DF=new Jr(3e4,6e4);function cm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function us(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){return m0(t,i,()=>g(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Wr(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Bu.fetch()(g0(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function m0(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},SF),e);try{let i=new zp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ku(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ku(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ku(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw EF(t,l,u);pr(t,l)}}catch(i){if(i instanceof be)throw i;pr(t,"network-request-failed",{message:String(i)})}})}function AF(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){let u=yield us(t,e,n,r,i);return"mfaPendingCredential"in u&&pr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function g0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?am(t.config,i):`${t.config.apiScheme}://${i}`}var zp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),DF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ku(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Yr(t,e,r);return i.customData._tokenResponse=n,i}function RF(t,e){return g(this,null,function*(){return us(t,"POST","/v1/accounts:delete",e)})}function xF(t,e){return g(this,null,function*(){return us(t,"POST","/v1/accounts:lookup",e)})}function Jo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function um(t,e=!1){return g(this,null,function*(){let n=Se(t),r=yield n.getIdToken(e),i=lm(r);L(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Jo(jp(i.auth_time)),issuedAtTime:Jo(jp(i.iat)),expirationTime:Jo(jp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function jp(t){return Number(t)*1e3}function lm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{let i=jo(n);return i?JSON.parse(i):(Ou("Failed to decode base64 JWT payload"),null)}catch(i){return Ou("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NF(t){let e=lm(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zo(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof be&&PF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function PF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Wp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ju=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $u(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Zo(t,xF(n,{idToken:r}));L(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kF(s.providerUserInfo):[],a=MF(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ju(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function dm(t){return g(this,null,function*(){let e=Se(t);yield $u(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function MF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kF(t){return t.map(e=>{var{providerId:n}=e,r=Td(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function OF(t,e){return g(this,null,function*(){let n=yield m0(t,{},()=>g(this,null,function*(){let r=Wr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=g0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function FF(t,e){return g(this,null,function*(){return us(t,"POST","/v2/accounts:revokeToken",cm(t,e))})}var Hu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return g(this,null,function*(){return L(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield OF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(L(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(L(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Vn("not implemented")}};function fr(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Xo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Td(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ju(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield Zo(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return um(this,e)}reload(){return dm(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield $u(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){let e=yield this.getIdToken();return yield Zo(this,RF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(u=n.createdAt)!==null&&u!==void 0?u:void 0,ee=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:te,emailVerified:b,isAnonymous:X,providerData:z,stsTokenManager:ue}=n;L(te&&ue,e,"internal-error");let ve=Hu.fromJSON(this.name,ue);L(typeof te=="string",e,"internal-error"),fr(d,e.name),fr(h,e.name),L(typeof b=="boolean",e,"internal-error"),L(typeof X=="boolean",e,"internal-error"),fr(y,e.name),fr(_,e.name),fr(v,e.name),fr(E,e.name),fr(D,e.name),fr(ee,e.name);let Je=new t({uid:te,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:X,photoURL:_,phoneNumber:y,tenantId:v,stsTokenManager:ve,createdAt:D,lastLoginAt:ee});return z&&Array.isArray(z)&&(Je.providerData=z.map(Gn=>Object.assign({},Gn))),E&&(Je._redirectEventId=E),Je}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new Hu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $u(s),s})}};var e0=new Map;function Un(t){mr(t instanceof Function,"Expected a class definition");let e=e0.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e0.set(t,e),e)}var LF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Gp=LF;function Fu(t,e,n){return`firebase:${t}:${e}:${n}`}var qu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Fu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Xo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(Un(Gp),e,r);let i=(yield Promise.all(n.map(u=>g(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Un(Gp),o=Fu(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Xo._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>g(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function t0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I0(e))return"Blackberry";if(E0(e))return"Webos";if(hm(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(w0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function y0(t=Fe()){return/firefox\//i.test(t)}function hm(t=Fe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(t=Fe()){return/crios\//i.test(t)}function v0(t=Fe()){return/iemobile/i.test(t)}function w0(t=Fe()){return/android/i.test(t)}function I0(t=Fe()){return/blackberry/i.test(t)}function E0(t=Fe()){return/webos/i.test(t)}function Zu(t=Fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VF(t=Fe()){var e;return Zu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UF(){return PT()&&document.documentMode===10}function T0(t=Fe()){return Zu(t)||w0(t)||E0(t)||I0(t)||/windows phone/i.test(t)||v0(t)}function BF(){try{return!!(window&&window!==window.top)}catch{return!1}}function C0(t,e=[]){let n;switch(t){case"Browser":n=t0(Fe());break;case"Worker":n=`${t0(Fe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pt}/${r}`}var Kp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function jF(n){return g(this,arguments,function*(t,e={}){return us(t,"GET","/v2/passwordPolicy",cm(t,e))})}var $F=6,Qp=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$F,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Yp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zu(this),this.idTokenSubscription=new zu(this),this.beforeStateQueue=new Kp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield qu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield $u(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=bF()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){let n=e?Se(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Un(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield jF(this),n=new Qp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ot("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield FF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Un(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=yield qu.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&IF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fm(t){return Se(t)}var zu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=FT(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pm={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HF(t){pm=t}function qF(t){return pm.loadJS(t)}function zF(){return pm.gapiScript}function b0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function mm(t,e){let n=qe(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ln(s,e??{}))return i;pr(i,"already-initialized")}return n.initialize({options:e})}function WF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Un);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function gm(t,e,n){let r=fm(t);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=S0(e),{host:o,port:a}=GF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||KF()}function S0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GF(t){let e=S0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:n0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:n0(o)}}}function n0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function KF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Wu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}};function $p(t,e){return g(this,null,function*(){return AF(t,"POST","/v1/accounts:signInWithIdp",cm(t,e))})}var Gu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jp=class extends Gu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ea=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){let s=yield Xo._fromIdTokenResponse(e,r,i),o=r0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=r0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function r0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Zp=class t extends be{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function D0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(t,s,e,r):s})}function QF(t,e,n=!1){return g(this,null,function*(){let r=yield Zo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ea._forOperation(t,"link",r)})}function YF(t,e,n=!1){return g(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Zo(t,D0(r,i,e,t),n);L(s.idToken,r,"internal-error");let o=lm(s.idToken);L(o,r,"internal-error");let{sub:a}=o;return L(t.uid===a,r,"user-mismatch"),ea._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&pr(r,"user-mismatch"),s}})}function JF(t,e,n=!1){return g(this,null,function*(){let r="signIn",i=yield D0(t,r,e),s=yield ea._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Xu(t,e,n,r){return Se(t).onIdTokenChanged(e,n,r)}function ym(t,e,n){return Se(t).beforeAuthStateChanged(e,n)}function el(t,e,n,r){return Se(t).onAuthStateChanged(e,n,r)}var Ku="__sak";var Qu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function ZF(){let t=Fe();return hm(t)||Zu(t)}var XF=1e3,eL=10,tL=(()=>{class t extends Qu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ZF()&&BF(),this.fallbackToPolling=T0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);UF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,eL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},XF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield Kn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){let r=yield Kn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield Kn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),A0=tL;var nL=(()=>{class t extends Qu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),_m=nL;function rL(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var iL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>g(this,null,function*(){return l(r.origin,o)})),u=yield rL(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function R0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Xp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=R0("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function _n(){return window}function sL(t){_n().location.href=t}function x0(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}function oL(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function aL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cL(){return x0()?self:null}var N0="firebaseLocalStorageDb",uL=1,Yu="firebaseLocalStorage",P0="fbase_key",Zr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function tl(t,e){return t.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function lL(){let t=indexedDB.deleteDatabase(N0);return new Zr(t).toPromise()}function em(){let t=indexedDB.open(N0,uL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Yu,{keyPath:P0})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),yield lL(),e(yield em()))}))})}function i0(t,e,n){return g(this,null,function*(){let r=tl(t,!0).put({[P0]:e,value:n});return new Zr(r).toPromise()})}function dL(t,e){return g(this,null,function*(){let n=tl(t,!1).get(e),r=yield new Zr(n).toPromise();return r===void 0?null:r.value})}function s0(t,e){let n=tl(t,!0).delete(e);return new Zr(n).toPromise()}var hL=800,fL=3,pL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield em(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>fL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return x0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=iL._getInstance(cL()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield oL(),!this.activeServiceWorker)return;this.sender=new Xp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||aL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield em();return yield i0(n,Ku,"1"),yield s0(n,Ku),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>i0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let r=yield this._withRetries(i=>dL(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>s0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=tl(s,!1).getAll();return new Zr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),hL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),M0=pL;var x8=b0("rcb"),N8=new Jr(3e4,6e4);function mL(t,e){return e?Un(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ta=class extends Wu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $p(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $p(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $p(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function gL(t){return JF(t.auth,new ta(t),t.bypassAuthState)}function yL(t){let{auth:e,user:n}=t;return L(n,e,"internal-error"),YF(n,new ta(t),t.bypassAuthState)}function _L(t){return g(this,null,function*(){let{auth:e,user:n}=t;return L(n,e,"internal-error"),QF(n,new ta(t),t.bypassAuthState)})}var tm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gL;case"linkViaPopup":case"linkViaRedirect":return _L;case"reauthViaPopup":case"reauthViaRedirect":return yL;default:pr(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var P8=new Jr(2e3,1e4);var vL="pendingRedirect",Lu=new Map,nm=class t extends tm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=Lu.get(this.auth._key());if(!e){try{let r=(yield wL(this.resolver,this.auth))?yield Kn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Kn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Kn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function wL(t,e){return g(this,null,function*(){let n=TL(e),r=EL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function IL(t,e){Lu.set(t._key(),e)}function EL(t){return Un(t._redirectPersistence)}function TL(t){return Fu(vL,t.config.apiKey,t.name)}function CL(t,e,n=!1){return g(this,null,function*(){let r=fm(t),i=mL(r,e),o=yield new nm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var bL=10*60*1e3,rm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!k0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bL&&this.cachedEventUids.clear(),this.cachedEventUids.has(o0(e))}saveEventToCache(e){this.cachedEventUids.add(o0(e)),this.lastProcessedEventTime=Date.now()}};function o0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function k0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function SL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k0(t);default:return!1}}function DL(n){return g(this,arguments,function*(t,e={}){return us(t,"GET","/v1/projects",e)})}var AL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RL=/^https?/;function xL(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield DL(t);for(let n of e)try{if(NL(n))return}catch{}pr(t,"unauthorized-domain")})}function NL(t){let e=qp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RL.test(n))return!1;if(AL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var PL=new Jr(3e4,6e4);function a0(){let t=_n().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ML(t){return new Promise((e,n)=>{var r,i,s;function o(){a0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a0(),n(Yr(t,"network-request-failed"))},timeout:PL.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_n().gapi)===null||s===void 0)&&s.load)o();else{let a=b0("iframefcb");return _n()[a]=()=>{gapi.load?o():n(Yr(t,"network-request-failed"))},qF(`${zF()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Vu=null,e})}var Vu=null;function kL(t){return Vu=Vu||ML(t),Vu}var OL=new Jr(5e3,15e3),FL="__/auth/iframe",LL="emulator/auth/iframe",VL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BL(t){let e=t.config;L(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?am(e,LL):`https://${t.config.authDomain}/${FL}`,r={apiKey:e.apiKey,appName:t.name,v:pt},i=UL.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wr(r).slice(1)}`}function jL(t){return g(this,null,function*(){let e=yield kL(t),n=_n().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:BL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VL,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Yr(t,"network-request-failed"),a=_n().setTimeout(()=>{s(o)},OL.get());function c(){_n().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var $L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HL=500,qL=600,zL="_blank",WL="http://localhost",Ju=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GL(t,e,n,r=HL,i=qL){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},$L),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Fe().toLowerCase();n&&(a=_0(u)?zL:n),y0(u)&&(e=e||WL,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[y,_])=>`${h}${y}=${_},`,"");if(VF(u)&&a!=="_self")return KL(e||"",a),new Ju(null);let d=window.open(e||"",a,l);L(d,t,"popup-blocked");try{d.focus()}catch{}return new Ju(d)}function KL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var QL="__/auth/handler",YL="emulator/auth/handler",JL=encodeURIComponent("fac");function c0(t,e,n,r,i,s){return g(this,null,function*(){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pt,eventId:i};if(e instanceof Gu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Jp){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${JL}=${encodeURIComponent(c)}`:"";return`${ZL(t)}?${Wr(a).slice(1)}${u}`})}function ZL({config:t}){return t.emulator?am(t,YL):`https://${t.authDomain}/${QL}`}var Hp="webStorageSupport",im=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_m,this._completeRedirectFn=CL,this._overrideRedirectResult=IL}_openPopup(e,n,r,i){return g(this,null,function*(){var s;mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield c0(e,n,r,qp(),i);return GL(e,o,R0())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield c0(e,n,r,qp(),i);return sL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){let n=yield jL(e),r=new rm(e);return n.register("authEvent",i=>(L(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hp,{type:Hp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Hp];o!==void 0&&n(!!o),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T0()||hm()||Zu()}},O0=im;var u0="@firebase/auth",l0="1.6.2";var sm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function XL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eV(t){Ae(new _e("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;L(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(t)},u=new Yp(r,i,s,c);return WF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ae(new _e("auth-internal",e=>{let n=fm(e.getProvider("auth").getImmediate());return(r=>new sm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),O(u0,l0,XL(t)),O(u0,l0,"esm2017")}var tV=5*60,nV=Tp("authIdTokenMaxAge")||tV,d0=null,rV=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nV)return;let i=n?.token;d0!==i&&(d0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function vm(t=at()){let e=qe(t,"auth");if(e.isInitialized())return e.getImmediate();let n=mm(t,{popupRedirectResolver:O0,persistence:[M0,A0,_m]}),r=Tp("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){let s=rV(r);ym(n,s,()=>s(n.currentUser)),Xu(n,o=>s(o))}let i=Ip("auth");return i&&gm(n,`http://${i}`),n}function iV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",iV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eV("Browser");function L0(t){return new G(function(e){var n=el(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var V0="auth",Xr=class{constructor(e){return e}},Bn=class{constructor(){return St(V0)}};var wm=new R("angularfire2.auth-instances");function YV(t,e){let n=Ft(V0,t,e);return n&&new Xr(n)}function JV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xr(r)}}var ZV={provide:Bn,deps:[[new ie,wm]]},XV={provide:Xr,useFactory:YV,deps:[[new ie,wm],Ge]},e2=(()=>{class t{constructor(){O("angularfire",ze.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Me({providers:[XV,ZV]})}return t})();function U0(t,...e){return{ngModule:e2,providers:[{provide:wm,useFactory:JV(t),multi:!0,deps:[V,pe,mt,ct,[new ie,yn],...e]}]}}var B0=We(L0,!0);var j0=We(vm,!0);var q0="@firebase/installations",Cm="0.6.5";var z0=1e4,W0=`w:${Cm}`,G0="FIS_v2",n2="https://firebaseinstallations.googleapis.com/v1",r2=60*60*1e3,i2="installations",s2="Installations";var o2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ti=new ot(i2,s2,o2);function K0(t){return t instanceof be&&t.code.includes("request-failed")}function Q0({projectId:t}){return`${n2}/projects/${t}/installations`}function Y0(t){return{token:t.token,requestStatus:2,expiresIn:c2(t.expiresIn),creationTime:Date.now()}}function J0(t,e){return g(this,null,function*(){let r=(yield e.json()).error;return ti.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Z0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function a2(t,{refreshToken:e}){let n=Z0(t);return n.append("Authorization",u2(e)),n}function X0(t){return g(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function c2(t){return Number(t.replace("s","000"))}function u2(t){return`${G0} ${t}`}function l2(r,i){return g(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=Q0(t),o=Z0(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let c={fid:n,authVersion:G0,appId:t.appId,sdkVersion:W0},u={method:"POST",headers:o,body:JSON.stringify(c)},l=yield X0(()=>fetch(s,u));if(l.ok){let d=yield l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:Y0(d.authToken)}}else throw yield J0("Create Installation",l)})}function eC(t){return new Promise(e=>{setTimeout(e,t)})}function d2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var h2=/^[cdef][\w-]{21}$/,Tm="";function f2(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=p2(t);return h2.test(n)?n:Tm}catch{return Tm}}function p2(t){return d2(t).substr(0,22)}function rl(t){return`${t.appName}!${t.appId}`}var tC=new Map;function nC(t,e){let n=rl(t);rC(n,e),m2(n,e)}function rC(t,e){let n=tC.get(t);if(n)for(let r of n)r(e)}function m2(t,e){let n=g2();n&&n.postMessage({key:t,fid:e}),y2()}var ei=null;function g2(){return!ei&&"BroadcastChannel"in self&&(ei=new BroadcastChannel("[Firebase] FID Change"),ei.onmessage=t=>{rC(t.data.key,t.data.fid)}),ei}function y2(){tC.size===0&&ei&&(ei.close(),ei=null)}var _2="firebase-installations-database",v2=1,ni="firebase-installations-store",Im=null;function bm(){return Im||(Im=Ru(_2,v2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ni)}}})),Im}function nl(t,e){return g(this,null,function*(){let n=rl(t),i=(yield bm()).transaction(ni,"readwrite"),s=i.objectStore(ni),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&nC(t,e.fid),e})}function iC(t){return g(this,null,function*(){let e=rl(t),r=(yield bm()).transaction(ni,"readwrite");yield r.objectStore(ni).delete(e),yield r.done})}function il(t,e){return g(this,null,function*(){let n=rl(t),i=(yield bm()).transaction(ni,"readwrite"),s=i.objectStore(ni),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&nC(t,a.fid),a})}function Sm(t){return g(this,null,function*(){let e,n=yield il(t.appConfig,r=>{let i=w2(r),s=I2(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Tm?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function w2(t){let e=t||{fid:f2(),registrationStatus:0};return sC(e)}function I2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(ti.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=E2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:T2(t)}:{installationEntry:e}}function E2(t,e){return g(this,null,function*(){try{let n=yield l2(t,e);return nl(t.appConfig,n)}catch(n){throw K0(n)&&n.customData.serverCode===409?yield iC(t.appConfig):yield nl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function T2(t){return g(this,null,function*(){let e=yield $0(t.appConfig);for(;e.registrationStatus===1;)yield eC(100),e=yield $0(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Sm(t);return r||n}return e})}function $0(t){return il(t,e=>{if(!e)throw ti.create("installation-not-found");return sC(e)})}function sC(t){return C2(t)?{fid:t.fid,registrationStatus:0}:t}function C2(t){return t.registrationStatus===1&&t.registrationTime+z0<Date.now()}function b2(r,i){return g(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=S2(t,n),o=a2(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let c={installation:{sdkVersion:W0,appId:t.appId}},u={method:"POST",headers:o,body:JSON.stringify(c)},l=yield X0(()=>fetch(s,u));if(l.ok){let d=yield l.json();return Y0(d)}else throw yield J0("Generate Auth Token",l)})}function S2(t,{fid:e}){return`${Q0(t)}/${e}/authTokens:generate`}function Dm(t,e=!1){return g(this,null,function*(){let n,r=yield il(t.appConfig,s=>{if(!oC(s))throw ti.create("not-registered");let o=s.authToken;if(!e&&R2(o))return s;if(o.requestStatus===1)return n=D2(t,e),s;{if(!navigator.onLine)throw ti.create("app-offline");let a=N2(s);return n=A2(t,a),a}});return n?yield n:r.authToken})}function D2(t,e){return g(this,null,function*(){let n=yield H0(t.appConfig);for(;n.authToken.requestStatus===1;)yield eC(100),n=yield H0(t.appConfig);let r=n.authToken;return r.requestStatus===0?Dm(t,e):r})}function H0(t){return il(t,e=>{if(!oC(e))throw ti.create("not-registered");let n=e.authToken;return P2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function A2(t,e){return g(this,null,function*(){try{let n=yield b2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield nl(t.appConfig,r),n}catch(n){if(K0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield iC(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield nl(t.appConfig,r)}throw n}})}function oC(t){return t!==void 0&&t.registrationStatus===2}function R2(t){return t.requestStatus===2&&!x2(t)}function x2(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+r2}function N2(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function P2(t){return t.requestStatus===1&&t.requestTime+z0<Date.now()}function M2(t){return g(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield Sm(e);return r?r.catch(console.error):Dm(e).catch(console.error),n.fid})}function k2(t,e=!1){return g(this,null,function*(){let n=t;return yield O2(n),(yield Dm(n,e)).token})}function O2(t){return g(this,null,function*(){let{registrationPromise:e}=yield Sm(t);e&&(yield e)})}function F2(t){if(!t||!t.options)throw Em("App Configuration");if(!t.name)throw Em("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Em(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Em(t){return ti.create("missing-app-config-values",{valueName:t})}var aC="installations",L2="installations-internal",V2=t=>{let e=t.getProvider("app").getImmediate(),n=F2(e),r=qe(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},U2=t=>{let e=t.getProvider("app").getImmediate(),n=qe(e,aC).getImmediate();return{getId:()=>M2(n),getToken:i=>k2(n,i)}};function B2(){Ae(new _e(aC,V2,"PUBLIC")),Ae(new _e(L2,U2,"PRIVATE"))}B2();O(q0,Cm);O(q0,Cm,"esm2017");var sl="analytics",j2="firebase_id",$2="origin",H2=60*1e3,q2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",km="https://www.googletagmanager.com/gtag/js";var ut=new ft("@firebase/analytics");var z2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dt=new ot("analytics","Analytics",z2);function W2(t){if(!t.startsWith(km)){let e=Dt.create("invalid-gtag-resource",{gtagURL:t});return ut.warn(e.message),""}return t}function pC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function G2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function K2(t,e){let n=G2("firebase-js-sdk-policy",{createScriptURL:W2}),r=document.createElement("script"),i=`${km}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Q2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function Y2(t,e,n,r,i,s){return g(this,null,function*(){let o=r[i];try{if(o)yield e[o];else{let c=(yield pC(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){ut.error(a)}t("config",i,s)})}function J2(t,e,n,r,i){return g(this,null,function*(){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let a=yield pC(n);for(let c of o){let u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(l)s.push(l);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ut.error(s)}})}function Z2(t,e,n,r){function i(s,...o){return g(this,null,function*(){try{if(s==="event"){let[a,c]=o;yield J2(t,e,n,a,c)}else if(s==="config"){let[a,c]=o;yield Y2(t,e,n,r,a,c)}else if(s==="consent"){let[a]=o;t("consent","update",a)}else if(s==="get"){let[a,c,u]=o;t("get",a,c,u)}else if(s==="set"){let[a]=o;t("set",a)}else t(s,...o)}catch(a){ut.error(a)}})}return i}function X2(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Z2(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function eU(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(km)&&n.src.includes(t))return n;return null}var tU=30,nU=1e3,Rm=class{constructor(e={},n=nU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},mC=new Rm;function rU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function iU(t){return g(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:rU(r)},s=q2.replace("{app-id}",n),o=yield fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{let c=yield o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Dt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function sU(r){return g(this,arguments,function*(t,e=mC,n){let{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw Dt.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw Dt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new xm;return setTimeout(()=>g(this,null,function*(){c.abort()}),n!==void 0?n:H2),gC({appId:i,apiKey:s,measurementId:o},a,c,e)})}function gC(s,o,a){return g(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=mC){var c;let{appId:u,measurementId:l}=t;try{yield oU(r,e)}catch(d){if(l)return ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:l};throw d}try{let d=yield iU(t);return i.deleteThrottleMetadata(u),d}catch(d){let h=d;if(!aU(h)){if(i.deleteThrottleMetadata(u),l)return ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:u,measurementId:l};throw d}let y=Number((c=h?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Go(n,i.intervalMillis,tU):Go(n,i.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(u,_),ut.debug(`Calling attemptFetch again in ${y} millis`),gC(t,_,r,i)}})}function oU(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Dt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aU(t){if(!(t instanceof be)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var xm=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var Nm;function cU(t,e,n,r,i){return g(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let s=yield e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}})}function uU(t,e,n,r){return g(this,null,function*(){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();{let i=yield e;t("config",i,{update:!0,user_id:n})}})}var Pm;function lU(t){Pm=t}function dU(t){Nm=t}function hU(){return g(this,null,function*(){if(Fn())try{yield qr()}catch(t){return ut.warn(Dt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ut.warn(Dt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function fU(t,e,n,r,i,s,o){return g(this,null,function*(){var a;let c=sU(t);c.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&ut.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>ut.error(y)),e.push(c);let u=hU().then(y=>{if(y)return r.getId()}),[l,d]=yield Promise.all([c,u]);eU(s)||K2(s,l.measurementId),Pm&&(i("consent","default",Pm),lU(void 0)),i("js",new Date);let h=(a=o?.config)!==null&&a!==void 0?a:{};return h[$2]="firebase",h.update=!0,d!=null&&(h[j2]=d),i("config",l.measurementId,h),Nm&&(i("set",Nm),dU(void 0)),l.measurementId})}var Mm=class{constructor(e){this.app=e}_delete(){return delete ls[this.app.options.appId],Promise.resolve()}},ls={},cC=[],uC={},Am="dataLayer",pU="gtag",lC,Om,dC=!1;function mU(){let t=[];if(Ho()&&t.push("This is a browser extension environment."),Cp()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dt.create("invalid-analytics-context",{errorInfo:e});ut.warn(n.message)}}function gU(t,e,n){mU();let r=t.options.appId;if(!r)throw Dt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dt.create("no-api-key");if(ls[r]!=null)throw Dt.create("already-exists",{id:r});if(!dC){Q2(Am);let{wrappedGtag:s,gtagCore:o}=X2(ls,cC,uC,Am,pU);Om=s,lC=o,dC=!0}return ls[r]=fU(t,cC,uC,e,lC,Am,n),new Mm(t)}function yC(t=at()){t=Se(t);let e=qe(t,sl);return e.isInitialized()?e.getImmediate():_C(t)}function _C(t,e={}){let n=qe(t,sl);if(n.isInitialized()){let i=n.getImmediate();if(Ln(e,n.getOptions()))return i;throw Dt.create("already-initialized")}return n.initialize({options:e})}function vC(){return g(this,null,function*(){if(Ho()||!Cp()||!Fn())return!1;try{return yield qr()}catch{return!1}})}function wC(t,e,n){t=Se(t),uU(Om,ls[t.app.options.appId],e,n).catch(r=>ut.error(r))}function Fm(t,e,n,r){t=Se(t),cU(Om,ls[t.app.options.appId],e,n,r).catch(i=>ut.error(i))}var hC="@firebase/analytics",fC="0.10.1";function yU(){Ae(new _e(sl,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return gU(r,i,n)},"PUBLIC")),Ae(new _e("analytics-internal",t,"PRIVATE")),O(hC,fC),O(hC,fC,"esm2017");function t(e){try{let n=e.getProvider(sl).getImmediate();return{logEvent:(r,i,s)=>Fm(n,r,i,s)}}catch(n){throw Dt.create("interop-component-reg-failed",{reason:n})}}}yU();var ri=class{constructor(e){return e}},TC="analytics",Vm=class{constructor(){return St(TC)}};var Um="__angularfire_symbol__analyticsIsSupportedValue",CC="__angularfire_symbol__analyticsIsSupported";globalThis[CC]||=vC().then(t=>globalThis[Um]=t).catch(()=>globalThis[Um]=!1);var ol={async:()=>globalThis[CC],sync:()=>{let t=globalThis[Um];if(t===void 0)throw new Error(Pu("Analytics"));return t}},bC=ol.async,SC=We(yC,!0);var _U=We(Fm,!0);var vU=We(wC,!0);var al=(()=>{class t{initialized;disposables=[];constructor(n,r,i){O("angularfire",ze.full,"user-tracking");let s;this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),bC().then(()=>{let o=i.get(ri);o?this.disposables=[B0(n).subscribe(a=>{vU(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(S(Xr),S(V),S(pe))};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),wU="firebase_event_origin",IU="firebase_previous_class",EU="firebase_previous_id",TU="firebase_previous_screen",CU="firebase_screen_class",IC="firebase_screen_id",bU="firebase_screen",Bm="outlet",SU="page_path",DU="page_title",na="screen_class",EC="screen_name",AU="screen_view",RU="auto",xU="#",NU=Math.floor(Math.random()*(2**32-1))-2**31,Lm={},PU=t=>{let e=[t[na],t[Bm]].join(xU);if(Lm.hasOwnProperty(e))return Lm[e];{let n=NU++;return Lm[e]=n,n}},MU=(t,e,n)=>t.events.pipe(it(i=>i instanceof So)).pipe(st(i=>{let o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!a)return A(null);let c=a;for(;c.firstChild;)c=c.firstChild;let u=c.pathFromRoot.map(h=>h.routeConfig?.path).filter(h=>h).join("/")||"/",l={[EC]:u,[SU]:`/${o}`,[wU]:RU,[bU]:u,[Bm]:i.snapshot.outlet};e&&(l[DU]=e.getTitle());let d=a.component;if(d){if(d===cp){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;d=h.component}}else d=i.snapshot.component;if(typeof d=="string")return A(fe(C({},l),{[na]:d}));if(d){let h=n.resolveComponentFactory(d);return A(fe(C({},l),{[na]:h.selector}))}return A(null)}),it(i=>!!i),W(i=>C({[CU]:i[na],[IC]:PU(i)},i)),Dd(i=>i[Bm]),Ee(i=>i.pipe(Sd((s,o)=>JSON.stringify(s)===JSON.stringify(o)),zs(void 0),Rd(),W(([s,o])=>s?C({[IU]:s[na],[TU]:s[EC],[EU]:s[IC]},o):o)))),jm=(()=>{class t{disposable;constructor(n,r,i,s,o,a){O("angularfire",ze.full,"screen-tracking"),bC().then(()=>{let c=a.get(ri);!n||!c||s.runOutsideAngular(()=>{this.disposable=MU(n,r,i).pipe(st(u=>g(this,null,function*(){return o&&(yield o.initialized),_U(c,AU,u)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(r){return new(r||t)(S(Kt,8),S(su,8),S(zi),S(V),S(al,8),S(pe))};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),$m=new R("angularfire2.analytics-instances");function kU(t,e){if(!ol.sync())return null;let n=Ft(TC,t,e);return n&&new ri(n)}function OU(t){return(e,n)=>{if(!ol.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new ri(r)}}var FU={provide:Vm,deps:[[new ie,$m]]},LU={provide:ri,useFactory:kU,deps:[[new ie,$m],Ge]},VU=(()=>{class t{constructor(n,r){O("angularfire",ze.full,"analytics")}static \u0275fac=function(r){return new(r||t)(S(jm,8),S(al,8))};static \u0275mod=ke({type:t});static \u0275inj=Me({providers:[LU,FU,{provide:or,useValue:ol.async,multi:!0}]})}return t})();function DC(t,...e){return{ngModule:VU,providers:[{provide:$m,useFactory:OU(t),multi:!0,deps:[V,pe,mt,ct,...e]}]}}var UU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yt={},I,lg=lg||{},k=UU||self;function Il(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ga(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function BU(t){return Object.prototype.hasOwnProperty.call(t,Hm)&&t[Hm]||(t[Hm]=++jU)}var Hm="closure_uid_"+(1e9*Math.random()>>>0),jU=0;function $U(t,e,n){return t.call.apply(t.bind,arguments)}function HU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ze=$U:Ze=HU,Ze.apply(null,arguments)}function cl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ue(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function gr(){this.s=this.s,this.o=this.o}var qU=0;gr.prototype.s=!1;gr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),qU!=0)&&BU(this)};gr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var BC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function AC(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Il(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Xe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var zU=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function ca(t){return/^[\s\xa0]*$/.test(t)}function El(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function vn(t){return El().indexOf(t)!=-1}function hg(t){return hg[" "](t),t}hg[" "]=function(){};function WU(t,e){var n=kB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var GU=vn("Opera"),ps=vn("Trident")||vn("MSIE"),jC=vn("Edge"),Km=jC||ps,$C=vn("Gecko")&&!(El().toLowerCase().indexOf("webkit")!=-1&&!vn("Edge"))&&!(vn("Trident")||vn("MSIE"))&&!vn("Edge"),KU=El().toLowerCase().indexOf("webkit")!=-1&&!vn("Edge");function HC(){var t=k.document;return t?t.documentMode:void 0}var Qm;e:{if(ul="",ll=function(){var t=El();if($C)return/rv:([^\);]+)(\)|;)/.exec(t);if(jC)return/Edge\/([\d\.]+)/.exec(t);if(ps)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(KU)return/WebKit\/(\S+)/.exec(t);if(GU)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),ll&&(ul=ll?ll[1]:""),ps&&(dl=HC(),dl!=null&&dl>parseFloat(ul))){Qm=String(dl);break e}Qm=ul}var ul,ll,dl,Ym;k.document&&ps?(qm=HC(),Ym=qm||parseInt(Qm,10)||void 0):Ym=void 0;var qm,QU=Ym;function ua(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($C){e:{try{hg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:YU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ua.$.h.call(this)}}Ue(ua,Xe);var YU={2:"touch",3:"pen",4:"mouse"};ua.prototype.h=function(){ua.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ya="closure_listenable_"+(1e6*Math.random()|0),JU=0;function ZU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++JU,this.fa=this.ia=!1}function Tl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function fg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function XU(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function qC(t){let e={};for(let n in t)e[n]=t[n];return e}var RC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<RC.length;s++)n=RC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cl(t){this.src=t,this.g={},this.h=0}Cl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Zm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new ZU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Jm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=BC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Tl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Zm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var pg="closure_lm_"+(1e6*Math.random()|0),zm={};function WC(t,e,n,r,i){if(r&&r.once)return KC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)WC(t,e[s],n,r,i);return null}return n=yg(n),t&&t[ya]?t.O(e,n,ga(r)?!!r.capture:!!r,i):GC(t,e,n,!1,r,i)}function GC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ga(i)?!!i.capture:!!i,a=gg(t);if(a||(t[pg]=a=new Cl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=eB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(YC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eB(){function t(n){return e.call(t.src,t.listener,n)}let e=tB;return t}function KC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)KC(t,e[s],n,r,i);return null}return n=yg(n),t&&t[ya]?t.P(e,n,ga(r)?!!r.capture:!!r,i):GC(t,e,n,!0,r,i)}function QC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)QC(t,e[s],n,r,i);else r=ga(r)?!!r.capture:!!r,n=yg(n),t&&t[ya]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Zm(s,n,r,i),-1<n&&(Tl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=gg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zm(e,n,r,i)),(n=-1<t?e[t]:null)&&mg(n))}function mg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ya])Jm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(YC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gg(e))?(Jm(n,t),n.h==0&&(n.src=null,e[pg]=null)):Tl(t)}}}function YC(t){return t in zm?zm[t]:zm[t]="on"+t}function tB(t,e){if(t.fa)t=!0;else{e=new ua(e,this);var n=t.listener,r=t.la||t.src;t.ia&&mg(t),t=n.call(r,e)}return t}function gg(t){return t=t[pg],t instanceof Cl?t:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function yg(t){return typeof t=="function"?t:(t[Wm]||(t[Wm]=function(e){return t.handleEvent(e)}),t[Wm])}function Ve(){gr.call(this),this.i=new Cl(this),this.S=this,this.J=null}Ue(Ve,gr);Ve.prototype[ya]=!0;Ve.prototype.removeEventListener=function(t,e,n,r){QC(this,t,e,n,r)};function Qe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xe(e,t);else if(e instanceof Xe)e.target=e.target||t;else{var i=e;e=new Xe(r,t),zC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=hl(o,r,!0,e)&&i}if(o=e.g=t,i=hl(o,r,!0,e)&&i,i=hl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=hl(o,r,!1,e)&&i}Ve.prototype.N=function(){if(Ve.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tl(n[r]);delete t.g[e],t.h--}}this.J=null};Ve.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ve.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function hl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Jm(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var _g=k.JSON.stringify,Xm=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function nB(){var t=vg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var eg=class{constructor(){this.h=this.g=null}add(e,n){let r=JC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},JC=new Xm(()=>new tg,t=>t.reset()),tg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function rB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function iB(t){k.setTimeout(()=>{throw t},0)}var la,da=!1,vg=new eg,ZC=()=>{let t=k.Promise.resolve(void 0);la=()=>{t.then(sB)}},sB=()=>{for(var t;t=nB();){try{t.h.call(t.g)}catch(n){iB(n)}var e=JC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}da=!1};function bl(t,e){Ve.call(this),this.h=t||1,this.g=e||k,this.j=Ze(this.qb,this),this.l=Date.now()}Ue(bl,Ve);I=bl.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qe(this,"tick"),this.ga&&(wg(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){bl.$.N.call(this),wg(this),delete this.g};function Ig(t,e,n){if(typeof t=="function")n&&(t=Ze(t,n));else if(t&&typeof t.handleEvent=="function")t=Ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function XC(t){t.g=Ig(()=>{t.g=null,t.i&&(t.i=!1,XC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var ng=class extends gr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XC(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ha(t){gr.call(this),this.h=t,this.g={}}Ue(ha,gr);var xC=[];function eb(t,e,n,r){Array.isArray(n)||(n&&(xC[0]=n.toString()),n=xC);for(var i=0;i<n.length;i++){var s=WC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tb(t){fg(t.g,function(e,n){this.g.hasOwnProperty(n)&&mg(e)},t),t.g={}}ha.prototype.N=function(){ha.$.N.call(this),tb(this)};ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sl(){this.g=!0}Sl.prototype.Ea=function(){this.g=!1};function oB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function aB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function hs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+uB(t,n)+(r?" "+r:"")})}function cB(t,e){t.info(function(){return"TIMEOUT: "+e})}Sl.prototype.info=function(){};function uB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _g(n)}catch{return e}}var ai={},NC=null;function Dl(){return NC=NC||new Ve}ai.Ta="serverreachability";function nb(t){Xe.call(this,ai.Ta,t)}Ue(nb,Xe);function fa(t){let e=Dl();Qe(e,new nb(e))}ai.STAT_EVENT="statevent";function rb(t,e){Xe.call(this,ai.STAT_EVENT,t),this.stat=e}Ue(rb,Xe);function lt(t){let e=Dl();Qe(e,new rb(e,t))}ai.Ua="timingevent";function ib(t,e){Xe.call(this,ai.Ua,t),this.size=e}Ue(ib,Xe);function _a(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var Al={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Eg(){}Eg.prototype.h=null;function PC(t){return t.h||(t.h=t.i())}function ob(){}var va={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Tg(){Xe.call(this,"d")}Ue(Tg,Xe);function Cg(){Xe.call(this,"c")}Ue(Cg,Xe);var rg;function Rl(){}Ue(Rl,Eg);Rl.prototype.g=function(){return new XMLHttpRequest};Rl.prototype.i=function(){return{}};rg=new Rl;function wa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ha(this),this.P=lB,t=Km?125:void 0,this.V=new bl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ab}function ab(){this.i=null,this.g="",this.h=!1}var lB=45e3,cb={},ig={};I=wa.prototype;I.setTimeout=function(t){this.P=t};function sg(t,e,n){t.L=1,t.A=Nl($n(e)),t.u=n,t.S=!0,ub(t,null)}function ub(t,e){t.G=Date.now(),Ia(t),t.B=$n(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),yb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ab,t.g=Vb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new ng(Ze(t.Pa,t,t.g),t.O)),eb(t.U,t.g,"readystatechange",t.nb),e=t.I?qC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),fa(),oB(t.j,t.v,t.B,t.m,t.W,t.u)}I.nb=function(t){t=t.target;let e=this.M;e&&wn(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{let l=wn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Km||this.g&&(this.h.h||this.g.ja()||FC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?fa(3):fa(2)),xl(this);var n=this.g.da();this.ca=n;t:if(lb(this)){var r=FC(this.g);t="";var i=r.length,s=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),aa(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,aB(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ca(a)){var u=a;break t}}u=null}if(n=u)hs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,og(this,n);else{this.i=!1,this.s=3,lt(12),ii(this),aa(this);break e}}this.S?(db(this,l,o),Km&&this.i&&l==3&&(eb(this.U,this.V,"tick",this.mb),this.V.start())):(hs(this.j,this.m,o,null),og(this,o)),l==4&&ii(this),this.i&&!this.J&&(l==4?kb(this.l,this):(this.i=!1,Ia(this)))}else NB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),ii(this),aa(this)}}}catch{}finally{}};function lb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function db(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=dB(t,n),i==ig){e==4&&(t.s=4,lt(14),r=!1),hs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==cb){t.s=4,lt(15),hs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else hs(t.j,t.m,i,null),og(t,i);lb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,lt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xg(e),e.M=!0,lt(11))):(hs(t.j,t.m,n,"[Invalid Chunked Response]"),ii(t),aa(t))}I.mb=function(){if(this.g){var t=wn(this.g),e=this.g.ja();this.o<e.length&&(xl(this),db(this,t,e),this.i&&t!=4&&Ia(this))}};function dB(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?ig:(n=Number(e.substring(n,r)),isNaN(n)?cb:(r+=1,r+n>e.length?ig:(e=e.slice(r,r+n),t.o=r+n,e)))}I.cancel=function(){this.J=!0,ii(this)};function Ia(t){t.Y=Date.now()+t.P,hb(t,t.P)}function hb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=_a(Ze(t.lb,t),e)}function xl(t){t.C&&(k.clearTimeout(t.C),t.C=null)}I.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(cB(this.j,this.B),this.L!=2&&(fa(),lt(17)),ii(this),this.s=2,aa(this)):hb(this,this.Y-t)};function aa(t){t.l.H==0||t.J||kb(t.l,t)}function ii(t){xl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,wg(t.V),tb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function og(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ag(n.i,t))){if(!t.K&&ag(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yl(n),kl(n);else break e;Rg(n),lt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=_a(Ze(n.ib,n),6e3));if(1>=wb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else si(n,11)}else if((t.K||n.g==t)&&yl(n),!ca(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let y=t.g;if(y){let _=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(bg(s,s.h),s.h=null))}if(r.F){let v=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ge(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Lb(r,r.J?r.pa:null,r.Y),o.K){Ib(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(xl(a),Ia(a)),r.g=o}else Pb(r);0<n.j.length&&Ol(n)}else u[0]!="stop"&&u[0]!="close"||si(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?si(n,7):Ag(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}fa(4)}catch{}}function hB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Il(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Il(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function fb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Il(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=fB(t),r=hB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var pb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function oi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof oi){this.h=t.h,ml(this,t.j),this.s=t.s,this.g=t.g,gl(this,t.m),this.l=t.l;var e=t.i,n=new pa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),MC(this,n),this.o=t.o}else t&&(e=String(t).match(pb))?(this.h=!1,ml(this,e[1]||"",!0),this.s=sa(e[2]||""),this.g=sa(e[3]||"",!0),gl(this,e[4]),this.l=sa(e[5]||"",!0),MC(this,e[6]||"",!0),this.o=sa(e[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}oi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oa(e,kC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oa(e,kC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oa(n,n.charAt(0)=="/"?yB:gB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oa(n,vB)),t.join("")};function $n(t){return new oi(t)}function ml(t,e,n){t.j=n?sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function gl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function MC(t,e,n){e instanceof pa?(t.i=e,wB(t.i,t.h)):(n||(e=oa(e,_B)),t.i=new pa(e,t.h))}function ge(t,e,n){t.i.set(e,n)}function Nl(t){return ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,mB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var kC=/[#\/\?@]/g,gB=/[#\?:]/g,yB=/[#\?]/g,_B=/[#\?@]/g,vB=/#/g;function pa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yr(t){t.g||(t.g=new Map,t.h=0,t.i&&pB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=pa.prototype;I.add=function(t,e){yr(this),this.i=null,t=ms(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function mb(t,e){yr(t),e=ms(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gb(t,e){return yr(t),e=ms(t,e),t.g.has(e)}I.forEach=function(t,e){yr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};I.ta=function(){yr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};I.Z=function(t){yr(this);let e=[];if(typeof t=="string")gb(this,t)&&(e=e.concat(this.g.get(ms(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return yr(this),this.i=null,t=ms(this,t),gb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function yb(t,e,n){mb(t,e),0<n.length&&(t.i=null,t.g.set(ms(t,e),dg(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ms(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wB(t,e){e&&!t.j&&(yr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(mb(this,r),yb(this,i,n))},t)),t.j=e}var IB=class{constructor(t,e){this.g=t,this.map=e}};function _b(t){this.l=t||EB,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var EB=10;function vb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wb(t){return t.h?1:t.g?t.g.size:0}function ag(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function bg(t,e){t.g?t.g.add(e):t.h=e}function Ib(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}_b.prototype.cancel=function(){if(this.i=Eb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Eb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return dg(t.i)}var TB=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function CB(){this.g=new TB}function bB(t,e,n){let r=n||"";try{fb(t,function(i,s){let o=i;ga(i)&&(o=_g(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function SB(t,e){let n=new Sl;if(k.Image){let r=new Image;r.onload=cl(fl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cl(fl,n,r,"TestLoadImage: error",!1,e),r.onabort=cl(fl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cl(fl,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ea(t){this.l=t.ec||null,this.j=t.ob||!1}Ue(Ea,Eg);Ea.prototype.g=function(){return new Pl(this.l,this.j)};Ea.prototype.i=function(t){return function(){return t}}({});function Pl(t,e){Ve.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Sg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ue(Pl,Ve);var Sg=0;I=Pl.prototype;I.open=function(t,e){if(this.readyState!=Sg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ma(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=Sg};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Tb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ta(this):ma(this),this.readyState==3&&Tb(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,Ta(this))};I.Ya=function(t){this.g&&(this.response=t,Ta(this))};I.ka=function(){this.g&&Ta(this)};function Ta(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ma(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ma(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var DB=k.JSON.parse;function Te(t){Ve.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cb,this.L=this.M=!1}Ue(Te,Ve);var Cb="",AB=/^https?$/i,RB=["POST","PUT"];I=Te.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rg.g(),this.C=this.u?PC(this.u):PC(rg),this.g.onreadystatechange=Ze(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){OC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=k.FormData&&t instanceof k.FormData,!(0<=BC(RB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Db(this),0<this.B&&((this.L=xB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ze(this.ua,this)):this.A=Ig(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){OC(this,s)}};function xB(t){return ps&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof lg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qe(this,"timeout"),this.abort(8))};function OC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bb(t),Ml(t)}function bb(t){t.F||(t.F=!0,Qe(t,"complete"),Qe(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qe(this,"complete"),Qe(this,"abort"),Ml(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ml(this,!0)),Te.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?Sb(this):this.kb())};I.kb=function(){Sb(this)};function Sb(t){if(t.h&&typeof lg<"u"&&(!t.C[1]||wn(t)!=4||t.da()!=2)){if(t.v&&wn(t)==4)Ig(t.La,0,t);else if(Qe(t,"readystatechange"),wn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(pb)[1]||null;!i&&k.self&&k.self.location&&(i=k.self.location.protocol.slice(0,-1)),r=!AB.test(i?i.toLowerCase():"")}n=r}if(n)Qe(t,"complete"),Qe(t,"success");else{t.m=6;try{var s=2<wn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bb(t)}}finally{Ml(t)}}}}function Ml(t,e){if(t.g){Db(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function Db(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function wn(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),DB(e)}};function FC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Cb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function NB(t){let e={};t=(t.g&&2<=wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ca(t[r]))continue;var n=rB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}XU(e,function(r){return r.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ab(t){let e="";return fg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Dg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ab(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ge(t,e,n))}function ra(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rb(t){this.Ga=0,this.j=[],this.l=new Sl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ra("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ra("baseRetryDelayMs",5e3,t),this.hb=ra("retryDelaySeedMs",1e4,t),this.eb=ra("forwardChannelMaxRetries",2,t),this.xa=ra("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new _b(t&&t.concurrentRequestLimit),this.Ja=new CB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=Rb.prototype;I.ra=8;I.H=1;function Ag(t){if(xb(t),t.H==3){var e=t.W++,n=$n(t.I);if(ge(n,"SID",t.K),ge(n,"RID",e),ge(n,"TYPE","terminate"),Ca(t,n),e=new wa(t,t.l,e),e.L=2,e.A=Nl($n(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=Vb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ia(e)}Fb(t)}function kl(t){t.g&&(xg(t),t.g.cancel(),t.g=null)}function xb(t){kl(t),t.u&&(k.clearTimeout(t.u),t.u=null),yl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function Ol(t){if(!vb(t.i)&&!t.m){t.m=!0;var e=t.Na;la||ZC(),da||(la(),da=!0),vg.add(e,t),t.C=0}}function PB(t,e){return wb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_a(Ze(t.Na,t,e),Ob(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new wa(this,this.l,t),s=this.s;if(this.U&&(s?(s=qC(s),zC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Nb(this,i,e),n=$n(this.I),ge(n,"RID",t),ge(n,"CVER",22),this.F&&ge(n,"X-HTTP-Session-Id",this.F),Ca(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ab(s)))+"&"+e:this.o&&Dg(n,this.o,s)),bg(this.i,i),this.bb&&ge(n,"TYPE","init"),this.P?(ge(n,"$req",e),ge(n,"SID","null"),i.aa=!0,sg(i,n,null)):sg(i,n,e),this.H=2}}else this.H==3&&(t?LC(this,t):this.j.length==0||vb(this.i)||LC(this))};function LC(t,e){var n;e?n=e.m:n=t.W++;let r=$n(t.I);ge(r,"SID",t.K),ge(r,"RID",n),ge(r,"AID",t.V),Ca(t,r),t.o&&t.s&&Dg(r,t.o,t.s),n=new wa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Nb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bg(t.i,n),sg(n,r,e)}function Ca(t,e){t.na&&fg(t.na,function(n,r){ge(e,r,n)}),t.h&&fb({},function(n,r){ge(e,r,n)})}function Nb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ze(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{bB(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Pb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;la||ZC(),da||(la(),da=!0),vg.add(e,t),t.A=0}}function Rg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_a(Ze(t.Ma,t),Ob(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,Mb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_a(Ze(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,lt(10),kl(this),Mb(this))};function xg(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function Mb(t){t.g=new wa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$n(t.wa);ge(e,"RID","rpc"),ge(e,"SID",t.K),ge(e,"AID",t.V),ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ge(e,"TO",t.qa),ge(e,"TYPE","xmlhttp"),Ca(t,e),t.o&&t.s&&Dg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Nl($n(e)),n.u=null,n.S=!0,ub(n,t)}I.ib=function(){this.v!=null&&(this.v=null,kl(this),Rg(this),lt(19))};function yl(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function kb(t,e){var n=null;if(t.g==e){yl(t),xg(t),t.g=null;var r=2}else if(ag(t.i,e))n=e.F,Ib(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Dl(),Qe(r,new ib(r,n)),Ol(t)}else Pb(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&PB(t,e)||r==2&&Rg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:si(t,5);break;case 4:si(t,10);break;case 3:si(t,6);break;default:si(t,2)}}}function Ob(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function si(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ze(t.pb,t);n||(n=new oi("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||ml(n,"https"),Nl(n)),SB(n.toString(),r)}else lt(2);t.H=0,t.h&&t.h.za(e),Fb(t),xb(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),lt(2)):(this.l.info("Failed to ping google.com"),lt(1))};function Fb(t){if(t.H=0,t.ma=[],t.h){let e=Eb(t.i);(e.length!=0||t.j.length!=0)&&(AC(t.ma,e),AC(t.ma,t.j),t.i.i.length=0,dg(t.j),t.j.length=0),t.h.ya()}}function Lb(t,e,n){var r=n instanceof oi?$n(n):new oi(n);if(r.g!="")e&&(r.g=e+"."+r.g),gl(r,r.m);else{var i=k.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new oi(null);r&&ml(s,r),e&&(s.g=e),i&&gl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ge(r,n,e),ge(r,"VER",t.ra),Ca(t,r),r}function Vb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Te(new Ea({ob:n})):new Te(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function Ub(){}I=Ub.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function _l(){if(ps&&!(10<=Number(QU)))throw Error("Environmental error: no available transport.")}_l.prototype.g=function(t,e){return new At(t,e)};function At(t,e){Ve.call(this),this.g=new Rb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ca(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ca(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gs(this)}Ue(At,Ve);At.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;lt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Lb(t,null,t.Y),Ol(t)};At.prototype.close=function(){Ag(this.g)};At.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_g(t),t=n);e.j.push(new IB(e.fb++,t)),e.H==3&&Ol(e)};At.prototype.N=function(){this.g.h=null,delete this.j,Ag(this.g),delete this.g,At.$.N.call(this)};function Bb(t){Tg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ue(Bb,Tg);function jb(){Cg.call(this),this.status=1}Ue(jb,Cg);function gs(t){this.g=t}Ue(gs,Ub);gs.prototype.Ba=function(){Qe(this.g,"a")};gs.prototype.Aa=function(t){Qe(this.g,new Bb(t))};gs.prototype.za=function(t){Qe(this.g,new jb)};gs.prototype.ya=function(){Qe(this.g,"b")};function MB(){this.blockSize=-1}function Qt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ue(Qt,MB);Qt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Qt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Gm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Gm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Gm(this,r),i=0;break}}this.h=i,this.i+=e};Qt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var kB={};function Ng(t){return-128<=t&&128>t?WU(t,function(e){return new ce([e|0],0>e?-1:0)}):new ce([t|0],0>t?-1:0)}function In(t){if(isNaN(t)||!isFinite(t))return fs;if(0>t)return Ke(In(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cg;return new ce(e,0)}function $b(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ke($b(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=In(Math.pow(e,8)),r=fs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=In(Math.pow(e,s)),r=r.R(s).add(In(o))):(r=r.R(n),r=r.add(In(o)))}return r}var cg=4294967296,fs=Ng(0),ug=Ng(1),VC=Ng(16777216);I=ce.prototype;I.ea=function(){if(Lt(this))return-Ke(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cg+r)*e,e*=cg}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jn(this))return"0";if(Lt(this))return"-"+Ke(this).toString(t);for(var e=In(Math.pow(t,6)),n=this,r="";;){var i=wl(n,e).g;n=vl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,jn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Lt(t){return t.h==-1}I.X=function(t){return t=vl(this,t),Lt(t)?-1:jn(t)?0:1};function Ke(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ce(n,~t.h).add(ug)}I.abs=function(){return Lt(this)?Ke(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ce(n,n[n.length-1]&-2147483648?-1:0)};function vl(t,e){return t.add(Ke(e))}I.R=function(t){if(jn(this)||jn(t))return fs;if(Lt(this))return Lt(t)?Ke(this).R(Ke(t)):Ke(Ke(this).R(t));if(Lt(t))return Ke(this.R(Ke(t)));if(0>this.X(VC)&&0>t.X(VC))return In(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,pl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,pl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ce(n,0)};function pl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ia(t,e){this.g=t,this.h=e}function wl(t,e){if(jn(e))throw Error("division by zero");if(jn(t))return new ia(fs,fs);if(Lt(t))return e=wl(Ke(t),e),new ia(Ke(e.g),Ke(e.h));if(Lt(e))return e=wl(t,Ke(e)),new ia(Ke(e.g),e.h);if(30<t.g.length){if(Lt(t)||Lt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ug,r=e;0>=r.X(t);)n=UC(n),r=UC(r);var i=ds(n,1),s=ds(r,1);for(r=ds(r,2),n=ds(n,2);!jn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ds(r,1),n=ds(n,1)}return e=vl(t,i.R(e)),new ia(i,e)}for(i=fs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=In(n),o=s.R(e);Lt(o)||0<o.X(t);)n-=r,s=In(n),o=s.R(e);jn(s)&&(s=ug),i=i.add(s),t=vl(t,o)}return new ia(i,t)}I.gb=function(t){return wl(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ce(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ce(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ce(n,this.h^t.h)};function UC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ce(n,t.h)}function ds(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ce(i,t.h)}_l.prototype.createWebChannel=_l.prototype.g;At.prototype.send=At.prototype.u;At.prototype.open=At.prototype.m;At.prototype.close=At.prototype.close;Al.NO_ERROR=0;Al.TIMEOUT=8;Al.HTTP_ERROR=6;sb.COMPLETE="complete";ob.EventType=va;va.OPEN="a";va.CLOSE="b";va.ERROR="c";va.MESSAGE="d";Ve.prototype.listen=Ve.prototype.O;Te.prototype.listenOnce=Te.prototype.P;Te.prototype.getLastError=Te.prototype.Sa;Te.prototype.getLastErrorCode=Te.prototype.Ia;Te.prototype.getStatus=Te.prototype.da;Te.prototype.getResponseJson=Te.prototype.Wa;Te.prototype.getResponseText=Te.prototype.ja;Te.prototype.send=Te.prototype.ha;Te.prototype.setWithCredentials=Te.prototype.Oa;Qt.prototype.digest=Qt.prototype.l;Qt.prototype.reset=Qt.prototype.reset;Qt.prototype.update=Qt.prototype.j;ce.prototype.add=ce.prototype.add;ce.prototype.multiply=ce.prototype.R;ce.prototype.modulo=ce.prototype.gb;ce.prototype.compare=ce.prototype.X;ce.prototype.toNumber=ce.prototype.ea;ce.prototype.toString=ce.prototype.toString;ce.prototype.getBits=ce.prototype.D;ce.fromNumber=In;ce.fromString=$b;var OB=Yt.createWebChannelTransport=function(){return new _l},FB=Yt.getStatEventTarget=function(){return Dl()},LB=Yt.ErrorCode=Al,VB=Yt.EventType=sb,UB=Yt.Event=ai,BB=Yt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},u7=Yt.FetchXmlHttpFactory=Ea,jB=Yt.WebChannel=ob,$B=Yt.XhrIo=Te,HB=Yt.Md5=Qt,Hb=Yt.Integer=ce;var qb="@firebase/firestore";var Be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");var ba="10.9.0";var _s=new ft("@firebase/firestore");function Rt(t,...e){if(_s.logLevel<=K.DEBUG){let n=e.map(Xg);_s.debug(`Firestore (${ba}): ${t}`,...n)}}function Zg(t,...e){if(_s.logLevel<=K.ERROR){let n=e.map(Xg);_s.error(`Firestore (${ba}): ${t}`,...n)}}function qB(t,...e){if(_s.logLevel<=K.WARN){let n=e.map(Xg);_s.warn(`Firestore (${ba}): ${t}`,...n)}}function Xg(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function gt(t="Unexpected state"){let e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+t;throw Zg(e),new Error(e)}function Mg(t,e){t||gt()}var Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ne=class extends be{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Fl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},kg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}},Og=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Fg=class{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>g(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mg(typeof r.accessToken=="string"),new Fl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Mg(e===null||typeof e=="string"),new Be(e)}},Lg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Vg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Lg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ug=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Rt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mg(typeof n.token=="string"),this.R=n.token,new Ug(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function zB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=zB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Yb(t,e){return t<e?-1:t>e?1:0}var $g=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&gt(),r===void 0?r=e.length-n:r>e.length-n&&gt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},_r=class t extends $g{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Ne(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var ci=class t{constructor(e){this.path=e}static fromPath(e){return new t(_r.fromString(e))}static fromName(e){return new t(_r.fromString(e).popFirst(5))}static empty(){return new t(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_r.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _r.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new _r(e.slice()))}};var Hg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Hg.UNKNOWN_ID=-1;function Jb(t){return t.name==="IndexedDbTransactionError"}function WB(t){return t===0&&1/t==-1/0}var GB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],w7=[...GB,"documentOverlays"],KB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QB=KB,I7=[...QB,"indexConfiguration","indexState","indexEntries"];var vs=class t{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ys(this.root,e,this.comparator,!0)}},ys=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();let e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}};Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ll=class t{constructor(e){this.comparator=e,this.data=new vs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vl(this.data.getIterator())}getIteratorFrom(e){return new Vl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ws=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yb(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ws.EMPTY_BYTE_STRING=new ws("");var T7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zb(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function YB(t){return typeof t=="string"?ws.fromBase64String(t):ws.fromUint8Array(t)}var zg=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Wg=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function JB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var C7=new vs(ci.comparator);var b7=new vs(ci.comparator);var S7=new vs(ci.comparator),D7=new Ll(ci.comparator);var A7=new Ll(Yb);var Wb,Y;(Y=Wb||(Wb={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var R7=new Hb([4294967295,4294967295],0);var Ul=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(zb(e.integerValue));else if("doubleValue"in e){let r=zb(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),WB(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(YB(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?JB(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):gt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),ci.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Ul.bt=new Ul;var x7=new Uint8Array(0);var En=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);function Pg(){return typeof document<"u"?document:null}var Gg=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Kg=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ZB(t,e){if(Zg("AsyncQueue",`${e}: ${t}`),Jb(t))return new Ne(Ye.UNAVAILABLE,`${e}: ${t}`);throw t}var Gb,Kb;(Kb=Gb||(Gb={})).j_="default",Kb.Cache="cache";var Qg=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>g(this,null,function*(){Rt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Rt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ZB(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Zb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Qb=new Map;function XB(t,e,n,r){if(e===!0&&r===!0)throw new Ne(Ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ej(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":gt()}function tj(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ej(t);throw new Ne(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Bl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ne(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ne(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ne(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ne(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},jl=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ne(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kg;switch(r.type){case"firstParty":return new Vg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Qb.get(n);r&&(Rt("ComponentProvider","Removing Datastore"),Qb.delete(n),r.terminate())}(this),Promise.resolve()}};function Xb(t,e,n,r={}){var i;let s=(t=tj(t,jl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qB("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Be.MOCK_USER;else{a=as(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ne(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Be(u)}t._authCredentials=new Og(new Fl(a,c))}}var Yg=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Gg(this,"async_queue_retry"),this.cu=()=>{let n=Pg();n&&Rt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Pg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new vr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return g(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Jb(e))throw e;Rt("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zg("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=Kg.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&gt()}verifyOperationInProgress(){}Tu(){return g(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Jg=class extends jl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Yg}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nj(this),this._firestoreClient.terminate()}};function eS(t,e){let n=typeof t=="object"?t:at(),r=typeof t=="string"?t:e||"(default)",i=qe(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=os("firestore");s&&Xb(i,...s)}return i}function nj(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new zg(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Zb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Qg(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var N7=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){ba=i})(pt),Ae(new _e("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Jg(new Fg(r.getProvider("auth-internal")),new Bg(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ne(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wg(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),O(qb,"4.5.0",e),O(qb,"4.5.0","esm2017")})();var Sa=class{constructor(e){return e}},tS="firestore",ey=class{constructor(){return St(tS)}};var ty=new R("angularfire2.firestore-instances");function rj(t,e){let n=Ft(tS,t,e);return n&&new Sa(n)}function ij(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Sa(r)}}var sj={provide:ey,deps:[[new ie,ty]]},oj={provide:Sa,useFactory:rj,deps:[[new ie,ty],Ge]},aj=(()=>{class t{constructor(){O("angularfire",ze.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Me({providers:[oj,sj]})}return t})();function nS(t,...e){return{ngModule:aj,providers:[{provide:ty,useFactory:ij(t),multi:!0,deps:[V,pe,mt,ct,[new ie,Bn],[new ie,yn],...e]}]}}var rS=We(eS,!0);var iS="@firebase/database",sS="1.0.3";var Xy="";function cj(t){Xy=t}var uy=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Le(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ss(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var ly=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var LS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uy(e)}}catch{}return new ly},li=LS("localStorage"),dy=LS("sessionStorage");var Cs=new ft("@firebase/database"),uj=function(){let t=1;return function(){return t++}}(),VS=function(t){let e=VT(t),n=new Cu;n.update(e);let r=n.digest();return bu.encodeByteArray(r)},Ua=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ua.apply(null,r):typeof r=="object"?e+=Le(r):e+=r,e+=" "}return e},di=null,oS=!0,lj=function(t,e){w(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Cs.logLevel=K.VERBOSE,di=Cs.log.bind(Cs),e&&dy.set("logging_enabled",!0)):typeof t=="function"?di=t:(di=null,dy.remove("logging_enabled"))},et=function(...t){if(oS===!0&&(oS=!1,di===null&&dy.get("logging_enabled")===!0&&lj(!0)),di){let e=Ua.apply(null,t);di(e)}},Ba=function(t){return function(...e){et(t,...e)}},hy=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ua(...t);Cs.error(e)},qn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ua(...t)}`;throw Cs.error(e),new Error(e)},xt=function(...t){let e="FIREBASE WARNING: "+Ua(...t);Cs.warn(e)},dj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},US=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hj=function(t){if(pn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ss="[MIN_NAME]",hi="[MAX_NAME]",Ms=function(t,e){if(t===e)return 0;if(t===Ss||e===hi)return-1;if(e===Ss||t===hi)return 1;{let n=aS(t),r=aS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},fj=function(t,e){return t===e?0:t<e?-1:1},Da=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Le(e))},e_=function(t){if(typeof t!="object"||t===null)return Le(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Le(e[r]),n+=":",n+=e_(t[e[r]]);return n+="}",n},BS=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Bt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var jS=function(t){w(!US(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let l=u.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(l.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},pj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var gj=new RegExp("^-?(0*)\\d{1,10}$"),yj=-2147483648,_j=2147483647,aS=function(t){if(gj.test(t)){let e=Number(t);if(e>=yj&&e<=_j)return e}return null},ja=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw xt("Exception was thrown by user callback.",n),e},Math.floor(0))}},vj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var fy=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var py=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}},Ma=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Hl="5",$S="v",HS="s",qS="r",zS="f",WS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GS="ls",KS="p",my="ac",QS="websocket",YS="long_polling";var ql=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=li.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&li.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function wj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function JS(t,e,n){w(typeof e=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let r;if(e===QS)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===YS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);wj(t)&&(n.ns=t.namespace);let i=[];return Bt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var gy=class{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return xT(this.counters_)}};var ny={},ry={};function t_(t){let e=t.toString();return ny[e]||(ny[e]=new gy),ny[e]}function Ij(t,e){let n=t.toString();return ry[n]||(ry[n]=e()),ry[n]}var yy=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ja(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var cS="start",Ej="close",Tj="pLPCommand",Cj="pRTLPCB",ZS="id",XS="pw",eD="ser",bj="cb",Sj="seg",Dj="ts",Aj="d",Rj="dframe",tD=1870,nD=30,xj=tD-nD,Nj=25e3,Pj=3e4,_y=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ba(e),this.stats_=t_(n),this.urlFn=c=>(this.appCheckToken&&(c[my]=this.appCheckToken),JS(n,YS,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yy(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Pj)),hj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vy((...s)=>{let[o,a,c,u,l]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===cS)this.id=a,this.password=c;else if(o===Ej)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[cS]="t",r[eD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$S]=Hl,this.transportSessionId&&(r[HS]=this.transportSessionId),this.lastSessionId&&(r[GS]=this.lastSessionId),this.applicationId&&(r[KS]=this.applicationId),this.appCheckToken&&(r[my]=this.appCheckToken),typeof location<"u"&&location.hostname&&WS.test(location.hostname)&&(r[qS]=zS);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return pn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pj()&&!mj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=vp(n),i=BS(r,xj);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(pn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Rj]="t",r[ZS]=e,r[XS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},vy=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,pn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=uj(),window[Tj+this.uniqueCallbackIdentifier]=e,window[Cj+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){et("frame writing exception"),a.stack&&et(a.stack),et(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[ZS]=this.myID,e[XS]=this.myPW,e[eD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nD+r.length<=tD;){let o=this.pendingSegs.shift();r=r+"&"+Sj+i+"="+o.seg+"&"+Dj+i+"="+o.ts+"&"+Aj+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Nj)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){pn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Mj=16384,kj=45e3,zl=null;typeof MozWebSocket<"u"?zl=MozWebSocket:typeof WebSocket<"u"&&(zl=WebSocket);var Aa=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ba(this.connId),this.stats_=t_(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[$S]=Hl,!pn()&&typeof location<"u"&&location.hostname&&WS.test(location.hostname)&&(a[qS]=zS),r&&(a[HS]=r),i&&(a[GS]=i),s&&(a[my]=s),o&&(a[KS]=o),JS(n,QS,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,li.set("previous_websocket_failure",!0);try{let i;if(pn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Hl}/${Xy}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new zl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&zl!==null&&!t.forceDisallow_}static previouslyFailed(){return li.isInMemoryStorage||li.get("previous_websocket_failure")===!0}markConnectionHealthy(){li.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ss(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Le(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=BS(r,Mj);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kj))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Oj=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[_y,Aa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Aa&&Aa.isAvailable(),i=r&&!Aa.previouslyFailed();if(n.webSocketOnly&&(r||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Aa];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Fj=6e4,Lj=5e3,Vj=10*1024,Uj=100*1024,iy="t",uS="d",Bj="s",lS="r",jj="e",dS="o",hS="a",fS="n",pS="p",$j="h",wy=class{constructor(e,n,r,i,s,o,a,c,u,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ba("c:"+this.id+":"),this.transportManager_=new Oj(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Uj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Vj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(iy in e){let n=e[iy];n===hS?this.upgradeIfSecondaryHealthy_():n===lS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===dS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Da("t",e),r=Da("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Da("t",e),r=Da("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Da(iy,e);if(uS in e){let r=e[uS];if(n===$j){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===fS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Bj?this.onConnectionShutdown_(r):n===lS?this.onReset_(r):n===jj?hy("Server Error: "+r):n===dS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hy("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hl!==r&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Fj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Lj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pS,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Wl=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Gl=class{constructor(e){this.allowedEvents_=e,this.listeners_={},w(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){w(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Kl=class t extends Gl{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$o()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return w(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var mS=32,gS=768,he=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function le(){return new he("")}function J(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ir(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function rD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Hj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function iD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function sD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function je(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new he(n,0)}function Q(t){return t.pieceNum_>=t.pieces_.length}function Vt(t,e){let n=J(t),r=J(e);if(n===null)return e;if(n===r)return Vt(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function oD(t,e){if(Ir(t)!==Ir(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Zt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ir(t)>Ir(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Iy=class{constructor(e,n){this.errorPrefix_=n,this.parts_=iD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wo(this.parts_[r]);aD(this)}};function qj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wo(e),aD(t)}function zj(t){let e=t.parts_.pop();t.byteLength_-=Wo(e),t.parts_.length>0&&(t.byteLength_-=1)}function aD(t){if(t.byteLength_>gS)throw new Error(t.errorPrefix_+"has a key path longer than "+gS+" bytes ("+t.byteLength_+").");if(t.parts_.length>mS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+mS+") or object contains a cycle "+ui(t))}function ui(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Ey=class t extends Gl{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return w(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ra=1e3,Wj=60*5*1e3,yS=30*1e3,Gj=1.3,Kj=3e4,Qj="server_kill",_S=3,n_=(()=>{class t extends Wl{constructor(n,r,i,s,o,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=Ba("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ra,this.maxReconnectDelay_=Wj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!pn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ey.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Kl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Le(o)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new $r,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let u=c.d,l=c.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),l!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&mn(n,"w")){let i=zr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||OT(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yS)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=kT(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Le(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):hy("Unrecognized action received from server: "+Le(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Kj&&(this.reconnectDelay_=Ra),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Gj)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,i())},l=function(h){w(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:u,sendRequest:l};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,y]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=y&&y.token,c=new wy(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,_=>{xt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Qj)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&xt(h),u())}}})}interrupt(n){et("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){et("Resuming connection for reason: "+n),delete this.interruptReasons_[n],qo(this.interruptReasons_)&&(this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>e_(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new he(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){et("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_S&&(this.reconnectDelay_=yS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){et("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_S&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";pn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xy.replace(/\./g,"-")]=1,$o()?n["framework.cordova"]=1:Su()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Kl.getInstance().currentlyOnline();return qo(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Z=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ds=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Z(Ss,e),i=new Z(Ss,n);return this.compare(r,i)!==0}minPost(){return Z.MIN}};var $l,Ql=class extends Ds{static get __EMPTY_NODE(){return $l}static set __EMPTY_NODE(e){$l=e}compare(e,n){return Ms(e.name,n.name)}isDefinedOn(e){throw Hr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(hi,$l)}makePost(e,n){return w(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,$l)}toString(){return".key"}},bs=new Ql;var Es=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Jt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Ut.EMPTY_NODE,this.right=o??Ut.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Ty=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Jt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ut=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Jt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Jt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Es(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Es(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Es(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Es(this.root_,null,this.comparator_,!0,e)}};Ut.EMPTY_NODE=new Ty;function Yj(t,e){return Ms(t.name,e.name)}function r_(t,e){return Ms(t,e)}var Cy;function Jj(t){Cy=t}var cD=function(t){return typeof t=="number"?"number:"+jS(t):"string:"+t},uD=function(t){if(t.isLeafNode()){let e=t.val();w(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else w(t===Cy||t.isEmpty(),"priority of unexpected type.");w(t===Cy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var vS,As=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),uD(this.priorityNode_)}static set __childrenNodeConstructor(n){vS=n}static get __childrenNodeConstructor(){return vS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Q(n)?this:J(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=J(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(w(i!==".priority"||Ir(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+cD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=jS(this.value_):n+=this.value_,this.lazyHash_=VS(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return w(s>=0,"Unknown leaf type: "+r),w(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),lD,dD;function Zj(t){lD=t}function Xj(t){dD=t}var by=class extends Ds{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ms(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(hi,new As("[PRIORITY-POST]",dD))}makePost(e,n){let r=lD(e);return new Z(n,new As("[PRIORITY-POST]",r))}toString(){return".priority"}},nt=new by;var e$=Math.log(2),Sy=class{constructor(e){let n=s=>parseInt(Math.log(s)/e$,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Yl=function(t,e,n,r){t.sort(e);let i=function(c,u){let l=u-c,d,h;if(l===0)return null;if(l===1)return d=t[c],h=n?n(d):d,new Jt(h,d.node,Jt.BLACK,null,null);{let y=parseInt(l/2,10)+c,_=i(c,y),v=i(y+1,u);return d=t[y],h=n?n(d):d,new Jt(h,d.node,Jt.BLACK,_,v)}},s=function(c){let u=null,l=null,d=t.length,h=function(_,v){let E=d-_,D=d;d-=_;let ee=i(E+1,D),te=t[E],b=n?n(te):te;y(new Jt(b,te.node,v,null,ee))},y=function(_){u?(u.left=_,u=_):(l=_,u=_)};for(let _=0;_<c.count;++_){let v=c.nextBitIsOne(),E=Math.pow(2,c.count-(_+1));v?h(E,Jt.BLACK):(h(E,Jt.BLACK),h(E,Jt.RED))}return l},o=new Sy(t.length),a=s(o);return new Ut(r||e,a)};var sy,Is={},Rs=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return w(Is&&nt,"ChildrenNode.ts has not been loaded"),sy=sy||new t({".priority":Is},{".priority":nt}),sy}get(e){let n=zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){w(e!==bs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Z.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Yl(r,e.getCompare()):a=Is;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let l=Object.assign({},this.indexes_);return l[c]=a,new t(l,u)}addToIndexes(e,n){let r=zo(this.indexes_,(i,s)=>{let o=zr(this.indexSet_,s);if(w(o,"Missing index implementation for "+s),i===Is)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(Z.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Yl(a,o.getCompare())}else return Is;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new Z(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=zo(this.indexes_,i=>{if(i===Is)return i;{let s=n.get(e.name);return s?i.remove(new Z(e.name,s)):i}});return new t(r,this.indexSet_)}};var xa,Ie=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&uD(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xa||(xa=new t(new Ut(r_),null,Rs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xa}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?xa:r}}getChild(n){let r=J(n);return r===null?this:this.getImmediateChild(r).getChild(ye(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Z(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?xa:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=J(n);if(i===null)return r;{w(J(n)!==".priority"||Ir(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ye(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(nt,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+cD(this.getPriority().val())+":"),this.forEachChild(nt,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":VS(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Z(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Z(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Z(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Z.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Z.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===$a?-1:0}withIndex(n){if(n===bs||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===bs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(nt),s=r.getIterator(nt),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===bs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Dy=class extends Ie{constructor(){super(new Ut(r_),Ie.EMPTY_NODE,Rs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ie.EMPTY_NODE}isEmpty(){return!1}},$a=new Dy;Object.defineProperties(Z,{MIN:{value:new Z(Ss,Ie.EMPTY_NODE)},MAX:{value:new Z(hi,$a)}});Ql.__EMPTY_NODE=Ie.EMPTY_NODE;As.__childrenNodeConstructor=Ie;Jj($a);Xj($a);var t$=!0;function tt(t,e=null){if(t===null)return Ie.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),w(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new As(n,tt(e))}if(!(t instanceof Array)&&t$){let n=[],r=!1;if(Bt(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=tt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Z(o,c)))}}),n.length===0)return Ie.EMPTY_NODE;let s=Yl(n,Yj,o=>o.name,r_);if(r){let o=Yl(n,nt.getCompare());return new Ie(s,tt(e),new Rs({".priority":o},{".priority":nt}))}else return new Ie(s,tt(e),Rs.Default)}else{let n=Ie.EMPTY_NODE;return Bt(t,(r,i)=>{if(mn(t,r)&&r.substring(0,1)!=="."){let s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}}Zj(tt);var Ay=class extends Ds{constructor(e){super(),this.indexPath_=e,w(!Q(e)&&J(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ms(e.name,n.name):s}makePost(e,n){let r=tt(e),i=Ie.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,i)}maxPost(){let e=Ie.EMPTY_NODE.updateChild(this.indexPath_,$a);return new Z(hi,e)}toString(){return iD(this.indexPath_,0).join("/")}};var Ry=class extends Ds{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ms(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){let r=tt(e);return new Z(n,r)}toString(){return".value"}},n$=new Ry;function r$(t){return{type:"value",snapshotNode:t}}function i$(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function s$(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function wS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function o$(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var xy=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ss}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function IS(t){let e={};if(t.isDefault())return e;let n;if(t.index_===nt?n="$priority":t.index_===n$?n="$value":t.index_===bs?n="$key":(w(t.index_ instanceof Ay,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Le(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Le(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Le(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Le(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ES(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==nt&&(e.i=t.index_.toString()),e}var Ny=class t extends Wl{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ba("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(w(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=IS(e._queryParams);this.restRequest_(s+".json",c,(u,l)=>{let d=l;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),zr(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=IS(e._queryParams),r=e._path.toString(),i=new $r;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wr(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ss(a.responseText)}catch{xt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&xt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Py=class{constructor(){this.rootNode_=Ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Jl(){return{value:null,children:new Map}}function hD(t,e,n){if(Q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=J(e);t.children.has(r)||t.children.set(r,Jl());let i=t.children.get(r);e=ye(e),hD(i,e,n)}}function My(t,e,n){t.value!==null?n(e,t.value):a$(t,(r,i)=>{let s=new he(e.toString()+"/"+r);My(i,s,n)})}function a$(t,e){t.children.forEach((n,r)=>{e(r,n)})}var ky=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var TS=10*1e3,c$=30*1e3,u$=5*60*1e3,Oy=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ky(e);let r=TS+(c$-TS)*Math.random();Pa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Bt(e,(i,s)=>{s>0&&mn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pa(this.reportStats_.bind(this),Math.floor(Math.random()*2*u$))}};var Hn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Hn||{});function fD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function mD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Fy=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Hn.ACK_USER_WRITE,this.source=fD()}operationForChild(e){if(Q(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new he(e));return new t(le(),n,this.revert)}}else return w(J(this.path)===e,"operationForChild called for unrelated child."),new t(ye(this.path),this.affectedTree,this.revert)}};var xs=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Hn.OVERWRITE}operationForChild(e){return Q(this.path)?new t(this.source,le(),this.snap.getImmediateChild(e)):new t(this.source,ye(this.path),this.snap)}};var Zl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Hn.MERGE}operationForChild(e){if(Q(this.path)){let n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new xs(this.source,le(),n.value):new t(this.source,le(),n)}else return w(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Fa=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;let n=J(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function l$(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(o$(o.childName,o.snapshotNode))}),Na(t,i,"child_removed",e,r,n),Na(t,i,"child_added",e,r,n),Na(t,i,"child_moved",s,r,n),Na(t,i,"child_changed",e,r,n),Na(t,i,"value",e,r,n),i}function Na(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>h$(t,a,c)),o.forEach(a=>{let c=d$(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function d$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function h$(t,e,n){if(e.childName==null||n.childName==null)throw Hr("Should only compare child_ events.");let r=new Z(e.childName,e.snapshotNode),i=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function gD(t,e){return{eventCache:t,serverCache:e}}function ka(t,e,n,r){return gD(new Fa(e,n,r),t.serverCache)}function yD(t,e,n,r){return gD(t.eventCache,new Fa(e,n,r))}function Ly(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var oy,f$=()=>(oy||(oy=new Ut(fj)),oy),yt=class t{constructor(e,n=f$()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Bt(e,(r,i)=>{n=n.set(new he(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(Q(e))return null;{let r=J(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ye(e),n);return s!=null?{path:je(new he(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{let n=J(e),r=this.children.get(n);return r!==null?r.subtree(ye(e)):new t(null)}}set(e,n){if(Q(e))return new t(n,this.children);{let r=J(e),s=(this.children.get(r)||new t(null)).set(ye(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Q(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=J(e),r=this.children.get(n);if(r){let i=r.remove(ye(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Q(e))return this.value;{let n=J(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(Q(e))return n;{let r=J(e),s=(this.children.get(r)||new t(null)).setTree(ye(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(le(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(je(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Q(e))return null;{let s=J(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),je(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(Q(e))return this;{this.value&&r(n,this.value);let i=J(e),s=this.children.get(i);return s?s.foreachOnPath_(ye(e),je(n,i),r):new t(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Xt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new yt(null))}};function Oa(t,e,n){if(Q(e))return new Xt(new yt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Vt(i,e);return s=s.updateChild(o,n),new Xt(t.writeTree_.set(i,s))}else{let i=new yt(n),s=t.writeTree_.setTree(e,i);return new Xt(s)}}}function CS(t,e,n){let r=t;return Bt(n,(i,s)=>{r=Oa(r,je(e,i),s)}),r}function bS(t,e){if(Q(e))return Xt.empty();{let n=t.writeTree_.setTree(e,new yt(null));return new Xt(n)}}function Vy(t,e){return pi(t,e)!=null}function pi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Vt(n.path,e)):null}function SS(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(nt,(r,i)=>{e.push(new Z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Z(r,i.value))}),e}function wr(t,e){if(Q(e))return t;{let n=pi(t,e);return n!=null?new Xt(new yt(n)):new Xt(t.writeTree_.subtree(e))}}function Uy(t){return t.writeTree_.isEmpty()}function Ns(t,e){return _D(le(),t.writeTree_,e)}function _D(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(w(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=_D(je(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(je(t,".priority"),r)),n}}function vD(t,e){return CD(e,t)}function p$(t,e,n,r,i){w(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Oa(t.visibleWrites,e,n)),t.lastWriteId=r}function m$(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function g$(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);w(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&y$(a,r.path)?i=!1:Zt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return _$(t),!0;if(r.snap)t.visibleWrites=bS(t.visibleWrites,r.path);else{let a=r.children;Bt(a,c=>{t.visibleWrites=bS(t.visibleWrites,je(r.path,c))})}return!0}else return!1}function y$(t,e){if(t.snap)return Zt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Zt(je(t.path,n),e))return!0;return!1}function _$(t){t.visibleWrites=wD(t.allWrites,v$,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function v$(t){return t.visible}function wD(t,e,n){let r=Xt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Zt(n,o)?(a=Vt(n,o),r=Oa(r,a,s.snap)):Zt(o,n)&&(a=Vt(o,n),r=Oa(r,le(),s.snap.getChild(a)));else if(s.children){if(Zt(n,o))a=Vt(n,o),r=CS(r,a,s.children);else if(Zt(o,n))if(a=Vt(o,n),Q(a))r=CS(r,le(),s.children);else{let c=zr(s.children,J(a));if(c){let u=c.getChild(ye(a));r=Oa(r,le(),u)}}}else throw Hr("WriteRecord should have .snap or .children")}}return r}function ID(t,e,n,r,i){if(!r&&!i){let s=pi(t.visibleWrites,e);if(s!=null)return s;{let o=wr(t.visibleWrites,e);if(Uy(o))return n;if(n==null&&!Vy(o,le()))return null;{let a=n||Ie.EMPTY_NODE;return Ns(o,a)}}}else{let s=wr(t.visibleWrites,e);if(!i&&Uy(s))return n;if(!i&&n==null&&!Vy(s,le()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Zt(u.path,e)||Zt(e,u.path))},a=wD(t.allWrites,o,e),c=n||Ie.EMPTY_NODE;return Ns(a,c)}}}function w$(t,e,n){let r=Ie.EMPTY_NODE,i=pi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(nt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=wr(t.visibleWrites,e);return n.forEachChild(nt,(o,a)=>{let c=Ns(wr(s,new he(o)),a);r=r.updateImmediateChild(o,c)}),SS(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=wr(t.visibleWrites,e);return SS(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function I$(t,e,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=je(e,n);if(Vy(t.visibleWrites,s))return null;{let o=wr(t.visibleWrites,s);return Uy(o)?i.getChild(n):Ns(o,i.getChild(n))}}function E$(t,e,n,r){let i=je(e,n),s=pi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=wr(t.visibleWrites,i);return Ns(o,r.getNode().getImmediateChild(n))}else return null}function T$(t,e){return pi(t.visibleWrites,e)}function C$(t,e,n,r,i,s,o){let a,c=wr(t.visibleWrites,e),u=pi(c,le());if(u!=null)a=u;else if(n!=null)a=Ns(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),y=h.getNext();for(;y&&l.length<i;)d(y,r)!==0&&l.push(y),y=h.getNext();return l}else return[]}function b$(){return{visibleWrites:Xt.empty(),allWrites:[],lastWriteId:-1}}function By(t,e,n,r){return ID(t.writeTree,t.treePath,e,n,r)}function ED(t,e){return w$(t.writeTree,t.treePath,e)}function DS(t,e,n,r){return I$(t.writeTree,t.treePath,e,n,r)}function Xl(t,e){return T$(t.writeTree,je(t.treePath,e))}function S$(t,e,n,r,i,s){return C$(t.writeTree,t.treePath,e,n,r,i,s)}function i_(t,e,n){return E$(t.writeTree,t.treePath,e,n)}function TD(t,e){return CD(je(t.treePath,e),t.writeTree)}function CD(t,e){return{treePath:t,writeTree:e}}var jy=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,wS(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,s$(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,i$(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,wS(r,e.snapshotNode,i.oldSnap));else throw Hr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var $y=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},bD=new $y,La=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Fa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return i_(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fi(this.viewCache_),s=S$(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function D$(t,e){w(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),w(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function A$(t,e,n,r,i){let s=new jy,o,a;if(n.type===Hn.OVERWRITE){let u=n;u.source.fromUser?o=Hy(t,e,u.path,u.snap,r,i,s):(w(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Q(u.path),o=ed(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Hn.MERGE){let u=n;u.source.fromUser?o=x$(t,e,u.path,u.children,r,i,s):(w(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=qy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Hn.ACK_USER_WRITE){let u=n;u.revert?o=M$(t,e,u.path,r,i,s):o=N$(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Hn.LISTEN_COMPLETE)o=P$(t,e,n.path,r,s);else throw Hr("Unknown operation type: "+n.type);let c=s.getChanges();return R$(e,o,c),{viewCache:o,changes:c}}function R$(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ly(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(r$(Ly(e)))}}function SD(t,e,n,r,i,s){let o=e.eventCache;if(Xl(r,n)!=null)return e;{let a,c;if(Q(n))if(w(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=fi(e),l=u instanceof Ie?u:Ie.EMPTY_NODE,d=ED(r,l);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let u=By(r,fi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=J(n);if(u===".priority"){w(Ir(n)===1,"Can't have a priority with additional path components");let l=o.getNode();c=e.serverCache.getNode();let d=DS(r,n,l,c);d!=null?a=t.filter.updatePriority(l,d):a=o.getNode()}else{let l=ye(n),d;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();let h=DS(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(u).updateChild(l,h):d=o.getNode().getImmediateChild(u)}else d=i_(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,l,i,s):a=o.getNode()}}return ka(e,a,o.isFullyInitialized()||Q(n),t.filter.filtersNodes())}}function ed(t,e,n,r,i,s,o,a){let c=e.serverCache,u,l=o?t.filter:t.filter.getIndexedFilter();if(Q(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){let y=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),y,null)}else{let y=J(n);if(!c.isCompleteForPath(n)&&Ir(n)>1)return e;let _=ye(n),E=c.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?u=l.updatePriority(c.getNode(),E):u=l.updateChild(c.getNode(),y,E,_,bD,null)}let d=yD(e,u,c.isFullyInitialized()||Q(n),l.filtersNodes()),h=new La(i,d,s);return SD(t,d,n,i,h,a)}function Hy(t,e,n,r,i,s,o){let a=e.eventCache,c,u,l=new La(i,e,s);if(Q(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=ka(e,u,!0,t.filter.filtersNodes());else{let d=J(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=ka(e,u,a.isFullyInitialized(),a.isFiltered());else{let h=ye(n),y=a.getNode().getImmediateChild(d),_;if(Q(h))_=r;else{let v=l.getCompleteChild(d);v!=null?rD(h)===".priority"&&v.getChild(sD(h)).isEmpty()?_=v:_=v.updateChild(h,r):_=Ie.EMPTY_NODE}if(y.equals(_))c=e;else{let v=t.filter.updateChild(a.getNode(),d,_,h,l,o);c=ka(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function AS(t,e){return t.eventCache.isCompleteForChild(e)}function x$(t,e,n,r,i,s,o){let a=e;return r.foreach((c,u)=>{let l=je(n,c);AS(e,J(l))&&(a=Hy(t,a,l,u,i,s,o))}),r.foreach((c,u)=>{let l=je(n,c);AS(e,J(l))||(a=Hy(t,a,l,u,i,s,o))}),a}function RS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function qy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;Q(n)?u=r:u=new yt(null).setTree(n,r);let l=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){let y=e.serverCache.getNode().getImmediateChild(d),_=RS(t,y,h);c=ed(t,c,new he(d),_,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{let y=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!l.hasChild(d)&&!y){let _=e.serverCache.getNode().getImmediateChild(d),v=RS(t,_,h);c=ed(t,c,new he(d),v,i,s,o,a)}}),c}function N$(t,e,n,r,i,s,o){if(Xl(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Q(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ed(t,e,n,c.getNode().getChild(n),i,s,a,o);if(Q(n)){let u=new yt(null);return c.getNode().forEachChild(bs,(l,d)=>{u=u.set(new he(l),d)}),qy(t,e,n,u,i,s,a,o)}else return e}else{let u=new yt(null);return r.foreach((l,d)=>{let h=je(n,l);c.isCompleteForPath(h)&&(u=u.set(l,c.getNode().getChild(h)))}),qy(t,e,n,u,i,s,a,o)}}function P$(t,e,n,r,i){let s=e.serverCache,o=yD(e,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return SD(t,o,n,r,bD,i)}function M$(t,e,n,r,i,s){let o;if(Xl(r,n)!=null)return e;{let a=new La(r,e,i),c=e.eventCache.getNode(),u;if(Q(n)||J(n)===".priority"){let l;if(e.serverCache.isFullyInitialized())l=By(r,fi(e));else{let d=e.serverCache.getNode();w(d instanceof Ie,"serverChildren would be complete if leaf node"),l=ED(r,d)}l=l,u=t.filter.updateFullNode(c,l,s)}else{let l=J(n),d=i_(r,l,e.serverCache);d==null&&e.serverCache.isCompleteForChild(l)&&(d=c.getImmediateChild(l)),d!=null?u=t.filter.updateChild(c,l,d,ye(n),a,s):e.eventCache.getNode().hasChild(l)?u=t.filter.updateChild(c,l,Ie.EMPTY_NODE,ye(n),a,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=By(r,fi(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Xl(r,le())!=null,ka(e,u,o,t.filter.filtersNodes())}}function k$(t,e){let n=fi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Q(e)&&!n.getImmediateChild(J(e)).isEmpty())?n.getChild(e):null}function xS(t,e,n,r){e.type===Hn.MERGE&&e.source.queryId!==null&&(w(fi(t.viewCache_),"We should always have a full cache before handling merges"),w(Ly(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=A$(t.processor_,i,e,n,r);return D$(t.processor_,s.viewCache),w(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,O$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function O$(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return l$(t.eventGenerator_,e,n,i)}var NS;function F$(t){w(!NS,"__referenceConstructor has already been defined"),NS=t}function s_(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return w(s!=null,"SyncTree gave us an op for an invalid query."),xS(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(xS(o,e,n,r));return s}}function o_(t,e){let n=null;for(let r of t.views.values())n=n||k$(r,e);return n}var PS;function L$(t){w(!PS,"__referenceConstructor has already been defined"),PS=t}var td=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new yt(null),this.pendingWriteTree_=b$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function V$(t,e,n,r,i){return p$(t.pendingWriteTree_,e,n,r,i),i?rd(t,new xs(fD(),e,n)):[]}function Ts(t,e,n=!1){let r=m$(t.pendingWriteTree_,e);if(g$(t.pendingWriteTree_,e)){let s=new yt(null);return r.snap!=null?s=s.set(le(),!0):Bt(r.children,o=>{s=s.set(new he(o),!0)}),rd(t,new Fy(r.path,s,n))}else return[]}function nd(t,e,n){return rd(t,new xs(pD(),e,n))}function U$(t,e,n){let r=yt.fromObject(n);return rd(t,new Zl(pD(),e,r))}function B$(t,e,n,r){let i=xD(t,r);if(i!=null){let s=ND(i),o=s.path,a=s.queryId,c=Vt(o,e),u=new xs(mD(a),c,n);return PD(t,o,u)}else return[]}function j$(t,e,n,r){let i=xD(t,r);if(i){let s=ND(i),o=s.path,a=s.queryId,c=Vt(o,e),u=yt.fromObject(n),l=new Zl(mD(a),c,u);return PD(t,o,l)}else return[]}function DD(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=Vt(o,e),u=o_(a,c);if(u)return u});return ID(i,e,s,n,!0)}function rd(t,e){return AD(e,t.syncPointTree_,null,vD(t.pendingWriteTree_,le()))}function AD(t,e,n,r){if(Q(t.path))return RD(t,e,n,r);{let i=e.get(le());n==null&&i!=null&&(n=o_(i,le()));let s=[],o=J(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let u=n?n.getImmediateChild(o):null,l=TD(r,o);s=s.concat(AD(a,c,u,l))}return i&&(s=s.concat(s_(i,t,r,n))),s}}function RD(t,e,n,r){let i=e.get(le());n==null&&i!=null&&(n=o_(i,le()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,u=TD(r,o),l=t.operationForChild(o);l&&(s=s.concat(RD(l,a,c,u)))}),i&&(s=s.concat(s_(i,t,r,n))),s}function xD(t,e){return t.tagToQueryMap.get(e)}function ND(t){let e=t.indexOf("$");return w(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function PD(t,e,n){let r=t.syncPointTree_.get(e);w(r,"Missing sync point for query tag that we're tracking");let i=vD(t.pendingWriteTree_,e);return s_(r,n,i,null)}var zy=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Wy=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=je(this.path_,e);return new t(this.syncTree_,n)}node(){return DD(this.syncTree_,this.path_)}},$$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},MS=function(t,e,n){if(!t||typeof t!="object")return t;if(w(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return H$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return q$(t[".sv"],e);w(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},H$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+t)}},q$=function(t,e,n){t.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);let i=e.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},z$=function(t,e,n,r){return a_(e,new Wy(n,t),r)},W$=function(t,e,n){return a_(t,new zy(e),n)};function a_(t,e,n){let r=t.getPriority().val(),i=MS(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=MS(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new As(a,tt(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new As(i))),o.forEachChild(nt,(a,c)=>{let u=a_(c,e.getImmediateChild(a),n);u!==c&&(s=s.updateImmediateChild(a,u))}),s}}var Va=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function c_(t,e){let n=e instanceof he?e:new he(e),r=t,i=J(n);for(;i!==null;){let s=zr(r.node.children,i)||{children:{},childCount:0};r=new Va(i,r,s),n=ye(n),i=J(n)}return r}function ks(t){return t.node.value}function MD(t,e){t.node.value=e,Gy(t)}function kD(t){return t.node.childCount>0}function G$(t){return ks(t)===void 0&&!kD(t)}function id(t,e){Bt(t.node.children,(n,r)=>{e(new Va(n,t,r))})}function OD(t,e,n,r){n&&!r&&e(t),id(t,i=>{OD(i,e,!0,r)}),n&&r&&e(t)}function K$(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ha(t){return new he(t.parent===null?t.name:Ha(t.parent)+"/"+t.name)}function Gy(t){t.parent!==null&&Q$(t.parent,t.name,t)}function Q$(t,e,n){let r=G$(n),i=mn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Gy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Gy(t))}var Y$=/[\[\].#$\/\u0000-\u001F\u007F]/,J$=/[\[\].#$\u0000-\u001F\u007F]/,ay=10*1024*1024,FD=function(t){return typeof t=="string"&&t.length!==0&&!Y$.test(t)},Z$=function(t){return typeof t=="string"&&t.length!==0&&!J$.test(t)},X$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Z$(t)};var LD=function(t,e,n){let r=n instanceof he?new Iy(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ui(r));if(typeof e=="function")throw new Error(t+"contains a function "+ui(r)+" with contents = "+e.toString());if(US(e))throw new Error(t+"contains "+e.toString()+" "+ui(r));if(typeof e=="string"&&e.length>ay/3&&Wo(e)>ay)throw new Error(t+"contains a string greater than "+ay+" utf8 bytes "+ui(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Bt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!FD(o)))throw new Error(t+" contains an invalid key ("+o+") "+ui(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qj(r,o),LD(t,a,r),zj(r)}),i&&s)throw new Error(t+' contains ".value" child '+ui(r)+" in addition to actual children.")}};var eH=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!FD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!X$(n))throw new Error(LT(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ky=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function tH(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!oD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function mi(t,e,n){tH(t,n),nH(t,r=>Zt(r,e)||Zt(e,r))}function nH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(rH(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rH(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();di&&et("event: "+n.toString()),ja(r)}}}var iH="repo_interrupt",sH=25,Qy=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ky,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jl(),this.transactionQueueTree_=new Va,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function oH(t,e,n){if(t.stats_=t_(t.repoInfo_),t.forceRestClient_||vj())t.server_=new Ny(t.repoInfo_,(r,i,s,o)=>{kS(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>OS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new n_(t.repoInfo_,e,(r,i,s,o)=>{kS(t,r,i,s,o)},r=>{OS(t,r)},r=>{cH(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ij(t.repoInfo_,()=>new Oy(t.stats_,t.server_)),t.infoData_=new Py,t.infoSyncTree_=new td({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=nd(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),u_(t,"connected",!1),t.serverSyncTree_=new td({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let u=o(a,c);mi(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function aH(t){let n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function VD(t){return $$({timestamp:aH(t)})}function kS(t,e,n,r,i){t.dataUpdateCount++;let s=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=zo(n,u=>tt(u));o=j$(t.serverSyncTree_,s,c,i)}else{let c=tt(n);o=B$(t.serverSyncTree_,s,c,i)}else if(r){let c=zo(n,u=>tt(u));o=U$(t.serverSyncTree_,s,c)}else{let c=tt(n);o=nd(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=d_(t,s)),mi(t.eventQueue_,a,o)}function OS(t,e){u_(t,"connected",e),e===!1&&lH(t)}function cH(t,e){Bt(e,(n,r)=>{u_(t,n,r)})}function u_(t,e,n){let r=new he("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);let s=nd(t.infoSyncTree_,r,i);mi(t.eventQueue_,r,s)}function uH(t){return t.nextWriteId_++}function lH(t){UD(t,"onDisconnectEvents");let e=VD(t),n=Jl();My(t.onDisconnect_,le(),(i,s)=>{let o=z$(i,s,t.serverSyncTree_,e);hD(n,i,o)});let r=[];My(n,le(),(i,s)=>{r=r.concat(nd(t.serverSyncTree_,i,s));let o=pH(t,i);d_(t,o)}),t.onDisconnect_=Jl(),mi(t.eventQueue_,le(),r)}function dH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(iH)}function UD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function BD(t,e,n){return DD(t.serverSyncTree_,e,n)||Ie.EMPTY_NODE}function l_(t,e=t.transactionQueueTree_){if(e||sd(t,e),ks(e)){let n=$D(t,e);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&hH(t,Ha(e),n)}else kD(e)&&id(e,n=>{l_(t,n)})}function hH(t,e,n){let r=n.map(u=>u.currentWriteId),i=BD(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let l=n[u];w(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;let d=Vt(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,u=>{UD(t,"transaction put response",{path:c.toString(),status:u});let l=[];if(u==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Ts(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();sd(t,c_(t.transactionQueueTree_,e)),l_(t,t.transactionQueueTree_),mi(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)ja(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{xt("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}d_(t,e)}},o)}function d_(t,e){let n=jD(t,e),r=Ha(n),i=$D(t,n);return fH(t,i,r),r}function fH(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=Vt(n,c.path),l=!1,d;if(w(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)l=!0,d=c.abortReason,i=i.concat(Ts(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=sH)l=!0,d="maxretry",i=i.concat(Ts(t.serverSyncTree_,c.currentWriteId,!0));else{let h=BD(t,c.path,o);c.currentInputSnapshot=h;let y=e[a].update(h.val());if(y!==void 0){LD("transaction failed: Data returned ",y,c.path);let _=tt(y);typeof y=="object"&&y!=null&&mn(y,".priority")||(_=_.updatePriority(h.getPriority()));let E=c.currentWriteId,D=VD(t),ee=W$(_,h,D);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=ee,c.currentWriteId=uH(t),o.splice(o.indexOf(E),1),i=i.concat(V$(t.serverSyncTree_,c.path,ee,c.currentWriteId,c.applyLocally)),i=i.concat(Ts(t.serverSyncTree_,E,!0))}else l=!0,d="nodata",i=i.concat(Ts(t.serverSyncTree_,c.currentWriteId,!0))}mi(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}sd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ja(r[a]);l_(t,t.transactionQueueTree_)}function jD(t,e){let n,r=t.transactionQueueTree_;for(n=J(e);n!==null&&ks(r)===void 0;)r=c_(r,n),e=ye(e),n=J(e);return r}function $D(t,e){let n=[];return HD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function HD(t,e,n){let r=ks(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);id(e,i=>{HD(t,i,n)})}function sd(t,e){let n=ks(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,MD(e,n.length>0?n:void 0)}id(e,r=>{sd(t,r)})}function pH(t,e){let n=Ha(jD(t,e)),r=c_(t.transactionQueueTree_,e);return K$(r,i=>{cy(t,i)}),cy(t,r),OD(r,i=>{cy(t,i)}),n}function cy(t,e){let n=ks(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(w(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(w(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ts(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?MD(e,void 0):n.length=s+1,mi(t.eventQueue_,Ha(e),i);for(let o=0;o<r.length;o++)ja(r[o])}}function mH(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function gH(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xt(`Invalid query segment '${n}' in query '${t}'`)}return e}var FS=function(t,e){let n=yH(t),r=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dj();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ql(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new he(n.pathString)}},yH=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let l=t.indexOf("/");l===-1&&(l=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=mH(t.substring(l,d)));let h=gH(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{let _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Yy=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:rD(this._path)}get ref(){return new Ps(this._repo,this._path)}get _queryIdentifier(){let e=ES(this._queryParams),n=e_(e);return n==="{}"?"default":n}get _queryObject(){return ES(this._queryParams)}isEqual(e){if(e=Se(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=oD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hj(this._path)}};var Ps=class t extends Yy{constructor(e,n){super(e,n,new xy,!1)}get parent(){let e=sD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};F$(Ps);L$(Ps);var _H="FIREBASE_DATABASE_EMULATOR_HOST",Jy={},vH=!1;function wH(t,e,n,r){t.repoInfo_=new ql(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function IH(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=FS(s,i),a=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[_H]),u?(c=!0,s=`http://${u}?ns=${a.namespace}`,o=FS(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let l=i&&c?new Ma(Ma.OWNER):new py(t.name,t.options,e);eH("Invalid Firebase Database URL",o),Q(o.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=TH(a,t,l,new fy(t.name,n));return new Zy(d,t)}function EH(t,e){let n=Jy[e];(!n||n[t.key]!==t)&&qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dH(t),delete n[t.key]}function TH(t,e,n,r){let i=Jy[e.name];i||(i={},Jy[e.name]=i);let s=i[t.toURLString()];return s&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Qy(t,vH,n,r),i[t.toURLString()]=s,s}var Zy=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ps(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(EH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qn("Cannot call "+e+" on a deleted database.")}};function qD(t=at(),e){let n=qe(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=os("database");r&&zD(n,...r)}return n}function zD(t,e,n,r={}){t=Se(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&qn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ma(Ma.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:as(r.mockUserToken,t.app.options.projectId);s=new Ma(o)}wH(i,e,n,s)}function CH(t){cj(pt),Ae(new _e("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return IH(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),O(iS,sS,t),O(iS,sS,"esm2017")}n_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};n_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};CH();var qa=class{constructor(e){return e}},WD="database",h_=class{constructor(){return St(WD)}};var f_=new R("angularfire2.database-instances");function bH(t,e){let n=Ft(WD,t,e);return n&&new qa(n)}function SH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qa(r)}}var DH={provide:h_,deps:[[new ie,f_]]},AH={provide:qa,useFactory:bH,deps:[[new ie,f_],Ge]},RH=(()=>{class t{constructor(){O("angularfire",ze.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Me({providers:[AH,DH]})}return t})();function GD(t,...e){return{ngModule:RH,providers:[{provide:f_,useFactory:SH(t),multi:!0,deps:[V,pe,mt,ct,[new ie,Bn],[new ie,yn],...e]}]}}var KD=We(qD,!0);var eA="firebasestorage.googleapis.com",xH="storageBucket",NH=2*60*1e3,PH=10*60*1e3;var Cn=class t extends be{constructor(e,n,r=0){super(p_(e),`Firebase Storage: ${n} (${p_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Wn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Wn||{});function p_(t){return"storage/"+t}function MH(){let t="An unknown error occurred, please check the error payload for server response.";return new Cn(Wn.UNKNOWN,t)}function kH(){return new Cn(Wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OH(){return new Cn(Wn.CANCELED,"User canceled the upload/download.")}function FH(t){return new Cn(Wn.INVALID_URL,"Invalid URL '"+t+"'.")}function LH(t){return new Cn(Wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QD(t){return new Cn(Wn.INVALID_ARGUMENT,t)}function tA(){return new Cn(Wn.APP_DELETED,"The Firebase app was deleted.")}function VH(t){return new Cn(Wn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var zn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw LH(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",y=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),_={bucket:1,path:3},v=n===eA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",D=new RegExp(`^https?://${v}/${i}/${E}`,"i"),te=[{regex:a,indices:c,postModify:s},{regex:y,indices:_,postModify:u},{regex:D,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<te.length;b++){let X=te[b],z=X.regex.exec(e);if(z){let ue=z[X.indices.bucket],ve=z[X.indices.path];ve||(ve=""),r=new t(ue,ve),X.postModify(r);break}}if(r==null)throw FH(e);return r}},m_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function UH(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(y,c())},E)}function h(){s&&clearTimeout(s)}function y(E,...D){if(u){h();return}if(E){h(),l.call(null,E,...D);return}if(c()||o){h(),l.call(null,E,...D);return}r<64&&(r*=2);let te;a===1?(a=2,te=0):te=(r+Math.random())*1e3,d(te)}let _=!1;function v(E){_||(_=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function BH(t){t(!1)}function jH(t){return t!==void 0}function YD(t,e,n,r){if(r<e)throw QD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw QD(`Invalid value for '${t}'. Expected ${n} or less.`)}function $H(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var g_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(g_||{});function HH(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var y_=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,_)=>{this.resolve_=y,this.reject_=_,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Os(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===g_.NO_ERROR,c=s.getStatus();if(!a||HH(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===g_.ABORT;r(!1,new Os(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Os(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());jH(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=MH();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?tA():OH();o(c)}else{let c=kH();o(c)}};this.canceled_?n(!1,new Os(!1,null,!0)):this.backoffId_=UH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Os=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function qH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KH(t,e,n,r,i,s,o=!0){let a=$H(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return WH(u,e),qH(u,n),zH(u,s),GH(u,r),new y_(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function QH(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YH(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var oJ=256*1024;var __=class t{constructor(e,n){this._service=e,n instanceof zn?this._location=n:this._location=zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YH(this._location.path)}get storage(){return this._service}get parent(){let e=QH(this._location.path);if(e===null)return null;let n=new zn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw VH(e)}};function JD(t,e){let n=e?.[xH];return n==null?null:zn.makeFromBucketSpec(n,t)}function JH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:as(i,t.app.options.projectId))}var v_=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NH,this._maxUploadRetryTime=PH,this._requests=new Set,i!=null?this._bucket=zn.makeFromBucketSpec(i,this._host):this._bucket=JD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=JD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return g(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return g(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new __(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new m_(tA());{let o=KH(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return g(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},ZD="@firebase/storage",XD="0.12.2";var nA="storage";function rA(t=at(),e){t=Se(t);let r=qe(t,nA).getImmediate({identifier:e}),i=os("storage");return i&&iA(r,...i),r}function iA(t,e,n,r={}){JH(t,e,n,r)}function ZH(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new v_(n,r,i,e,pt)}function XH(){Ae(new _e(nA,ZH,"PUBLIC").setMultipleInstances(!0)),O(ZD,XD,""),O(ZD,XD,"esm2017")}XH();var za=class{constructor(e){return e}},sA="storage",w_=class{constructor(){return St(sA)}};var I_=new R("angularfire2.storage-instances");function e4(t,e){let n=Ft(sA,t,e);return n&&new za(n)}function t4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new za(r)}}var n4={provide:w_,deps:[[new ie,I_]]},r4={provide:za,useFactory:e4,deps:[[new ie,I_],Ge]},i4=(()=>{class t{constructor(){O("angularfire",ze.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Me({providers:[r4,n4]})}return t})();function oA(t,...e){return{ngModule:i4,providers:[{provide:I_,useFactory:t4(t),multi:!0,deps:[V,pe,mt,ct,[new ie,Bn],[new ie,yn],...e]}]}}var aA=We(rA,!0);var E_="@firebase/remote-config",cA="0.4.5";var uA="remote-config";var s4={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},_t=new ot("remoteconfig","Remote Config",s4);function lA(t=at()){return t=Se(t),qe(t,uA).getImmediate()}function dA(t){let e=Se(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}var T_=class{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){return g(this,null,function*(){let[n,r]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;let i=yield this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})}};function o4(t=navigator){return t.languages&&t.languages[0]||t.language}var C_=class{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){return g(this,null,function*(){let[n,r]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:o4()},c={method:"POST",headers:o,body:JSON.stringify(a)},u=fetch(s,c),l=new Promise((E,D)=>{e.signal.addEventListener(()=>{let ee=new Error("The operation was aborted.");ee.name="AbortError",D(ee)})}),d;try{yield Promise.race([u,l]),d=yield u}catch(E){let D="fetch-client-network";throw E?.name==="AbortError"&&(D="fetch-timeout"),_t.create(D,{originalErrorMessage:E?.message})}let h=d.status,y=d.headers.get("ETag")||void 0,_,v;if(d.status===200){let E;try{E=yield d.json()}catch(D){throw _t.create("fetch-client-parse",{originalErrorMessage:D?.message})}_=E.entries,v=E.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?h=500:v==="NO_CHANGE"?h=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(_={}),h!==304&&h!==200)throw _t.create("fetch-status",{httpStatus:h});return{status:h,eTag:y,config:_}})}};function a4(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function c4(t){if(!(t instanceof be)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var b_=class{constructor(e,n){this.client=e,this.storage=n}fetch(e){return g(this,null,function*(){let n=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)})}attemptFetch(i,s){return g(this,arguments,function*(e,{throttleEndTimeMillis:n,backoffCount:r}){yield a4(e.signal,n);try{let o=yield this.client.fetch(e);return yield this.storage.deleteThrottleMetadata(),o}catch(o){if(!c4(o))throw o;let a={throttleEndTimeMillis:Date.now()+Go(r),backoffCount:r+1};return yield this.storage.setThrottleMetadata(a),this.attemptFetch(e,a)}})}};var u4=60*1e3,l4=12*60*60*1e3,S_=class{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:u4,minimumFetchIntervalMillis:l4},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}};function od(t,e){let n=t.target.error||void 0;return _t.create(e,{originalErrorMessage:n&&n?.message})}var gi="app_namespace_store",d4="firebase_remote_config",h4=1;function f4(){return new Promise((t,e)=>{try{let n=indexedDB.open(d4,h4);n.onerror=r=>{e(od(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(gi,{keyPath:"compositeKey"})}}}catch(n){e(_t.create("storage-open",{originalErrorMessage:n?.message}))}})}var D_=class{constructor(e,n,r,i=f4()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){return g(this,null,function*(){let n=yield this.openDbPromise;return new Promise((r,i)=>{let o=n.transaction([gi],"readonly").objectStore(gi),a=this.createCompositeKey(e);try{let c=o.get(a);c.onerror=u=>{i(od(u,"storage-get"))},c.onsuccess=u=>{let l=u.target.result;r(l?l.value:void 0)}}catch(c){i(_t.create("storage-get",{originalErrorMessage:c?.message}))}})})}set(e,n){return g(this,null,function*(){let r=yield this.openDbPromise;return new Promise((i,s)=>{let a=r.transaction([gi],"readwrite").objectStore(gi),c=this.createCompositeKey(e);try{let u=a.put({compositeKey:c,value:n});u.onerror=l=>{s(od(l,"storage-set"))},u.onsuccess=()=>{i()}}catch(u){s(_t.create("storage-set",{originalErrorMessage:u?.message}))}})})}delete(e){return g(this,null,function*(){let n=yield this.openDbPromise;return new Promise((r,i)=>{let o=n.transaction([gi],"readwrite").objectStore(gi),a=this.createCompositeKey(e);try{let c=o.delete(a);c.onerror=u=>{i(od(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){i(_t.create("storage-delete",{originalErrorMessage:c?.message}))}})})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}};var A_=class{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){return g(this,null,function*(){let e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=yield e;i&&(this.lastFetchStatus=i);let s=yield n;s&&(this.lastSuccessfulFetchTimestampMillis=s);let o=yield r;o&&(this.activeConfig=o)})}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}};function p4(){Ae(new _e(uA,t,"PUBLIC").setMultipleInstances(!0)),O(E_,cA),O(E_,cA,"esm2017");function t(e,{instanceIdentifier:n}){let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _t.create("registration-window");if(!Fn())throw _t.create("indexed-db-unavailable");let{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw _t.create("registration-project-id");if(!o)throw _t.create("registration-api-key");if(!a)throw _t.create("registration-app-id");n=n||"firebase";let c=new D_(a,r.name,n),u=new A_(c),l=new ft(E_);l.logLevel=K.ERROR;let d=new C_(i,pt,n,s,o,a),h=new b_(d,c),y=new T_(h,c,u,l),_=new S_(r,y,u,c,l);return dA(_),_}}function hA(){return g(this,null,function*(){if(!Fn())return!1;try{return yield qr()}catch{return!1}})}p4();var Wa=class{constructor(e){return e}},fA="remote-config",R_=class{constructor(){return St(fA)}};var x_="__angularfire_symbol__remoteConfigIsSupportedValue",pA="__angularfire_symbol__remoteConfigIsSupported";globalThis[pA]||=hA().then(t=>globalThis[x_]=t).catch(()=>globalThis[x_]=!1);var ad={async:()=>globalThis[pA],sync:()=>{let t=globalThis[x_];if(t===void 0)throw new Error(Pu("RemoteConfig"));return t}},N_=new R("angularfire2.remote-config-instances");function m4(t,e){if(!ad.sync())return null;let n=Ft(fA,t,e);return n&&new Wa(n)}function g4(t){return(e,n)=>{if(!ad.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new Wa(r)}}var y4={provide:R_,deps:[[new ie,N_]]},_4={provide:Wa,useFactory:m4,deps:[[new ie,N_],Ge]},v4=(()=>{class t{constructor(){O("angularfire",ze.full,"rc")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Me({providers:[_4,y4,{provide:or,useValue:ad.async,multi:!0}]})}return t})();function mA(t,...e){return{ngModule:v4,providers:[{provide:N_,useFactory:g4(t),multi:!0,deps:[V,pe,mt,ct,...e]}]}}var rZ=ad.async;var gA=We(lA,!0);var yA={providers:[uT(DT),xn(JT(()=>ZT({projectId:"backstage-billiards",appId:"1:435373889174:web:dcb331ca5daf25e24a54b7",storageBucket:"backstage-billiards.appspot.com",apiKey:"AIzaSyAUDXcUMYlpzRhuS778tKPD87By6xYxoq8",authDomain:"backstage-billiards.firebaseapp.com",messagingSenderId:"435373889174",measurementId:"G-1HYYQ2JW1K"}))),xn(U0(()=>j0())),xn(DC(()=>SC())),jm,al,xn(nS(()=>rS())),xn(GD(()=>KD())),xn(oA(()=>aA())),xn(mA(()=>gA()))]};var _A=(()=>{let e=class e{constructor(r){this.el=r,this.menuItems=[{name:"Sandwiches",img:"assets/images/menu-food-01.png",route:"/menu/sandwiches"},{name:"Burgers",img:"assets/images/menu-food-02.png",route:"/menu/burgers"},{name:"Pizzas",img:"assets/images/menu-food-03.png",route:"/menu/pizzas"}]}ngAfterViewInit(){this.initializeRdNavbar()}initializeRdNavbar(){let r=$(this.el.nativeElement).find(".rd-navbar");r.length&&(r.RDNavbar({stickUpClone:r.attr("data-stick-up-clone")?r.attr("data-stick-up-clone")==="true":!1}),r.attr("data-body-class")&&(document.body.className+=" "+r.attr("data-body-class")))}};e.\u0275fac=function(i){return new(i||e)(ln(cn))},e.\u0275cmp=se({type:e,selectors:[["app-navbar"]],standalone:!0,features:[oe],decls:112,vars:0,consts:[[1,"page-head"],[1,"rd-navbar-wrap","rd-navbar-default"],["data-layout","rd-navbar-fixed","data-sm-layout","rd-navbar-fixed","data-md-device-layout","rd-navbar-fixed","data-lg-layout","rd-navbar-static","data-lg-device-layout","rd-navbar-static","data-stick-up-clone","false","data-md-stick-up-offset","100px","data-lg-stick-up-offset","150px",1,"rd-navbar"],[1,"shell","shell-fluid"],[1,"rd-navbar-inner"],[1,"rd-navbar-nav-wrap-outer"],[1,"rd-navbar-aside"],[1,"rd-navbar-aside-content"],[1,"rd-navbar-panel","rd-navbar-aside-left"],["data-rd-navbar-toggle",".rd-navbar-nav-wrap",1,"rd-navbar-toggle"],["href","index.html",1,"rd-navbar-brand","brand"],["src","assets/images/backstage-logo.png","alt","Backstage Billiards Logo",2,"height","60px","vertical-align","middle"],[1,"brand-title",2,"font-family","'Almendra', serif","font-size","24px","color","#ffffff","margin-left","15px","vertical-align","middle"],[1,"rd-navbar-aside-right"],[1,"list-links","list-inline","text-left"],[1,"unit","unit-horizontal","unit-middle","unit-spacing-xs"],[1,"unit-left"],[1,"icon","icon-circle","icon-primary-lighter","icon-xxs","mdi","mdi-map-marker","text-middle"],[1,"unit-body"],[1,"contact-info"],["href","#",1,"link-gray-light-1","link-xs","link-fixed-color"],[1,"visible-md","visible-lg"],[1,"icon","icon-circle","icon-primary-lighter","icon-xxs","mdi","mdi-phone","text-middle"],["href","tel:407-345-0323",1,"link-gray-light-1","link-xs","link-fixed-color"],[1,"reveal-block","text-gray-light-1","link-xs","link-fixed-color"],[1,"list-inline","list-inline-sm"],["href","https://www.instagram.com/backstagebilliardsidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-instagram"],["href","https://www.facebook.com/backstagebilliardsidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-facebook"],["href","https://twitter.com/backstageidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-twitter"],[1,"rd-navbar-nav-wrap"],[1,"rd-navbar-nav"],[1,"active"],["href","/home"],["routerLink","/about"],["routerLink","/menu"],[1,"rd-navbar-dropdown","menu-img-wrap"],[1,"menu-img"],["href","menu-single.html"],["src","assets/images/menu-food-01.png","alt","","width","88","height","60"],["src","assets/images/menu-food-02.png","alt","","width","88","height","60"],["src","assets/images/menu-food-03.png","alt","","width","88","height","60"],["src","assets/images/menu-food-04.png","alt","","width","88","height","60"],["src","assets/images/menu-food-05.png","alt","","width","88","height","60"],["src","assets/images/menu-food-06.png","alt","","width","88","height","60"],["href","/tournaments-events"],["href","/gallery"],["href","/contact"],["href","#"],[1,"rd-navbar-dropdown"],["href","/partners"],["href","/faq"],["href","/blog"]],template:function(i,s){i&1&&(f(0,"header",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"button",9),x(10,"span"),p(),f(11,"a",10),x(12,"img",11),f(13,"span",12),m(14,"Backstage Billiards I-Drive"),p()()(),f(15,"div",13)(16,"ul",14)(17,"li")(18,"div",15)(19,"div",16),x(20,"span",17),p(),f(21,"div",18)(22,"address",19)(23,"a",20),m(24,"8957 International Drive "),x(25,"br",21),m(26," Orlando, FL 32819"),p()()()()(),f(27,"li")(28,"div",15)(29,"div",16),x(30,"span",22),p(),f(31,"div",18)(32,"address",19)(33,"a",23),m(34,"407-345-0323"),p(),f(35,"span",24),m(36,"Daily: 3:00 PM \u2013 2:15 AM"),p()()()()(),f(37,"li")(38,"ul",25)(39,"li")(40,"a",26),x(41,"span",27),p()(),f(42,"li")(43,"a",28),x(44,"span",29),p()(),f(45,"li")(46,"a",30),x(47,"span",31),p()()()()()()()()(),f(48,"div",32)(49,"ul",33)(50,"li",34)(51,"a",35),m(52,"Home"),p()(),f(53,"li")(54,"a",36),m(55,"About Us"),p()(),f(56,"li")(57,"a",37),m(58,"Menu"),p(),f(59,"ul",38)(60,"li",39)(61,"a",40),x(62,"img",41),f(63,"span"),m(64,"Sandwiches"),p()()(),f(65,"li",39)(66,"a",40),x(67,"img",42),f(68,"span"),m(69,"Burgers"),p()()(),f(70,"li",39)(71,"a",40),x(72,"img",43),f(73,"span"),m(74,"Pizzas"),p()()(),f(75,"li",39)(76,"a",40),x(77,"img",44),f(78,"span"),m(79,"Salads"),p()()(),f(80,"li",39)(81,"a",40),x(82,"img",45),f(83,"span"),m(84,"Drinks"),p()()(),f(85,"li",39)(86,"a",40),x(87,"img",46),f(88,"span"),m(89,"desserts"),p()()()()(),f(90,"li")(91,"a",47),m(92,"Tournaments & Events"),p()(),f(93,"li")(94,"a",48),m(95,"Gallery"),p()(),f(96,"li")(97,"a",49),m(98,"Contacts"),p()(),f(99,"li")(100,"a",50),m(101,"More"),p(),f(102,"ul",51)(103,"li")(104,"a",52),m(105,"Partners"),p()(),f(106,"li")(107,"a",53),m(108,"FAQ"),p()(),f(109,"li")(110,"a",54),m(111,"News"),p()()()()()()()()()()())},dependencies:[pT,aT],encapsulation:2});let t=e;return t})();var vA=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-footer"]],standalone:!0,features:[oe],decls:94,vars:0,consts:[[1,"page-foot","text-sm-left"],[1,"bg-gray-darker","section-top-55","section-bottom-60"],[1,"shell"],[1,"range","border-left-cell"],[1,"cell-sm-6","cell-md-3","cell-lg-4"],["href","index.html",1,"brand","brand-inverse"],["src","assets/images/brand-154x48.png","alt","","width","154","height","48"],[1,"list-unstyled","contact-info","offset-top-5"],[1,"unit","unit-horizontal","unit-top","unit-spacing-xxs"],[1,"unit-left"],[1,"text-white"],[1,"unit-body","text-left","text-gray-light"],[1,"unit-body"],["href","mailto:#",1,"link-gray-light"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-sm-top-0"],[1,"text-uppercase"],[1,"list-tags","offset-top-15"],[1,"text-gray-light"],["href","menu-single.html",1,"link-gray-light"],[1,"cell-sm-10","cell-lg-5","offset-top-50","offset-md-top-0","cell-md-6"],[1,"offset-top-20"],["data-form-output","form-output-global","data-form-type","subscribe","method","post","action","bat/rd-mailform.php",1,"rd-mailform","form-subscribe","form-inline-flex-xs"],[1,"form-group"],["placeholder","Your Email","type","email","name","email","data-constraints","@Required @Email",1,"form-control"],["type","submit",1,"btn","btn-primary-lighter","btn-shape-circle"],[1,"section-20","bg-white"],[1,"range","range-xs-center","range-sm-justify"],[1,"cell-sm-5","offset-top-26","text-md-left"],[1,"copyright"],["id","copyright-year"],[1,"veil-sm"],["href","privacy.html"],["href","contact.html"],["href","tel:407-345-0323"],["href","https://www.facebook.com/BackstageBilliardsIDrive"],["href","https://www.instagram.com/BackstageBilliardsIDrive"],[1,"cell-sm-4","offset-top-30","offset-sm-top-0","text-md-right"],[1,"list-inline","list-inline-sizing-1"],["href","#",1,"link-silver-light"],[1,"icon","icon-xs","fa-instagram"],[1,"icon","icon-xs","fa-facebook"],[1,"icon","icon-xs","fa-twitter"],[1,"icon","icon-xs","fa-google-plus"]],template:function(i,s){i&1&&(f(0,"footer",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),x(6,"img",6),p(),f(7,"ul",7)(8,"li")(9,"div",8)(10,"div",9)(11,"span",10),m(12,"Address:"),p()(),f(13,"div",11)(14,"p"),m(15,"267 Park Avenue New York, NY 90210"),p()()()(),f(16,"li")(17,"div",8)(18,"div",9)(19,"span",10),m(20,"Email:"),p()(),f(21,"div",12),x(22,"a",13),p()()()()(),f(23,"div",14)(24,"h4",15),m(25,"Our menu"),p(),f(26,"ul",16)(27,"li",17)(28,"a",18),m(29,"Sandwiches"),p()(),f(30,"li",17)(31,"a",18),m(32,"Burgers"),p()(),f(33,"li",17)(34,"a",18),m(35,"Pizzas"),p()(),f(36,"li",17)(37,"a",18),m(38,"Salads"),p()(),f(39,"li",17)(40,"a",18),m(41,"Drinks"),p()(),f(42,"li",17)(43,"a",18),m(44,"Desserts"),p()()()(),f(45,"div",19)(46,"h4",15),m(47,"newsletter"),p(),f(48,"div",20)(49,"form",21)(50,"div",22),x(51,"input",23),p(),f(52,"button",24),m(53,"Subscribe"),p()()()()()()(),f(54,"section",25)(55,"div",2)(56,"div",26)(57,"div",27)(58,"p",28),m(59," Backstage Billiards \xA0\xA9\xA0"),x(60,"span",29),m(61," | A Premier Pool Hall Experience"),x(62,"br",30),f(63,"a",31),m(64,"Privacy Policy"),p(),m(65," | "),f(66,"a",32),m(67,"Contact Us"),p(),x(68,"br",30),m(69," Open Daily 3:00 PM - 2:15 AM | "),f(70,"a",33),m(71,"407-345-0323"),p(),x(72,"br",30),m(73," Follow us on "),f(74,"a",34),m(75,"Facebook"),p(),m(76,", "),f(77,"a",35),m(78,"Instagram"),p(),x(79,"br",30),p()(),f(80,"div",36)(81,"ul",37)(82,"li")(83,"a",38),x(84,"span",39),p()(),f(85,"li")(86,"a",38),x(87,"span",40),p()(),f(88,"li")(89,"a",38),x(90,"span",41),p()(),f(91,"li")(92,"a",38),x(93,"span",42),p()()()()()()()())},encapsulation:2});let t=e;return t})();var wA=(()=>{let e=class e{constructor(){this.title="backstage-billiards"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=se({type:e,selectors:[["app-root"]],standalone:!0,features:[oe],decls:30,vars:0,consts:[[1,"page","text-center"],[1,"page-content"],["id","form-output-global",1,"snackbars"],["tabindex","-1","role","dialog","aria-hidden","true",1,"pswp"],[1,"pswp__bg"],[1,"pswp__scroll-wrap"],[1,"pswp__container"],[1,"pswp__item"],[1,"pswp__ui","pswp__ui--hidden"],[1,"pswp__top-bar"],[1,"pswp__counter"],["title","Close (Esc)",1,"pswp__button","pswp__button--close"],["title","Share",1,"pswp__button","pswp__button--share"],["title","Toggle fullscreen",1,"pswp__button","pswp__button--fs"],["title","Zoom in/out",1,"pswp__button","pswp__button--zoom"],[1,"pswp__preloader"],[1,"pswp__preloader__icn"],[1,"pswp__preloader__cut"],[1,"pswp__preloader__donut"],[1,"pswp__share-modal","pswp__share-modal--hidden","pswp__single-tap"],[1,"pswp__share-tooltip"],["title","Previous (arrow left)",1,"pswp__button","pswp__button--arrow--left"],["title","Next (arrow right)",1,"pswp__button","pswp__button--arrow--right"],[1,"pswp__caption"],[1,"pswp__caption__cent"]],template:function(i,s){i&1&&(f(0,"div",0),x(1,"app-navbar"),f(2,"main",1),x(3,"router-outlet"),p(),x(4,"app-footer"),p(),x(5,"div",2),f(6,"div",3),x(7,"div",4),f(8,"div",5)(9,"div",6),x(10,"div",7)(11,"div",7)(12,"div",7),p(),f(13,"div",8)(14,"div",9),x(15,"div",10)(16,"button",11)(17,"button",12)(18,"button",13)(19,"button",14),f(20,"div",15)(21,"div",16)(22,"div",17),x(23,"div",18),p()()()(),f(24,"div",19),x(25,"div",20),p(),x(26,"button",21)(27,"button",22),f(28,"div",23),x(29,"div",24),p()()()())},dependencies:[ap,_A,vA]});let t=e;return t})();wE(wA,yA).catch(t=>console.error(t));
