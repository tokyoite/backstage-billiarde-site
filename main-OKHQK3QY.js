var wk=Object.defineProperty,Ik=Object.defineProperties;var Ek=Object.getOwnPropertyDescriptors;var kE=Object.getOwnPropertySymbols,Ck=Object.getPrototypeOf,bk=Object.prototype.hasOwnProperty,Tk=Object.prototype.propertyIsEnumerable,Dk=Reflect.get;var OE=(t,e,n)=>e in t?wk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})bk.call(e,n)&&OE(t,n,e[n]);if(kE)for(var n of kE(e))Tk.call(e,n)&&OE(t,n,e[n]);return t},de=(t,e)=>Ik(t,Ek(e));var Dr=(t,e,n)=>Dk(Ck(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var FE=null;var Vf=1,LE=Symbol("SIGNAL");function pe(t){let e=FE;return FE=t,e}var VE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sk(t){if(!(jf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vf)){if(!t.producerMustRecompute(t)&&!Uf(t)){t.dirty=!1,t.lastCleanEpoch=Vf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Vf}}function UE(t){return t&&(t.nextProducerIndex=0),pe(t)}function BE(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(jf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Uf(t){Dl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Sk(n),r!==n.version))return!0}return!1}function jE(t){if(Dl(t),jf(t))for(let e=0;e<t.producerNode.length;e++)Bf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bf(t,e){if(Ak(t),Dl(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Bf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Dl(i),i.producerIndexOfThis[r]=e}}function jf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Dl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ak(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Mk(){throw new Error}var Rk=Mk;function $E(t){Rk=t}function j(t){return typeof t=="function"}function ys(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sl=ys(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(j(r))try{r()}catch(s){e=s instanceof Sl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{zE(s)}catch(o){e=e??[],o instanceof Sl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Sl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fi(n,e)}remove(e){let{_finalizers:n}=this;n&&fi(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var $f=Ue.EMPTY;function Al(t){return t instanceof Ue||t&&"closed"in t&&j(t.remove)&&j(t.add)&&j(t.unsubscribe)}function zE(t){j(t)?t():t.unsubscribe()}var yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _s={setTimeout(t,e,...n){let{delegate:r}=_s;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=_s;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ml(t){_s.setTimeout(()=>{let{onUnhandledError:e}=yn;if(e)e(t);else throw t})}function oa(){}var HE=zf("C",void 0,void 0);function qE(t){return zf("E",void 0,t)}function GE(t){return zf("N",t,void 0)}function zf(t,e,n){return{kind:t,value:e,error:n}}var pi=null;function vs(t){if(yn.useDeprecatedSynchronousErrorHandling){let e=!pi;if(e&&(pi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pi;if(pi=null,n)throw r}}else t()}function WE(t){yn.useDeprecatedSynchronousErrorHandling&&pi&&(pi.errorThrown=!0,pi.error=t)}var gi=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Al(e)&&e.add(this)):this.destination=Pk}static create(e,n,r){return new ws(e,n,r)}next(e){this.isStopped?qf(GE(e),this):this._next(e)}error(e){this.isStopped?qf(qE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qf(HE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xk=Function.prototype.bind;function Hf(t,e){return xk.call(t,e)}var Gf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Rl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Rl(r)}else Rl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rl(n)}}},ws=class extends gi{constructor(e,n,r){super();let i;if(j(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&yn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hf(e.next,s),error:e.error&&Hf(e.error,s),complete:e.complete&&Hf(e.complete,s)}):i=e}this.destination=new Gf(i)}};function Rl(t){yn.useDeprecatedSynchronousErrorHandling?WE(t):Ml(t)}function Nk(t){throw t}function qf(t,e){let{onStoppedNotification:n}=yn;n&&_s.setTimeout(()=>n(t,e))}var Pk={closed:!0,next:oa,error:Nk,complete:oa};var Is=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function Wf(...t){return Kf(t)}function Kf(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var X=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Ok(n)?n:new ws(n,r,i);return vs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=KE(r),new r((i,s)=>{let o=new ws({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Is](){return this}pipe(...n){return Kf(n)(this)}toPromise(n){return n=KE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function KE(t){var e;return(e=t??yn.Promise)!==null&&e!==void 0?e:Promise}function kk(t){return t&&j(t.next)&&j(t.error)&&j(t.complete)}function Ok(t){return t&&t instanceof gi||kk(t)&&Al(t)}function Qf(t){return j(t?.lift)}function Q(t){return e=>{if(Qf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new aa(t,e,n,r,i)}var aa=class extends gi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Es(){return Q((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Cs=class extends X{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Es()(this)}};var QE=ys(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class t extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new xl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new QE}next(n){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?$f:(this.currentObservers=null,s.push(n),new Ue(()=>{this.currentObservers=null,fi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return t.create=(e,n)=>new xl(e,n),t})(),xl=class extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$f}};var ot=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Yf={now(){return(Yf.delegate||Date).now()},delegate:void 0};var Nl=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var ca={setInterval(t,e,...n){let{delegate:r}=ca;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ca;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var bs=class extends Nl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ca.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ts=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ts.now=Yf.now;var Ds=class extends Ts{constructor(e,n=Ts.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Zf=new Ds(bs);var Pl=class extends bs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var kl=class extends Ds{};var Jf=new kl(Pl);var Gt=new X(t=>t.complete());function YE(t){return t&&j(t.schedule)}function ZE(t){return t[t.length-1]}function Ol(t){return j(ZE(t))?t.pop():void 0}function Sr(t){return YE(ZE(t))?t.pop():void 0}function Xf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function JE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mi(t){return this instanceof mi?(this.v=t,this):new mi(t)}function eC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(y,v){s.push([h,p,y,v])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(y){d(s[0][3],y)}}function c(h){h.value instanceof mi?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function tC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JE=="function"?JE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Fl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ll(t){return j(t?.then)}function Vl(t){return j(t[Is])}function Ul(t){return Symbol.asyncIterator&&j(t?.[Symbol.asyncIterator])}function Bl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Fk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jl=Fk();function $l(t){return j(t?.[jl])}function zl(t){return eC(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield mi(n.read());if(i)return yield mi(void 0);yield yield mi(r)}}finally{n.releaseLock()}})}function Hl(t){return j(t?.getReader)}function Oe(t){if(t instanceof X)return t;if(t!=null){if(Vl(t))return Lk(t);if(Fl(t))return Vk(t);if(Ll(t))return Uk(t);if(Ul(t))return nC(t);if($l(t))return Bk(t);if(Hl(t))return jk(t)}throw Bl(t)}function Lk(t){return new X(e=>{let n=t[Is]();if(j(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Vk(t){return new X(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Uk(t){return new X(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ml)})}function Bk(t){return new X(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function nC(t){return new X(e=>{$k(t,e).catch(n=>e.error(n))})}function jk(t){return nC(zl(t))}function $k(t,e){var n,r,i,s;return XE(this,void 0,void 0,function*(){try{for(n=tC(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Lt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ar(t,e=0){return Q((n,r)=>{n.subscribe(q(r,i=>Lt(r,t,()=>r.next(i),e),()=>Lt(r,t,()=>r.complete(),e),i=>Lt(r,t,()=>r.error(i),e)))})}function Mr(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function rC(t,e){return Oe(t).pipe(Mr(e),Ar(e))}function iC(t,e){return Oe(t).pipe(Mr(e),Ar(e))}function sC(t,e){return new X(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function oC(t,e){return new X(n=>{let r;return Lt(n,e,()=>{r=t[jl](),Lt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>j(r?.return)&&r.return()})}function ql(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(n=>{Lt(n,e,()=>{let r=t[Symbol.asyncIterator]();Lt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function aC(t,e){return ql(zl(t),e)}function cC(t,e){if(t!=null){if(Vl(t))return rC(t,e);if(Fl(t))return sC(t,e);if(Ll(t))return iC(t,e);if(Ul(t))return ql(t,e);if($l(t))return oC(t,e);if(Hl(t))return aC(t,e)}throw Bl(t)}function Ee(t,e){return e?cC(t,e):Oe(t)}function P(...t){let e=Sr(t);return Ee(t,e)}function Ss(t,e){let n=j(t)?t:()=>t,r=i=>i.error(n());return new X(e?i=>e.schedule(r,0,i):r)}function ep(t){return!!t&&(t instanceof X||j(t.lift)&&j(t.subscribe))}var tr=ys(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return Q((n,r)=>{let i=0;n.subscribe(q(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:zk}=Array;function Hk(t,e){return zk(e)?t(...e):t(e)}function Gl(t){return Z(e=>Hk(t,e))}var{isArray:qk}=Array,{getPrototypeOf:Gk,prototype:Wk,keys:Kk}=Object;function Wl(t){if(t.length===1){let e=t[0];if(qk(e))return{args:e,keys:null};if(Qk(e)){let n=Kk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Qk(t){return t&&typeof t=="object"&&Gk(t)===Wk}function Kl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function la(...t){let e=Sr(t),n=Ol(t),{args:r,keys:i}=Wl(t);if(r.length===0)return Ee([],e);let s=new X(Yk(r,e,i?o=>Kl(i,o):Et));return n?s.pipe(Gl(n)):s}function Yk(t,e,n=Et){return r=>{lC(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)lC(e,()=>{let l=Ee(t[c],e),u=!1;l.subscribe(q(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function lC(t,e,n){t?Lt(n,t,e):e()}function uC(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},p=v=>l<r?y(v):c.push(v),y=v=>{s&&e.next(v),l++;let w=!1;Oe(n(v,u++)).subscribe(q(e,T=>{i?.(T),s?p(T):e.next(T)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let T=c.shift();o?Lt(e,o,()=>y(T)):y(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(q(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Fe(t,e,n=1/0){return j(e)?Fe((r,i)=>Z((s,o)=>e(r,s,i,o))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>uC(r,i,t,n)))}function Rr(t=1/0){return Fe(Et,t)}function dC(){return Rr(1)}function As(...t){return dC()(Ee(t,Sr(t)))}function Ql(t){return new X(e=>{Oe(t()).subscribe(e)})}function tp(...t){let e=Ol(t),{args:n,keys:r}=Wl(t),i=new X(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;Oe(n[u]).subscribe(q(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?Kl(r,a):a),s.complete())}))}});return e?i.pipe(Gl(e)):i}function Ct(t,e){return Q((n,r)=>{let i=0;n.subscribe(q(r,s=>t.call(e,s,i++)&&r.next(s)))})}function xr(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(q(n,void 0,void 0,o=>{s=Oe(t(o,xr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function hC(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(q(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Nr(t,e){return j(e)?Fe(t,e,1):Fe(t,1)}function Pr(t){return Q((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nr(t){return t<=0?()=>Gt:Q((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function np(t){return Z(()=>t)}function rp(t,e=Et){return t=t??Zk,Q((n,r)=>{let i,s=!0;n.subscribe(q(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Zk(t,e){return t===e}function Yl(t=Jk){return Q((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Jk(){return new tr}function ua(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function An(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):Et,nr(1),n?Pr(e):Yl(()=>new tr))}function ip(t,e,n,r){return Q((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let a=new Map,c=y=>{a.forEach(y),y(s)},l=y=>c(v=>v.error(y)),u=0,d=!1,h=new aa(s,y=>{try{let v=t(y),w=a.get(v);if(!w){a.set(v,w=r?r():new Ye);let T=p(v,w);if(s.next(T),n){let V=q(w,()=>{w.complete(),V?.unsubscribe()},void 0,void 0,()=>a.delete(v));h.add(Oe(n(T)).subscribe(V))}}w.next(o?o(y):y)}catch(v){l(v)}},()=>c(y=>y.complete()),l,()=>a.clear(),()=>(d=!0,u===0));i.subscribe(h);function p(y,v){let w=new X(T=>{u++;let V=v.subscribe(T);return()=>{V.unsubscribe(),--u===0&&d&&h.unsubscribe()}});return w.key=y,w}})}function Ms(t){return t<=0?()=>Gt:Q((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):Et,Ms(1),n?Pr(e):Yl(()=>new tr))}function op(){return Q((t,e)=>{let n,r=!1;t.subscribe(q(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function ap(t,e){return Q(hC(t,e,arguments.length>=2,!0))}function da(...t){let e=Sr(t);return Q((n,r)=>{(e?As(t,n,e):As(t,n)).subscribe(r)})}function bt(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(q(r,c=>{i?.unsubscribe();let l=0,u=s++;Oe(t(c,u)).subscribe(i=q(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function cp(t){return Q((e,n)=>{Oe(t).subscribe(q(n,()=>n.complete(),oa)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=j(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(q(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}var YC="https://g.co/ng/security#xss",F=class extends Error{constructor(e,n){super(fg(e,n)),this.code=e}};function fg(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ba(t){return{toString:t}.toString()}var Zl="__parameters__";function Xk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ZC(t,e,n){return ba(()=>{let r=Xk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(Zl)?c[Zl]:Object.defineProperty(c,Zl,{value:[]})[Zl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var yi=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function eO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function fC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var tO=we({__forward_ref__:we});function qs(t){return t.__forward_ref__=qs,t.toString=function(){return Vt(this())},t}function Tt(t){return JC(t)?t():t}function JC(t){return typeof t=="function"&&t.hasOwnProperty(tO)&&t.__forward_ref__===qs}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ne(t){return{providers:t.providers||[],imports:t.imports||[]}}function Du(t){return pC(t,e0)||pC(t,t0)}function XC(t){return Du(t)!==null}function pC(t,e){return t.hasOwnProperty(e)?t[e]:null}function nO(t){let e=t&&(t[e0]||t[t0]);return e||null}function gC(t){return t&&(t.hasOwnProperty(mC)||t.hasOwnProperty(rO))?t[mC]:null}var e0=we({\u0275prov:we}),mC=we({\u0275inj:we}),t0=we({ngInjectableDef:we}),rO=we({ngInjectorDef:we}),x=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function n0(t){return t&&!!t.\u0275providers}var iO=we({\u0275cmp:we}),sO=we({\u0275dir:we}),oO=we({\u0275pipe:we}),aO=we({\u0275mod:we}),au=we({\u0275fac:we}),ha=we({__NG_ELEMENT_ID__:we}),yC=we({__NG_ENV_ID__:we});function pg(t){return typeof t=="string"?t:t==null?"":String(t)}function cO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():pg(t)}function lO(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new F(-200,t)}function gg(t,e){throw new F(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),bp;function r0(){return bp}function sn(t){let e=bp;return bp=t,e}function i0(t,e,n){let r=Du(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;gg(t,"Injector")}var uO={},fa=uO,Tp="__NG_DI_FLAG__",cu="ngTempTokenPath",dO="ngTokenPath",hO=/\n/gm,fO="\u0275",_C="__source",ks;function pO(){return ks}function kr(t){let e=ks;return ks=t,e}function gO(t,e=ee.Default){if(ks===void 0)throw new F(-203,!1);return ks===null?i0(t,void 0,e):ks.get(t,e&ee.Optional?null:void 0,e)}function N(t,e=ee.Default){return(r0()||gO)(Tt(t),e)}function C(t,e=ee.Default){return N(t,Su(e))}function Su(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Dp(t){let e=[];for(let n=0;n<t.length;n++){let r=Tt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,s=ee.Default;for(let o=0;o<r.length;o++){let a=r[o],c=mO(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function s0(t,e){return t[Tp]=e,t.prototype[Tp]=e,t}function mO(t){return t[Tp]}function yO(t,e,n,r){let i=t[cu];throw e[_C]&&i.unshift(e[_C]),t.message=_O(`
`+t.message,i,n,r),t[dO]=i,t[cu]=null,t}function _O(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==fO?t.slice(2):t;let i=Vt(e);if(Array.isArray(e))i=e.map(Vt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Vt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hO,`
  `)}`}var ge=s0(ZC("Optional"),8);var o0=s0(ZC("SkipSelf"),4);function Fs(t,e){let n=t.hasOwnProperty(au);return n?t[au]:null}function vO(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function wO(t){return t.flat(Number.POSITIVE_INFINITY)}function mg(t,e){t.forEach(n=>Array.isArray(n)?mg(n,e):e(n))}function a0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function IO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function EO(t,e,n){let r=Ta(t,e);return r>=0?t[r|1]=n:(r=~r,IO(t,r,e,n)),r}function lp(t,e){let n=Ta(t,e);if(n>=0)return t[n|1]}function Ta(t,e){return CO(t,e,1)}function CO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ls={},on=[],Vs=new x(""),c0=new x("",-1),l0=new x(""),uu=class{get(e,n=fa){if(n===fa){let r=new Error(`NullInjectorError: No provider for ${Vt(e)}!`);throw r.name="NullInjectorError",r}return n}},u0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(u0||{}),xn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xn||{}),ft=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ft||{});function bO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Sp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];TO(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function d0(t){return t===3||t===4||t===6}function TO(t){return t.charCodeAt(0)===64}function pa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vC(t,n,i,null,e[++r]):vC(t,n,i,null,null))}}return t}function vC(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var h0="ng-template";function DO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&bO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(yg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function yg(t){return t.type===4&&t.value!==h0}function SO(t,e,n){let r=t.type===4&&!n?h0:t.value;return e===r}function AO(t,e,n){let r=4,i=t.attrs,s=i!==null?xO(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!_n(r)&&!_n(c))return!1;if(o&&_n(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!SO(t,c,n)||c===""&&e.length===1){if(_n(r))return!1;o=!0}}else if(r&8){if(i===null||!DO(t,i,c,n)){if(_n(r))return!1;o=!0}}else{let l=e[++a],u=MO(c,i,yg(t),n);if(u===-1){if(_n(r))return!1;o=!0;continue}if(l!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(_n(r))return!1;o=!0}}}}return _n(r)||o}function _n(t){return(t&1)===0}function MO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return NO(e,t)}function RO(t,e,n=!1){for(let r=0;r<e.length;r++)if(AO(t,e[r],n))return!0;return!1}function xO(t){for(let e=0;e<t.length;e++){let n=t[e];if(d0(n))return e}return t.length}function NO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function wC(t,e){return t?":not("+e.trim()+")":e}function PO(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!_n(o)&&(e+=wC(s,i),i=""),r=o,s=s||!_n(r);n++}return i!==""&&(e+=wC(s,i)),e}function kO(t){return t.map(PO).join(",")}function OO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!_n(i))break;i=s}r++}return{attrs:e,classes:n}}function ne(t){return ba(()=>{let e=y0(t),n=de(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===u0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xn.Emulated,styles:t.styles||on,_:null,schemas:t.schemas||null,tView:null,id:""});_0(n);let r=t.dependencies;return n.directiveDefs=EC(r,!1),n.pipeDefs=EC(r,!0),n.id=VO(n),n})}function FO(t){return Fr(t)||f0(t)}function LO(t){return t!==null}function Pe(t){return ba(()=>({type:t.type,bootstrap:t.bootstrap||on,declarations:t.declarations||on,imports:t.imports||on,exports:t.exports||on,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function IC(t,e){if(t==null)return Ls;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ft.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ft.None?[r,a]:r,e[s]=o):n[s]=r}return n}function St(t){return ba(()=>{let e=y0(t);return _0(e),e})}function Fr(t){return t[iO]||null}function f0(t){return t[sO]||null}function p0(t){return t[oO]||null}function g0(t){let e=Fr(t)||f0(t)||p0(t);return e!==null?e.standalone:!1}function m0(t,e){let n=t[aO]||null;if(!n&&e===!0)throw new Error(`Type ${Vt(t)} does not have '\u0275mod' property.`);return n}function y0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ls,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||on,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IC(t.inputs,e),outputs:IC(t.outputs),debugInfo:null}}function _0(t){t.features?.forEach(e=>e(t))}function EC(t,e){if(!t)return null;let n=e?p0:FO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(LO)}function VO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Au(t){return{\u0275providers:t}}function ar(...t){return{\u0275providers:v0(!0,t),\u0275fromNgModule:!0}}function v0(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return mg(e,o=>{let a=o;Ap(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&w0(i,s),n}function w0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];_g(i,s=>{e(s,r)})}}function Ap(t,e,n,r){if(t=Tt(t),!t)return!1;let i=null,s=gC(t),o=!s&&Fr(t);if(!s&&!o){let c=t.ngModule;if(s=gC(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Ap(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{mg(s.imports,u=>{Ap(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&w0(l,e)}if(!a){let l=Fs(i)||(()=>new i);e({provide:i,useFactory:l,deps:on},i),e({provide:l0,useValue:i,multi:!0},i),e({provide:Vs,useValue:()=>N(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;_g(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function _g(t,e){for(let n of t)n0(n)&&(n=n.\u0275providers),Array.isArray(n)?_g(n,e):e(n)}var UO=we({provide:String,useValue:we});function I0(t){return t!==null&&typeof t=="object"&&UO in t}function BO(t){return!!(t&&t.useExisting)}function jO(t){return!!(t&&t.useFactory)}function Us(t){return typeof t=="function"}function $O(t){return!!t.useClass}var Mu=new x(""),tu={},zO={},up;function vg(){return up===void 0&&(up=new uu),up}var Kt=class{},ga=class extends Kt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rp(e,o=>this.processProvider(o)),this.records.set(c0,Rs(void 0,this)),i.has("environment")&&this.records.set(Kt,Rs(void 0,this));let s=this.records.get(Mu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(l0,on,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=kr(this),r=sn(void 0),i;try{return e()}finally{kr(n),sn(r)}}get(e,n=fa,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yC))return e[yC](this);r=Su(r);let i,s=kr(this),o=sn(void 0);try{if(!(r&ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=KO(e)&&Du(e);l&&this.injectableDefInScope(l)?c=Rs(Mp(e),tu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ee.Self?vg():this.parent;return n=r&ee.Optional&&n===fa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[cu]=a[cu]||[]).unshift(Vt(e)),s)throw a;return yO(a,e,"R3InjectorError",this.source)}else throw a}finally{sn(o),kr(s)}}resolveInjectorInitializers(){let e=pe(null),n=kr(this),r=sn(void 0),i;try{let s=this.get(Vs,on,ee.Self);for(let o of s)o()}finally{kr(n),sn(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){e=Tt(e);let n=Us(e)?e:Tt(e&&e.provide),r=qO(e);if(!Us(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Rs(void 0,tu,!0),i.factory=()=>Dp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===tu&&(n.value=zO,n.value=n.factory()),typeof n.value=="object"&&n.value&&WO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Tt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Mp(t){let e=Du(t),n=e!==null?e.factory:Fs(t);if(n!==null)return n;if(t instanceof x)throw new F(204,!1);if(t instanceof Function)return HO(t);throw new F(204,!1)}function HO(t){if(t.length>0)throw new F(204,!1);let n=nO(t);return n!==null?()=>n.factory(t):()=>new t}function qO(t){if(I0(t))return Rs(void 0,t.useValue);{let e=E0(t);return Rs(e,tu)}}function E0(t,e,n){let r;if(Us(t)){let i=Tt(t);return Fs(i)||Mp(i)}else if(I0(t))r=()=>Tt(t.useValue);else if(jO(t))r=()=>t.useFactory(...Dp(t.deps||[]));else if(BO(t))r=()=>N(Tt(t.useExisting));else{let i=Tt(t&&(t.useClass||t.provide));if(GO(t))r=()=>new i(...Dp(t.deps));else return Fs(i)||Mp(i)}return r}function Rs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function GO(t){return!!t.deps}function WO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function KO(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function Rp(t,e){for(let n of t)Array.isArray(n)?Rp(n,e):n&&n0(n)?Rp(n.\u0275providers,e):e(n)}function cr(t,e){t instanceof ga&&t.assertNotDestroyed();let n,r=kr(t),i=sn(void 0);try{return e()}finally{kr(r),sn(i)}}function C0(){return r0()!==void 0||pO()!=null}function QO(t){if(!C0())throw new F(-203,!1)}function YO(t){return typeof t=="function"}var lr=0,J=1,L=2,at=3,vn=4,In=5,du=6,ma=7,rr=8,Bs=9,wn=10,Dt=11,ya=12,CC=13,Da=14,Nn=15,Sa=16,xs=17,ir=18,Ru=19,b0=20,Or=21,dp=22,wi=23,Ii=25,T0=1;var Ei=7,hu=8,js=9,Wt=10,wg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wg||{});function _i(t){return Array.isArray(t)&&typeof t[T0]=="object"}function ur(t){return Array.isArray(t)&&t[T0]===!0}function D0(t){return(t.flags&4)!==0}function xu(t){return t.componentOffset>-1}function S0(t){return(t.flags&1)===1}function Lr(t){return!!t.template}function ZO(t){return(t[L]&512)!==0}var xp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function A0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function On(){return M0}function M0(t){return t.type.prototype.ngOnChanges&&(t.setInput=XO),JO}On.ngInherit=!0;function JO(){let t=x0(this),e=t?.current;if(e){let n=t.previous;if(n===Ls)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function XO(t,e,n,r,i){let s=this.declaredInputs[r],o=x0(t)||e1(t,{previous:Ls,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new xp(l&&l.currentValue,n,c===Ls),A0(t,e,i,n)}var R0="__ngSimpleChanges__";function x0(t){return t[R0]||null}function e1(t,e){return t[R0]=e}var bC=null;var Mn=function(t,e,n){bC?.(t,e,n)},t1="svg",n1="math",r1=!1;function i1(){return r1}function Pn(t){for(;Array.isArray(t);)t=t[lr];return t}function s1(t,e){return Pn(e[t])}function an(t,e){return Pn(e[t.index])}function N0(t,e){return t.data[e]}function Ur(t,e){let n=e[t];return _i(n)?n:n[lr]}function o1(t){return(t[L]&4)===4}function Ig(t){return(t[L]&128)===128}function a1(t){return ur(t[at])}function TC(t,e){return e==null?null:t[e]}function P0(t){t[xs]=0}function c1(t){t[L]&1024||(t[L]|=1024,Ig(t)&&_a(t))}function Eg(t){return!!(t[L]&9216||t[wi]?.dirty)}function Np(t){t[wn].changeDetectionScheduler?.notify(1),Eg(t)?_a(t):t[L]&64&&(i1()?(t[L]|=1024,_a(t)):t[wn].changeDetectionScheduler?.notify())}function _a(t){t[wn].changeDetectionScheduler?.notify();let e=va(t);for(;e!==null&&!(e[L]&8192||(e[L]|=8192,!Ig(e)));)e=va(e)}function k0(t,e){if((t[L]&256)===256)throw new F(911,!1);t[Or]===null&&(t[Or]=[]),t[Or].push(e)}function l1(t,e){if(t[Or]===null)return;let n=t[Or].indexOf(e);n!==-1&&t[Or].splice(n,1)}function va(t){let e=t[at];return ur(e)?e[at]:e}var he={lFrame:$0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function u1(){return he.lFrame.elementDepthCount}function d1(){he.lFrame.elementDepthCount++}function h1(){he.lFrame.elementDepthCount--}function O0(){return he.bindingsEnabled}function f1(){return he.skipHydrationRootTNode!==null}function p1(t){return he.skipHydrationRootTNode===t}function g1(){he.skipHydrationRootTNode=null}function Re(){return he.lFrame.lView}function Qt(){return he.lFrame.tView}function Ut(){let t=F0();for(;t!==null&&t.type===64;)t=t.parent;return t}function F0(){return he.lFrame.currentTNode}function m1(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Nu(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function L0(){return he.lFrame.isParent}function y1(){he.lFrame.isParent=!1}function _1(t){return he.lFrame.bindingIndex=t}function V0(){return he.lFrame.bindingIndex++}function v1(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function w1(){return he.lFrame.inI18n}function I1(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pp(e)}function E1(){return he.lFrame.currentDirectiveIndex}function Pp(t){he.lFrame.currentDirectiveIndex=t}function C1(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function U0(){return he.lFrame.currentQueryIndex}function Cg(t){he.lFrame.currentQueryIndex=t}function b1(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[In]:null}function B0(t,e,n){if(n&ee.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=b1(s),i===null||(s=s[Da],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=he.lFrame=j0();return r.currentTNode=e,r.lView=t,!0}function bg(t){let e=j0(),n=t[J];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function j0(){let t=he.lFrame,e=t===null?null:t.child;return e===null?$0(t):e}function $0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function z0(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var H0=z0;function Tg(){let t=z0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Aa(){return he.lFrame.selectedIndex}function Ci(t){he.lFrame.selectedIndex=t}function q0(){let t=he.lFrame;return N0(t.tView,t.selectedIndex)}function T1(){return he.lFrame.currentNamespace}var G0=!0;function W0(){return G0}function K0(t){G0=t}function D1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=M0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Q0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function nu(t,e,n){Y0(t,e,3,n)}function ru(t,e,n,r){(t[L]&3)===n&&Y0(t,e,n,r)}function hp(t,e){let n=t[L];(n&3)===e&&(n&=16383,n+=1,t[L]=n)}function Y0(t,e,n,r){let i=r!==void 0?t[xs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[xs]+=65536),(a<s||s==-1)&&(S1(t,n,e,c),t[xs]=(t[xs]&4294901760)+c+2),c++}function DC(t,e){Mn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Mn(5,t,e)}}function S1(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[L]>>14<t[xs]>>16&&(t[L]&3)===e&&(t[L]+=16384,DC(a,s)):DC(a,s)}var Os=-1,bi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function A1(t){return t instanceof bi}function M1(t){return(t.flags&8)!==0}function R1(t){return(t.flags&16)!==0}function Z0(t){return t!==Os}function fu(t){return t&32767}function x1(t){return t>>16}function pu(t,e){let n=x1(t),r=e;for(;n>0;)r=r[Da],n--;return r}var kp=!0;function SC(t){let e=kp;return kp=t,e}var N1=256,J0=N1-1,X0=5,P1=0,Rn={};function k1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ha)&&(r=n[ha]),r==null&&(r=n[ha]=P1++);let i=r&J0,s=1<<i;e.data[t+(i>>X0)]|=s}function gu(t,e){let n=eb(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,fp(r.data,t),fp(e,null),fp(r.blueprint,null));let i=Dg(t,e),s=t.injectorIndex;if(Z0(i)){let o=fu(i),a=pu(i,e),c=a[J].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function fp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sb(i),r===null)return Os;if(n++,i=i[Da],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Os}function Op(t,e,n){k1(t,e,n)}function O1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(d0(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function tb(t,e,n){if(n&ee.Optional||t!==void 0)return t;gg(e,"NodeInjector")}function nb(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),!(n&(ee.Self|ee.Host))){let i=t[Bs],s=sn(void 0);try{return i?i.get(e,r,n&ee.Optional):i0(e,r,n&ee.Optional)}finally{sn(s)}}return tb(r,e,n)}function rb(t,e,n,r=ee.Default,i){if(t!==null){if(e[L]&2048&&!(r&ee.Self)){let o=U1(t,e,n,r,Rn);if(o!==Rn)return o}let s=ib(t,e,n,r,Rn);if(s!==Rn)return s}return nb(e,n,r,i)}function ib(t,e,n,r,i){let s=L1(n);if(typeof s=="function"){if(!B0(e,t,r))return r&ee.Host?tb(i,n,r):nb(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ee.Optional))gg(n);else return o}finally{H0()}}else if(typeof s=="number"){let o=null,a=eb(t,e),c=Os,l=r&ee.Host?e[Nn][In]:null;for((a===-1||r&ee.SkipSelf)&&(c=a===-1?Dg(t,e):e[a+8],c===Os||!MC(r,!1)?a=-1:(o=e[J],a=fu(c),e=pu(c,e)));a!==-1;){let u=e[J];if(AC(s,a,u.data)){let d=F1(a,e,n,o,r,l);if(d!==Rn)return d}c=e[a+8],c!==Os&&MC(r,e[J].data[a+8]===l)&&AC(s,a,e)?(o=u,a=fu(c),e=pu(c,e)):a=-1}}return i}function F1(t,e,n,r,i,s){let o=e[J],a=o.data[t+8],c=r==null?xu(a)&&kp:r!=o&&(a.type&3)!==0,l=i&ee.Host&&s===a,u=iu(a,o,n,c,l);return u!==null?Ti(e,o,u,a):Rn}function iu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:l;for(let p=d;p<h;p++){let y=o[p];if(p<c&&n===y||p>=c&&y.type===n)return p}if(i){let p=o[c];if(p&&Lr(p)&&p.type===n)return c}return null}function Ti(t,e,n,r){let i=t[n],s=e.data;if(A1(i)){let o=i;o.resolving&&lO(cO(s[n]));let a=SC(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?sn(o.injectImpl):null,u=B0(t,r,ee.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&D1(n,s[n],e)}finally{l!==null&&sn(l),SC(a),o.resolving=!1,H0()}}return i}function L1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ha)?t[ha]:void 0;return typeof e=="number"?e>=0?e&J0:V1:e}function AC(t,e,n){let r=1<<t;return!!(n[e+(t>>X0)]&r)}function MC(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var vi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rb(this._tNode,this._lView,e,Su(r),n)}};function V1(){return new vi(Ut(),Re())}function Ma(t){return ba(()=>{let e=t.prototype.constructor,n=e[au]||Fp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[au]||Fp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Fp(t){return JC(t)?()=>{let e=Fp(Tt(t));return e&&e()}:Fs(t)}function U1(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[L]&2048&&!(o[L]&512);){let a=ib(s,o,n,r|ee.Self,Rn);if(a!==Rn)return a;let c=s.parent;if(!c){let l=o[b0];if(l){let u=l.get(n,Rn,r);if(u!==Rn)return u}c=sb(o),o=o[Da]}s=c}return i}function sb(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[In]:null}function Sg(t){return O1(Ut(),t)}function RC(t,e=null,n=null,r){let i=ob(t,e,n,r);return i.resolveInjectorInitializers(),i}function ob(t,e=null,n=null,r,i=new Set){let s=[n||on,ar(t)];return r=r||(typeof t=="object"?void 0:Vt(t)),new ga(s,e||vg(),r||null,i)}var Ce=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return RC({name:""},i,r,"");{let s=r.name??"";return RC({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=fa,e.NULL=new uu,e.\u0275prov=k({token:e,providedIn:"any",factory:()=>N(c0)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var B1="ngOriginalError";function pp(t){return t[B1]}var kn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&pp(e);for(;n&&pp(n);)n=pp(n);return n||null}},ab=new x("",{providedIn:"root",factory:()=>C(kn).handleError.bind(void 0)}),Ag=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=j1,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Lp=class extends Ag{constructor(e){super(),this._lView=e}onDestroy(e){return k0(this._lView,e),()=>l1(this._lView,e)}};function j1(){return new Lp(Re())}function $1(){return Gs(Ut(),Re())}function Gs(t,e){return new At(an(t,e))}var At=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=$1;let t=e;return t})();function z1(t){return t instanceof At?t.nativeElement:t}var Vp=class extends Ye{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,C0()&&(this.destroyRef=C(Ag,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=gp(s),i&&(i=gp(i)),o&&(o=gp(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ue&&e.add(a),a}};function gp(t){return e=>{setTimeout(t,void 0,e)}}var Ze=Vp;function H1(){return this._results[Symbol.iterator]()}var Up=class t{get changes(){return this._changes??=new Ze}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=H1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=wO(e);(this._changesDetected=!vO(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function cb(t){return(t.flags&128)===128}var Bp;function lb(t){Bp=t}function q1(){if(Bp!==void 0)return Bp;if(typeof document<"u")return document;throw new F(210,!1)}var Mg=new x("",{providedIn:"root",factory:()=>G1}),G1="ng",Rg=new x(""),Fn=new x("",{providedIn:"platform",factory:()=>"unknown"});var xg=new x("",{providedIn:"root",factory:()=>q1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var W1="h",K1="b";var Q1=()=>null;function Ng(t,e,n=!1){return Q1(t,e,n)}var ub=!1,Y1=new x("",{providedIn:"root",factory:()=>ub});var Jl;function Z1(){if(Jl===void 0&&(Jl=null,yi.trustedTypes))try{Jl=yi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jl}function xC(t){return Z1()?.createScriptURL(t)||t}var mu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YC})`}};function Ra(t){return t instanceof mu?t.changingThisBreaksApplicationSecurity:t}function Pg(t,e){let n=J1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${YC})`)}return n===e}function J1(t){return t instanceof mu&&t.getTypeName()||null}var X1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function db(t){return t=String(t),t.match(X1)?t:"unsafe:"+t}var Pu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Pu||{});function eF(t){let e=fb();return e?e.sanitize(Pu.URL,t)||"":Pg(t,"URL")?Ra(t):db(pg(t))}function tF(t){let e=fb();if(e)return xC(e.sanitize(Pu.RESOURCE_URL,t)||"");if(Pg(t,"ResourceURL"))return xC(Ra(t));throw new F(904,!1)}function nF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?tF:eF}function hb(t,e,n){return nF(e,n)(t)}function fb(){let t=Re();return t&&t[wn].sanitizer}var pb=new Map,rF=0;function iF(){return rF++}function sF(t){pb.set(t[Ru],t)}function oF(t){pb.delete(t[Ru])}var NC="__ngContext__";function $s(t,e){_i(e)?(t[NC]=e[Ru],sF(e)):t[NC]=e}function gb(t){return t instanceof Function?t():t}function aF(t){return(t??C(Ce)).get(Fn)==="browser"}var sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sr||{}),cF;function kg(t,e){return cF(t,e)}function Ns(t,e,n,r,i){if(r!=null){let s,o=!1;ur(r)?s=r:_i(r)&&(o=!0,r=r[lr]);let a=Pn(r);t===0&&n!==null?i==null?wb(e,n,a):yu(e,n,a,i||null,!0):t===1&&n!==null?yu(e,n,a,i||null,!0):t===2?bF(e,a,o):t===3&&e.destroyNode(a),s!=null&&DF(e,t,s,n,i)}}function lF(t,e){return t.createText(e)}function mb(t,e,n){return t.createElement(e,n)}function uF(t,e){yb(t,e),e[lr]=null,e[In]=null}function dF(t,e,n,r,i,s){r[lr]=i,r[In]=e,ku(t,r,n,1,i,s)}function yb(t,e){e[wn].changeDetectionScheduler?.notify(1),ku(t,e,e[Dt],2,null,null)}function hF(t){let e=t[ya];if(!e)return mp(t[J],t);for(;e;){let n=null;if(_i(e))n=e[ya];else{let r=e[Wt];r&&(n=r)}if(!n){for(;e&&!e[vn]&&e!==t;)_i(e)&&mp(e[J],e),e=e[at];e===null&&(e=t),_i(e)&&mp(e[J],e),n=e&&e[vn]}e=n}}function fF(t,e,n,r){let i=Wt+r,s=n.length;r>0&&(n[i-1][vn]=e),r<s-Wt?(e[vn]=n[i],a0(n,Wt+r,e)):(n.push(e),e[vn]=null),e[at]=n;let o=e[Sa];o!==null&&n!==o&&pF(o,e);let a=e[ir];a!==null&&a.insertView(t),Np(e),e[L]|=128}function pF(t,e){let n=t[js],i=e[at][at][Nn];e[Nn]!==i&&(t[L]|=wg.HasTransplantedViews),n===null?t[js]=[e]:n.push(e)}function _b(t,e){let n=t[js],r=n.indexOf(e);n.splice(r,1)}function jp(t,e){if(t.length<=Wt)return;let n=Wt+e,r=t[n];if(r){let i=r[Sa];i!==null&&i!==t&&_b(i,r),e>0&&(t[n-1][vn]=r[vn]);let s=lu(t,Wt+e);uF(r[J],r);let o=s[ir];o!==null&&o.detachView(s[J]),r[at]=null,r[vn]=null,r[L]&=-129}return r}function vb(t,e){if(!(e[L]&256)){let n=e[Dt];n.destroyNode&&ku(t,e,n,3,null,null),hF(e)}}function mp(t,e){if(e[L]&256)return;let n=pe(null);try{e[L]&=-129,e[L]|=256,e[wi]&&jE(e[wi]),mF(t,e),gF(t,e),e[J].type===1&&e[Dt].destroy();let r=e[Sa];if(r!==null&&ur(e[at])){r!==e[at]&&_b(r,e);let i=e[ir];i!==null&&i.detachView(t)}oF(e)}finally{pe(n)}}function gF(t,e){let n=t.cleanup,r=e[ma];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ma]=null);let i=e[Or];if(i!==null){e[Or]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function mF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof bi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Mn(4,a,c);try{c.call(a)}finally{Mn(5,a,c)}}else{Mn(4,i,s);try{s.call(i)}finally{Mn(5,i,s)}}}}}function yF(t,e,n){return _F(t,e.parent,n)}function _F(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[lr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===xn.None||s===xn.Emulated)return null}return an(r,n)}}function yu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function wb(t,e,n){t.appendChild(e,n)}function PC(t,e,n,r,i){r!==null?yu(t,e,n,r,i):wb(t,e,n)}function vF(t,e,n,r){t.removeChild(e,n,r)}function Og(t,e){return t.parentNode(e)}function wF(t,e){return t.nextSibling(e)}function IF(t,e,n){return CF(t,e,n)}function EF(t,e,n){return t.type&40?an(t,n):null}var CF=EF,kC;function Ib(t,e,n,r){let i=yF(t,r,e),s=e[Dt],o=r.parent||e[In],a=IF(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)PC(s,i,n[c],a,!1);else PC(s,i,n,a,!1);kC!==void 0&&kC(s,r,e,n,i)}function su(t,e){if(e!==null){let n=e.type;if(n&3)return an(e,t);if(n&4)return $p(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return su(t,r);{let i=t[e.index];return ur(i)?$p(-1,i):Pn(i)}}else{if(n&32)return kg(e,t)()||Pn(t[e.index]);{let r=Eb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=va(t[Nn]);return su(i,r)}else return su(t,e.next)}}}return null}function Eb(t,e){if(e!==null){let r=t[Nn][In],i=e.projection;return r.projection[i]}return null}function $p(t,e){let n=Wt+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return su(r,i)}return e[Ei]}function bF(t,e,n){let r=Og(t,e);r&&vF(t,r,e,n)}function Fg(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&$s(Pn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Fg(t,e,n.child,r,i,s,!1),Ns(e,t,i,a,s);else if(c&32){let l=kg(n,r),u;for(;u=l();)Ns(e,t,i,u,s);Ns(e,t,i,a,s)}else c&16?TF(t,e,r,n,i,s):Ns(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ku(t,e,n,r,i,s){Fg(n,r,t.firstChild,e,i,s,!1)}function TF(t,e,n,r,i,s){let o=n[Nn],c=o[In].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ns(e,t,i,u,s)}else{let l=c,u=o[at];cb(r)&&(l.flags|=128),Fg(t,e,l,u,i,s,!0)}}function DF(t,e,n,r,i){let s=n[Ei],o=Pn(n);s!==o&&Ns(e,t,r,s,i);for(let a=Wt;a<n.length;a++){let c=n[a];ku(c[J],c,t,e,r,s)}}function SF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:sr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=sr.Important),t.setStyle(n,r,i,s))}}function AF(t,e,n){t.setAttribute(e,"style",n)}function Cb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bb(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Sp(t,e,r),i!==null&&Cb(t,e,i),s!==null&&AF(t,e,s)}var Ou={};function Tb(t=1){Db(Qt(),Re(),Aa()+t,!1)}function Db(t,e,n,r){if(!r)if((e[L]&3)===3){let s=t.preOrderCheckHooks;s!==null&&nu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ru(e,s,0,n)}Ci(n)}function se(t,e=ee.Default){let n=Re();if(n===null)return N(t,e);let r=Ut();return rb(r,n,Tt(t),e)}function Sb(){let t="invalid";throw new Error(t)}function Ab(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&ft.SignalBased&&(a=e[r][LE]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ft.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):A0(e,a,r,s)}finally{pe(o)}}function MF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ci(~i);else{let s=i,o=n[++r],a=n[++r];I1(o,s);let c=e[s];a(2,c)}}}finally{Ci(-1)}}function Fu(t,e,n,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[lr]=i,d[L]=r|4|128|8|64,(l!==null||t&&t[L]&2048)&&(d[L]|=2048),P0(d),d[at]=d[Da]=t,d[rr]=n,d[wn]=o||t&&t[wn],d[Dt]=a||t&&t[Dt],d[Bs]=c||t&&t[Bs]||null,d[In]=s,d[Ru]=iF(),d[du]=u,d[b0]=l,d[Nn]=e.type==2?t[Nn]:d,d}function Lg(t,e,n,r,i){let s=t.data[e];if(s===null)s=RF(t,e,n,r,i),w1()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=m1();s.injectorIndex=o===null?-1:o.injectorIndex}return Nu(s,!0),s}function RF(t,e,n,r,i){let s=F0(),o=L0(),a=o?s:s&&s.parent,c=t.data[e]=VF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Mb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Rb(t,e,n,r,i){let s=Aa(),o=r&2;try{Ci(-1),o&&e.length>Ii&&Db(t,e,Ii,!1),Mn(o?2:0,i),n(r,i)}finally{Ci(s),Mn(o?3:1,i)}}function xb(t,e,n){if(D0(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{pe(r)}}}function xF(t,e,n){O0()&&(GF(t,e,n,an(n,e)),(n.flags&64)===64&&Ob(t,e,n))}function NF(t,e,n=an){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Nb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Pb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Pb(t,e,n,r,i,s,o,a,c,l,u){let d=Ii+r,h=d+i,p=PF(d,h),y=typeof l=="function"?l():l;return p[J]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function PF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ou);return n}function kF(t,e,n,r){let s=r.get(Y1,ub)||n===xn.ShadowDom,o=t.selectRootElement(e,s);return OF(o),o}function OF(t){FF(t)}var FF=()=>null;function LF(t,e,n,r){let i=Lb(e);i.push(n),t.firstCreatePass&&Vb(t).push(r,i.length-1)}function VF(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return f1()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function OC(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ft.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?FC(r,n,l,a,c):FC(r,n,l,a)}return r}function FC(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function UF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,p=h?h.inputs:null,y=h?h.outputs:null;c=OC(0,d.inputs,u,c,p),l=OC(1,d.outputs,u,l,y);let v=c!==null&&o!==null&&!yg(e)?rL(c,u,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function BF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jF(t,e,n,r,i,s,o,a){let c=an(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Ug(t,n,u,r,i),xu(e)&&$F(n,e.index)):e.type&3?(r=BF(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function $F(t,e){let n=Ur(e,t);n[L]&16||(n[L]|=64)}function zF(t,e,n,r){if(O0()){let i=r===null?null:{"":-1},s=KF(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&kb(t,e,n,o,i,a),i&&QF(n,r,i)}n.mergedAttrs=pa(n.mergedAttrs,n.attrs)}function kb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Op(gu(n,e),t,r[l].type);ZF(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Mb(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=pa(n.mergedAttrs,u.hostAttrs),JF(t,n,e,c,u),YF(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}UF(t,n,s)}function HF(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;qF(o)!=a&&o.push(a),o.push(n,r,s)}}function qF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function GF(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;xu(n)&&XF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||gu(n,e),$s(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=Ti(e,t,a,n);if($s(l,e),o!==null&&nL(e,a-i,l,c,n,o),Lr(c)){let u=Ur(n.index,e);u[rr]=Ti(e,t,a,n)}}}function Ob(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=E1();try{Ci(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Pp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&WF(c,l)}}finally{Ci(-1),Pp(o)}}function WF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function KF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(RO(e,o.selectors,!1))if(r||(r=[]),Lr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;zp(t,e,c)}else r.unshift(o),zp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function zp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function QF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new F(-301,!1);r.push(e[i],s)}}}function YF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lr(e)&&(n[""]=t)}}function ZF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function JF(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Fs(i.type,!0)),o=new bi(s,Lr(i),se);t.blueprint[r]=o,n[r]=o,HF(t,e,r,Mb(t,n,i.hostVars,Ou),i)}function XF(t,e,n){let r=an(e,t),i=Nb(n),s=t[wn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Vg(t,Fu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function eL(t,e,n,r,i,s){let o=an(t,e);tL(e[Dt],o,s,t.value,n,r,i)}function tL(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?pg(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function nL(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];Ab(r,n,c,l,u,d)}}function rL(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function iL(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Fb(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Cg(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Vg(t,e){return t[ya]?t[CC][vn]=e:t[ya]=e,t[CC]=e,e}function Hp(t,e,n){Cg(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function Lb(t){return t[ma]||(t[ma]=[])}function Vb(t){return t.cleanup||(t.cleanup=[])}function Ub(t,e){let n=t[Bs],r=n?n.get(kn,null):null;r&&r.handleError(e)}function Ug(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];Ab(u,l,r,a,c,i)}}function sL(t,e){let n=Ur(e,t),r=n[J];oL(r,n);let i=n[lr];i!==null&&n[du]===null&&(n[du]=Ng(i,n[Bs])),Bg(r,n,n[rr])}function oL(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bg(t,e,n){bg(e);try{let r=t.viewQuery;r!==null&&Hp(1,r,n);let i=t.template;i!==null&&Rb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ir]?.finishViewCreation(t),t.staticContentQueries&&Fb(t,e),t.staticViewQueries&&Hp(2,t.viewQuery,n);let s=t.components;s!==null&&aL(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[L]&=-5,Tg()}}function aL(t,e){for(let n=0;n<e.length;n++)sL(t,e[n])}function cL(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[L]&4096?4096:16,c=Fu(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[Sa]=l;let u=t[ir];return u!==null&&(c[ir]=u.createEmbeddedView(s)),Bg(s,c,n),c}finally{pe(i)}}function LC(t,e){return!e||e.firstChild===null||cb(t)}function lL(t,e,n,r=!0){let i=e[J];if(fF(i,e,t,n),r){let o=$p(n,t),a=e[Dt],c=Og(a,t[Ei]);c!==null&&dF(i,t[In],a,e,c,o)}let s=e[du];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function _u(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Pn(s)),ur(s)&&uL(s,r);let o=n.type;if(o&8)_u(t,e,n.child,r);else if(o&32){let a=kg(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Eb(e,n);if(Array.isArray(a))r.push(...a);else{let c=va(e[Nn]);_u(c[J],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uL(t,e){for(let n=Wt;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&_u(r[J],r,i,e)}t[Ei]!==t[lr]&&e.push(t[Ei])}var Bb=[];function dL(t){return t[wi]??hL(t)}function hL(t){let e=Bb.pop()??Object.create(pL);return e.lView=t,e}function fL(t){t.lView[wi]!==t&&(t.lView=null,Bb.push(t))}var pL=de(S({},VE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_a(t.lView)},consumerOnSignalRead(){this.lView[wi]=this}});function jb(t){return zb(t[ya])}function $b(t){return zb(t[vn])}function zb(t){for(;t!==null&&!ur(t);)t=t[vn];return t}var Hb=100;function qb(t,e=!0,n=0){let r=t[wn],i=r.rendererFactory,s=!1;s||i.begin?.();try{gL(t,n)}catch(o){throw e&&Ub(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function gL(t,e){qp(t,e);let n=0;for(;Eg(t);){if(n===Hb)throw new F(103,!1);n++,qp(t,1)}}function mL(t,e,n,r){let i=e[L];if((i&256)===256)return;let s=!1;!s&&e[wn].inlineEffectRunner?.flush(),bg(e);let o=null,a=null;!s&&yL(t)&&(a=dL(e),o=UE(a));try{P0(e),_1(t.bindingStartIndex),n!==null&&Rb(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&nu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ru(e,d,0,null),hp(e,0)}if(_L(e),Gb(e,0),t.contentQueries!==null&&Fb(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&nu(e,d)}else{let d=t.contentHooks;d!==null&&ru(e,d,1),hp(e,1)}MF(t,e);let l=t.components;l!==null&&Kb(e,l,0);let u=t.viewQuery;if(u!==null&&Hp(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&nu(e,d)}else{let d=t.viewHooks;d!==null&&ru(e,d,2),hp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[dp]){for(let d of e[dp])d();e[dp]=null}s||(e[L]&=-73)}catch(c){throw _a(e),c}finally{a!==null&&(BE(a,o),fL(a)),Tg()}}function yL(t){return t.type!==2}function Gb(t,e){for(let n=jb(t);n!==null;n=$b(n))for(let r=Wt;r<n.length;r++){let i=n[r];Wb(i,e)}}function _L(t){for(let e=jb(t);e!==null;e=$b(e)){if(!(e[L]&wg.HasTransplantedViews))continue;let n=e[js];for(let r=0;r<n.length;r++){let i=n[r],s=i[at];c1(i)}}}function vL(t,e,n){let r=Ur(e,t);Wb(r,n)}function Wb(t,e){Ig(t)&&qp(t,e)}function qp(t,e){let r=t[J],i=t[L],s=t[wi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Uf(s)),s&&(s.dirty=!1),t[L]&=-9217,o)mL(r,t,r.template,t[rr]);else if(i&8192){Gb(t,1);let a=r.components;a!==null&&Kb(t,a,1)}}function Kb(t,e,n){for(let r=0;r<e.length;r++)vL(t,e[r],n)}function jg(t){for(t[wn].changeDetectionScheduler?.notify();t;){t[L]|=64;let e=va(t);if(ZO(t)&&!e)return t;t=e}return null}var Di=class{get rootNodes(){let e=this._lView,n=e[J];return _u(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rr]}set context(e){this._lView[rr]=e}get destroyed(){return(this._lView[L]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(ur(e)){let n=e[hu],r=n?n.indexOf(this):-1;r>-1&&(jp(e,r),lu(n,r))}this._attachedToViewContainer=!1}vb(this._lView[J],this._lView)}onDestroy(e){k0(this._lView,e)}markForCheck(){jg(this._cdRefInjectingView||this._lView)}detach(){this._lView[L]&=-129}reattach(){Np(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,qb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,yb(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e,Np(this._lView)}},wa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EL;let t=e;return t})(),wL=wa,IL=class extends wL{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=cL(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Di(i)}};function EL(){return $g(Ut(),Re())}function $g(t,e){return t.type&4?new IL(e,t,Gs(t,e)):null}var TJ=new RegExp(`^(\\d+)*(${K1}|${W1})*(.*)`);var CL=()=>null;function VC(t,e){return CL(t,e)}var vu=class{},Gp=class{},wu=class{};function bL(t){let e=Error(`No component factory found for ${Vt(t)}.`);return e[TL]=t,e}var TL="ngComponent";var Wp=class{resolveComponentFactory(e){throw bL(e)}},Ws=(()=>{let e=class e{};e.NULL=new Wp;let t=e;return t})(),Ia=class{},Br=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>DL();let t=e;return t})();function DL(){let t=Re(),e=Ut(),n=Ur(e.index,t);return(_i(n)?n:t)[Dt]}var SL=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),yp={};var UC=new Set;function zg(t){UC.has(t)||(UC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function BC(...t){}function AL(){let t=typeof yi.requestAnimationFrame=="function",e=yi[t?"requestAnimationFrame":"setTimeout"],n=yi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=AL().nativeRequestAnimationFrame,xL(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ML,BC,BC);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ML={};function Hg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RL(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(yi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kp(t),t.isCheckStableRunning=!0,Hg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kp(t))}function xL(t){let e=()=>{RL(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(NL(a))return n.invokeTask(i,s,o,a);try{return jC(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),$C(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return jC(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),$C(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Kp(t),Hg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Kp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function jC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $C(t){t._nesting--,Hg(t)}function NL(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ps=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ps||{}),PL={destroy(){}};function qg(t,e){!e&&QO(qg);let n=e?.injector??C(Ce);if(!aF(n))return PL;zg("NgAfterNextRender");let r=n.get(Gg),i=r.handler??=new Yp,s=e?.phase??Ps.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Ag).onDestroy(o),c=cr(n,()=>new Qp(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Qp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=C(z),this.errorHandler=C(kn,{optional:!0}),C(vu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Yp=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ps.EarlyRead]:new Set,[Ps.Write]:new Set,[Ps.MixedReadWrite]:new Set,[Ps.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Gg=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Zp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=fC(i,a);else if(s==2){let c=a,l=e[++o];r=fC(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Iu=class extends Ws{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fr(e);return new zs(n,this.ngModule)}};function zC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function kL(t){let e=t.toLowerCase();return e==="svg"?t1:e==="math"?n1:null}var Jp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Su(r);let i=this.injector.get(e,yp,r);return i!==yp||n===yp?i:this.parentInjector.get(e,n,r)}},zs=class extends wu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=zC(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return zC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=kO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof Kt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Jp(e,o):e,c=a.get(Ia,null);if(c===null)throw new F(407,!1);let l=a.get(SL,null),u=a.get(Gg,null),d=a.get(vu,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",v=r?kF(p,r,this.componentDef.encapsulation,a):mb(p,y,kL(y)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let T=null;v!==null&&(T=Ng(v,a,!0));let V=Pb(0,null,null,1,0,null,null,null,null,null,null),G=Fu(null,V,null,w,null,null,h,p,a,null,T);bg(G);let M,ie;try{let W=this.componentDef,fe,Me=null;W.findHostDirectiveDefs?(fe=[],Me=new Map,W.findHostDirectiveDefs(W,fe,Me),fe.push(W)):fe=[W];let Qe=OL(G,v),mn=FL(Qe,v,W,fe,G,h,p);ie=N0(V,Ii),v&&UL(p,W,v,r),n!==void 0&&BL(ie,this.ngContentSelectors,n),M=VL(mn,W,fe,Me,G,[jL]),Bg(V,G,null)}finally{Tg()}return new Xp(this.componentType,M,Gs(ie,G),G,ie)}finally{pe(s)}}},Xp=class extends Gp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Di(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ug(s[J],s,i,e,n),this.previousInputValues.set(e,n);let o=Ur(this._tNode.index,s);jg(o)}}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function OL(t,e){let n=t[J],r=Ii;return t[r]=e,Lg(n,r,2,"#host",null)}function FL(t,e,n,r,i,s,o){let a=i[J];LL(r,t,e,o);let c=null;e!==null&&(c=Ng(e,i[Bs]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Fu(i,Nb(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&zp(a,t,r.length-1),Vg(i,d),i[t.index]=d}function LL(t,e,n,r){for(let i of t)e.mergedAttrs=pa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zp(e,e.mergedAttrs,!0),n!==null&&bb(r,n,e))}function VL(t,e,n,r,i,s){let o=Ut(),a=i[J],c=an(o,i);kb(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Ti(i,a,d,o);$s(h,i)}Ob(a,i,o),c&&$s(c,i);let l=Ti(i,a,o.directiveStart+o.componentOffset,o);if(t[rr]=i[rr]=l,s!==null)for(let u of s)u(l,e);return xb(a,o,i),l}function UL(t,e,n,r){if(r)Sp(t,n,["ng-version","17.3.0"]);else{let{attrs:i,classes:s}=OO(e.selectors[0]);i&&Sp(t,n,i),s&&s.length>0&&Cb(t,n,s.join(" "))}}function BL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function jL(){let t=Ut();Q0(Re()[J],t)}var Ks=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$L;let t=e;return t})();function $L(){let t=Ut();return Yb(t,Re())}var zL=Ks,Qb=class extends zL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Gs(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dg(this._hostTNode,this._hostLView);if(Z0(e)){let n=pu(e,this._hostLView),r=fu(e),i=n[J].data[r+8];return new vi(i,n)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=HC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=VC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,LC(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!YO(e),a;if(o)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new zs(Fr(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?l:this.parentInjector).get(Kt,null);v&&(s=v)}let u=Fr(c.componentType??{}),d=VC(this._lContainer,u?.id??null),h=d?.firstChild??null,p=c.create(l,i,h,s);return this.insertImpl(p.hostView,a,LC(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(a1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[at],l=new Qb(c,c[In],c[at]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return lL(o,i,s,r),e.attachToViewContainerRef(),a0(_p(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=HC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=jp(this._lContainer,n);r&&(lu(_p(this._lContainer),n),vb(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=jp(this._lContainer,n);return r&&lu(_p(this._lContainer),n)!=null?new Di(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function HC(t){return t[hu]}function _p(t){return t[hu]||(t[hu]=[])}function Yb(t,e){let n,r=e[t.index];return ur(r)?n=r:(n=iL(r,e,null,t),e[t.index]=n,Vg(e,n)),qL(n,e,t,r),new Qb(n,t,e)}function HL(t,e){let n=t[Dt],r=n.createComment(""),i=an(e,t),s=Og(n,i);return yu(n,s,r,wF(n,i),!1),r}var qL=GL;function GL(t,e,n,r){if(t[Ei])return;let i;n.type&8?i=Pn(r):i=HL(e,n),t[Ei]=i}var eg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},tg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Wg(e,n).matches!==null&&this.queries[n].setDirty()}},Eu=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=eV(e):this.predicate=e}},ng=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},rg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,WL(n,s)),this.matchTNodeWithReadOption(e,n,iu(n,e,s,!1,!1))}else r===wa?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,iu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===At||i===Ks||i===wa&&n.type&4)this.addMatch(n.index,-2);else{let s=iu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function WL(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function KL(t,e){return t.type&11?Gs(t,e):t.type&4?$g(t,e):null}function QL(t,e,n,r){return n===-1?KL(e,t):n===-2?YL(t,e,r):Ti(t,t[J],n,e)}function YL(t,e,n){if(n===At)return Gs(e,t);if(n===wa)return $g(e,t);if(n===Ks)return Yb(e,t)}function Zb(t,e,n,r){let i=e[ir].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(QL(e,u,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function ig(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=Zb(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=Wt;d<u.length;d++){let h=u[d];h[Sa]===h[at]&&ig(h[J],h,l,r)}if(u[js]!==null){let d=u[js];for(let h=0;h<d.length;h++){let p=d[h];ig(p[J],p,l,r)}}}}}return r}function ZL(t,e){return t[ir].queries[e].queryList}function Jb(t,e,n){let r=new Up((n&4)===4);return LF(t,e,r,r.destroy),(e[ir]??=new tg).queries.push(new eg(r))-1}function JL(t,e,n){let r=Qt();return r.firstCreatePass&&(Xb(r,new Eu(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Jb(r,Re(),e)}function XL(t,e,n,r){let i=Qt();if(i.firstCreatePass){let s=Ut();Xb(i,new Eu(e,n,r),s.index),tV(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Jb(i,Re(),n)}function eV(t){return t.split(",").map(e=>e.trim())}function Xb(t,e,n){t.queries===null&&(t.queries=new ng),t.queries.track(new rg(e,n))}function tV(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Wg(t,e){return t.queries.getByIndex(e)}function nV(t,e){let n=t[J],r=Wg(n,e);return r.crossesNgTemplate?ig(n,t,e,[]):Zb(n,t,r,e)}function rV(t){return Object.getPrototypeOf(t.prototype).constructor}function jr(t){let e=rV(t.type),n=!0,r=[t];for(;e;){let i;if(Lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Xl(t.inputs),o.inputTransforms=Xl(t.inputTransforms),o.declaredInputs=Xl(t.declaredInputs),o.outputs=Xl(t.outputs);let a=i.hostBindings;a&&cV(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&oV(t,c),l&&aV(t,l),iV(t,i),eO(t.outputs,i.outputs),Lr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===jr&&(n=!1)}}e=Object.getPrototypeOf(e)}sV(r)}function iV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function sV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pa(i.hostAttrs,n=pa(n,i.hostAttrs))}}function Xl(t){return t===Ls?{}:t===on?[]:t}function oV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function aV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function cV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Kg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Vr=class{},Ea=class{};var sg=class extends Vr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Iu(this);let i=m0(e);this._bootstrapComponents=gb(i.bootstrap),this._r3Injector=ob(e,n,[{provide:Vr,useValue:this},{provide:Ws,useValue:this.componentFactoryResolver},...r],Vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},og=class extends Ea{constructor(e){super(),this.moduleType=e}create(e){return new sg(this.moduleType,e,[])}};var Cu=class extends Vr{constructor(e){super(),this.componentFactoryResolver=new Iu(this),this.instance=null;let n=new ga([...e.providers,{provide:Vr,useValue:this},{provide:Ws,useValue:this.componentFactoryResolver}],e.parent||vg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lu(t,e,n=null){return new Cu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Vu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qg(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function lV(t){return(t.flags&32)===32}function Uu(t,e,n,r){let i=Re(),s=V0();if(Qg(i,s,e)){let o=Qt(),a=q0();eL(a,i,t,e,n,r)}return Uu}function eu(t,e){return t<<17|e<<2}function Si(t){return t>>17&32767}function uV(t){return(t&2)==2}function dV(t,e){return t&131071|e<<17}function ag(t){return t|2}function Hs(t){return(t&131068)>>2}function vp(t,e){return t&-131069|e<<2}function hV(t){return(t&1)===1}function cg(t){return t|1}function fV(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Si(o),c=Hs(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ta(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Si(t[a+1]);t[r+1]=eu(h,a),h!==0&&(t[h+1]=vp(t[h+1],r)),t[a+1]=dV(t[a+1],r)}else t[r+1]=eu(a,0),a!==0&&(t[a+1]=vp(t[a+1],r)),a=r;else t[r+1]=eu(c,0),a===0?a=r:t[c+1]=vp(t[c+1],r),c=r;l&&(t[r+1]=ag(t[r+1])),qC(t,u,r,!0),qC(t,u,r,!1),pV(e,u,t,r,s),o=eu(a,c),s?e.classBindings=o:e.styleBindings=o}function pV(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ta(s,e)>=0&&(n[r+1]=cg(n[r+1]))}function qC(t,e,n,r){let i=t[n+1],s=e===null,o=r?Si(i):Hs(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];gV(c,e)&&(a=!0,t[o+1]=r?cg(l):ag(l)),o=r?Si(l):Hs(l)}a&&(t[n+1]=r?ag(i):cg(i))}function gV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ta(t,e)>=0:!1}function Yg(t,e,n){let r=Re(),i=V0();if(Qg(r,i,e)){let s=Qt(),o=q0();jF(s,o,r,t,e,r[Dt],n,!1)}return Yg}function GC(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ug(t,n,s[o],o,r)}function Bu(t,e){return mV(t,e,null,!0),Bu}function mV(t,e,n,r){let i=Re(),s=Qt(),o=v1(2);if(s.firstUpdatePass&&_V(s,t,o,r),e!==Ou&&Qg(i,o,e)){let a=s.data[Aa()];CV(s,a,i,i[Dt],t,i[o+1]=bV(e,n),r,o)}}function yV(t,e){return e>=t.expandoStartIndex}function _V(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Aa()],o=yV(t,n);TV(s,r)&&e===null&&!o&&(e=!1),e=vV(i,s,e,r),fV(i,s,e,n,o,r)}}function vV(t,e,n,r){let i=C1(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=wp(null,t,e,n,r),n=Ca(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=wp(i,t,e,n,r),s===null){let c=wV(t,e,r);c!==void 0&&Array.isArray(c)&&(c=wp(null,t,e,c[1],r),c=Ca(c,e.attrs,r),IV(t,e,r,c))}else s=EV(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function wV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Hs(r)!==0)return t[Si(r)]}function IV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Si(i)]=r}function EV(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ca(r,o,n)}return Ca(r,e.attrs,n)}function wp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ca(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ca(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),EO(t,o,n?!0:e[++s]))}return t===void 0?null:t}function CV(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=hV(l)?WC(c,e,n,i,Hs(l),o):void 0;if(!bu(u)){bu(s)||uV(l)&&(s=WC(c,null,n,i,a,o));let d=s1(Aa(),n);SF(r,o,d,i,s)}}function WC(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Ou&&(h=d?on:void 0);let p=d?lp(h,r):u===r?h:void 0;if(l&&!bu(p)&&(p=lp(c,r)),bu(p)&&(a=p,o))return a;let y=t[i+1];i=o?Si(y):Hs(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=lp(c,r))}return a}function bu(t){return t!==void 0}function bV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Vt(Ra(t)))),t}function TV(t,e){return(t.flags&(e?8:16))!==0}function DV(t,e,n,r,i,s){let o=e.consts,a=TC(o,i),c=Lg(e,t,2,r,a);return zF(e,n,c,TC(o,s)),c.attrs!==null&&Zp(c,c.attrs,!1),c.mergedAttrs!==null&&Zp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(t,e,n,r){let i=Re(),s=Qt(),o=Ii+t,a=i[Dt],c=s.firstCreatePass?DV(o,s,i,e,n,r):s.data[o],l=SV(s,i,c,a,e,t);i[o]=l;let u=S0(c);return Nu(c,!0),bb(a,l,c),!lV(c)&&W0()&&Ib(s,i,l,c),u1()===0&&$s(l,i),d1(),u&&(xF(s,i,c),xb(s,c,i)),r!==null&&NF(i,c),g}function m(){let t=Ut();L0()?y1():(t=t.parent,Nu(t,!1));let e=t;p1(e)&&g1(),h1();let n=Qt();return n.firstCreatePass&&(Q0(n,t),D0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&M1(e)&&GC(n,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&R1(e)&&GC(n,e,Re(),e.stylesWithoutHost,!1),m}function A(t,e,n,r){return g(t,e,n,r),m(),A}var SV=(t,e,n,r,i,s)=>(K0(!0),mb(r,i,T1()));var Tu="en-US";var AV=Tu;function MV(t){typeof t=="string"&&(AV=t.toLowerCase().replace(/_/g,"-"))}function $r(t,e,n,r){let i=Re(),s=Qt(),o=Ut();return xV(s,i,i[Dt],o,t,e,r),$r}function RV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ma],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function xV(t,e,n,r,i,s,o){let a=S0(r),l=t.firstCreatePass&&Vb(t),u=e[rr],d=Lb(e),h=!0;if(r.type&3||o){let v=an(r,e),w=o?o(v):v,T=d.length,V=o?M=>o(Pn(M[r.index])):r.index,G=null;if(!o&&a&&(G=RV(t,e,i,r.index)),G!==null){let M=G.__ngLastListenerFn__||G;M.__ngNextListenerFn__=s,G.__ngLastListenerFn__=s,h=!1}else{s=QC(r,e,u,s,!1);let M=n.listen(w,i,s);d.push(s,M),l&&l.push(i,V,T,T+1)}}else s=QC(r,e,u,s,!1);let p=r.outputs,y;if(h&&p!==null&&(y=p[i])){let v=y.length;if(v)for(let w=0;w<v;w+=2){let T=y[w],V=y[w+1],ie=e[T][V].subscribe(s),W=d.length;d.push(s,ie),l&&l.push(i,r.index,W,-(W+1))}}}function KC(t,e,n,r){let i=pe(null);try{return Mn(6,e,n),n(r)!==!1}catch(s){return Ub(t,s),!1}finally{Mn(7,e,n),pe(i)}}function QC(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Ur(t.index,e):e;jg(a);let c=KC(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=KC(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Zg(t,e,n,r){XL(t,e,n,r)}function cn(t,e,n){JL(t,e,n)}function Mt(t){let e=Re(),n=Qt(),r=U0();Cg(r+1);let i=Wg(n,r);if(t.dirty&&o1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=nV(e,r);t.reset(s,z1),t.notifyOnChanges()}return!0}return!1}function Rt(){return ZL(Re(),U0())}function _(t,e=""){let n=Re(),r=Qt(),i=t+Ii,s=r.firstCreatePass?Lg(r,i,1,e,null):r.data[i],o=NV(r,n,s,e,t);n[i]=o,W0()&&Ib(r,n,o,s),Nu(s,!1)}var NV=(t,e,n,r,i)=>(K0(!0),lF(e[Dt],r));function PV(t,e,n){let r=Qt();if(r.firstCreatePass){let i=Lr(t);lg(n,r.data,r.blueprint,i,!0),lg(e,r.data,r.blueprint,i,!1)}}function lg(t,e,n,r,i){if(t=Tt(t),Array.isArray(t))for(let s=0;s<t.length;s++)lg(t[s],e,n,r,i);else{let s=Qt(),o=Re(),a=Ut(),c=Us(t)?t:Tt(t.provide),l=E0(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Us(t)||!t.multi){let p=new bi(l,i,se),y=Ep(c,e,i?u:u+h,d);y===-1?(Op(gu(a,o),s,c),Ip(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[y]=p,o[y]=p)}else{let p=Ep(c,e,u+h,d),y=Ep(c,e,u,u+h),v=p>=0&&n[p],w=y>=0&&n[y];if(i&&!w||!i&&!v){Op(gu(a,o),s,c);let T=FV(i?OV:kV,n.length,i,r,l);!i&&w&&(n[y].providerFactory=T),Ip(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else{let T=eT(n[i?y:p],l,!i&&r);Ip(s,t,p>-1?p:y,T)}!i&&r&&w&&n[y].componentProviders++}}}function Ip(t,e,n,r){let i=Us(e),s=$O(e);if(i||s){let c=(s?Tt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function eT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ep(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function kV(t,e,n,r){return ug(this.multi,[])}function OV(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ti(n,n[J],this.providerFactory.index,r);s=a.slice(0,o),ug(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ug(i,s);return s}function ug(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function FV(t,e,n,r,i){let s=new bi(t,n,se);return s.multi=[],s.index=e,s.componentProviders=0,eT(s,i,r&&!n),s}function Qs(t,e=[]){return n=>{n.providersResolver=(r,i)=>PV(r,i?i(t):t,e)}}var LV=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=v0(!1,r.type),s=i.length>0?Lu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(N(Kt))});let t=e;return t})();function re(t){zg("NgStandalone"),t.getStandaloneInjector=e=>e.get(LV).getOrCreateStandaloneInjector(t)}var or=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},tT=new or("17.3.0"),ju=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var nT=new x("");function Ai(t){return!!t&&typeof t.then=="function"}function rT(t){return!!t&&typeof t.subscribe=="function"}var zr=new x(""),iT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=C(zr,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ai(o))r.push(o);else if(rT(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$u=new x("");function VV(){$E(()=>{throw new F(600,!1)})}function UV(t){return t.isBoundToModule}function BV(t,e,n){try{let r=n();return Ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xa=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(ab),this.afterRenderEffectManager=C(Gg),this.externalTestViews=new Set,this.beforeRender=new Ye,this.afterTick=new Ye,this.componentTypes=[],this.components=[],this.isStable=C(Vu).hasPendingTasks.pipe(Z(r=>!r)),this._injector=C(Kt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof wu;if(!this._injector.get(iT).done){let p=!s&&g0(r),y=!1;throw new F(405,y)}let a;s?a=r:a=this._injector.get(Ws).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=UV(a)?void 0:this._injector.get(Vr),l=i||a.selector,u=a.create(Ce.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(nT,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Cp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new F(101,!1);let i=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,pe(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===Hb)throw new F(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)jV(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>dg(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>dg(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Cp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get($u,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Cp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new F(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jV(t,e,n){!e&&!dg(t)||$V(t,n,e)}function dg(t){return Eg(t)}function $V(t,e,n){let r;n?(r=0,t[L]|=1024):t[L]&64?r=0:r=1,qb(t,e,r)}var hg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zu=(()=>{let e=class e{compileModuleSync(r){return new og(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=m0(r),o=gb(s.declarations).reduce((a,c)=>{let l=Fr(c);return l&&a.push(new zs(l)),a},[]);return new hg(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zV=(()=>{let e=class e{constructor(){this.zone=C(z),this.applicationRef=C(xa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HV(t){return[{provide:z,useFactory:t},{provide:Vs,multi:!0,useFactory:()=>{let e=C(zV,{optional:!0});return()=>e.initialize()}},{provide:Vs,multi:!0,useFactory:()=>{let e=C(KV);return()=>{e.initialize()}}},{provide:ab,useFactory:qV}]}function qV(){let t=C(z),e=C(kn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function GV(t){let e=HV(()=>new z(WV(t)));return Au([[],e])}function WV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var KV=(()=>{let e=class e{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=C(z),this.pendingTasks=C(Vu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{z.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{z.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QV(){return typeof $localize<"u"&&$localize.locale||Tu}var Jg=new x("",{providedIn:"root",factory:()=>C(Jg,ee.Optional|ee.SkipSelf)||QV()});var sT=new x("");var ou=null;function YV(t=[],e){return Ce.create({name:e,providers:[{provide:Mu,useValue:"platform"},{provide:sT,useValue:new Set([()=>ou=null])},...t]})}function ZV(t=[]){if(ou)return ou;let e=YV(t);return ou=e,VV(),JV(e),e}function JV(t){t.get(Rg,null)?.forEach(n=>n())}var Mi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=XV;let t=e;return t})();function XV(t){return eU(Ut(),Re(),(t&16)===16)}function eU(t,e,n){if(xu(t)&&!n){let r=Ur(t.index,e);return new Di(r,r)}else if(t.type&47){let r=e[Nn];return new Di(r,e)}return null}function oT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ZV(r),s=[GV(),...n||[]],a=new Cu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(z);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(kn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:p=>{l.handleError(p)}})});let d=()=>a.destroy(),h=i.get(sT);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),BV(l,c,()=>{let p=a.get(iT);return p.runInitializers(),p.donePromise.then(()=>{let y=a.get(Jg,Tu);MV(y||Tu);let v=a.get(xa);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}function Ys(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function aT(t){let e=Fr(t);if(!e)return null;let n=new zs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uT=null;function hr(){return uT}function dT(t){uT??=t}var Hu=class{};var Bt=new x(""),tm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>C(tU),providedIn:"platform"});let t=e;return t})(),hT=new x(""),tU=(()=>{let e=class e extends tm{constructor(){super(),this._doc=C(Bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(r){let i=hr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=hr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function nm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function cT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function dr(t){return t&&t[0]!=="?"?"?"+t:t}var fr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>C(rm),providedIn:"root"});let t=e;return t})(),fT=new x(""),rm=(()=>{let e=class e extends fr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??C(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return nm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+dr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+dr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+dr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(tm),N(fT,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pT=(()=>{let e=class e extends fr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=nm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+dr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+dr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(tm),N(fT,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Zs=(()=>{let e=class e{constructor(r){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=iU(cT(lT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+dr(i))}normalize(r){return e.stripTrailingSlash(rU(this._basePath,lT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=dr,e.joinWithSlash=nm,e.stripTrailingSlash=cT,e.\u0275fac=function(i){return new(i||e)(N(fr))},e.\u0275prov=k({token:e,factory:()=>nU(),providedIn:"root"});let t=e;return t})();function nU(){return new Zs(N(fr))}function rU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function lT(t){return t.replace(/\/index.html$/,"")}function iU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function gT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var im="browser",sU="server";function oU(t){return t===im}function sm(t){return t===sU}var mT=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>oU(C(Fn))?new Xg(C(Bt),window):new em});let t=e;return t})(),Xg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=aU(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function aU(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var em=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qu=class{};var cm=class extends Hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},lm=class t extends cm{static makeCurrent(){dT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=lU();return n==null?null:uU(n)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gT(document.cookie,e)}},Na=null;function lU(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}function uU(t){return new URL(t,document.baseURI).pathname}var dU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),um=new x(""),wT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new F(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(N(um),N(z))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Gu=class{constructor(e){this._doc=e}},om="ng-app-id",IT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sm(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${om}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(om),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(om,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(N(Bt),N(Mg),N(xg,8),N(Fn))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),am={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hm=/%COMP%/g,ET="%COMP%",hU=`_nghost-${ET}`,fU=`_ngcontent-${ET}`,pU=!0,gU=new x("",{providedIn:"root",factory:()=>pU});function mU(t){return fU.replace(hm,t)}function yU(t){return hU.replace(hm,t)}function CT(t,e){return e.map(n=>n.replace(hm,t))}var yT=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=sm(c),this.defaultRenderer=new Pa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xn.ShadowDom&&(i=de(S({},i),{encapsulation:xn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Wu?s.applyToHost(r):s instanceof ka&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case xn.Emulated:o=new Wu(l,u,i,this.appId,d,a,c,h);break;case xn.ShadowDom:return new dm(l,u,r,i,a,c,this.nonce,h);default:o=new ka(l,u,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(N(wT),N(IT),N(Mg),N(gU),N(Bt),N(Fn),N(z),N(xg))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Pa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(am[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_T(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_T(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=am[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=am[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sr.DashCase|sr.Important)?e.style.setProperty(n,r,i&sr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function _T(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var dm=class extends Pa{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=CT(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ka=class extends Pa{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?CT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends ka{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=mU(l),this.hostAttr=yU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},_U=(()=>{let e=class e extends Gu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(N(Bt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),vT=["alt","control","meta","shift"],vU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},IU=(()=>{let e=class e extends Gu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),vT.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=vU[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),vT.forEach(a=>{if(a!==s){let c=wU[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(N(Bt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function bT(t,e){return oT(S({rootComponent:t},EU(e)))}function EU(t){return{appProviders:[...SU,...t?.providers??[]],platformProviders:DU}}function CU(){lm.makeCurrent()}function bU(){return new kn}function TU(){return lb(document),document}var DU=[{provide:Fn,useValue:im},{provide:Rg,useValue:CU,multi:!0},{provide:Bt,useFactory:TU,deps:[]}];var SU=[{provide:Mu,useValue:"root"},{provide:kn,useFactory:bU,deps:[]},{provide:um,useClass:_U,multi:!0,deps:[Bt,z,Fn]},{provide:um,useClass:IU,multi:!0,deps:[Bt]},yT,IT,wT,{provide:Ia,useExisting:yT},{provide:qu,useClass:dU,deps:[]},[]];var Ku=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(N(Bt))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K="primary",Za=Symbol("RouteTitle"),ym=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function no(t){return new ym(t)}function AU(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function MU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ln(t[n],e[n]))return!1;return!0}function Ln(t,e){let n=t?_m(t):void 0,r=e?_m(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!kT(t[i],e[i]))return!1;return!0}function _m(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function OT(t){return t.length>0?t[t.length-1]:null}function Kr(t){return ep(t)?t:Ai(t)?Ee(Promise.resolve(t)):P(t)}var RU={exact:LT,subset:VT},FT={exact:xU,subset:NU,ignored:()=>!0};function DT(t,e,n){return RU[n.paths](t.root,e.root,n.matrixParams)&&FT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xU(t,e){return Ln(t,e)}function LT(t,e,n){if(!xi(t.segments,e.segments)||!Zu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!LT(t.children[r],e.children[r],n))return!1;return!0}function NU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kT(t[n],e[n]))}function VT(t,e,n){return UT(t,e,e.segments,n)}function UT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!xi(i,n)||e.hasChildren()||!Zu(i,n,r))}else if(t.segments.length===n.length){if(!xi(t.segments,n)||!Zu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!VT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!xi(t.segments,i)||!Zu(t.segments,i,r)||!t.children[K]?!1:UT(t.children[K],e,s,r)}}function Zu(t,e,n){return e.every((r,i)=>FT[n](t[i].parameters,r.parameters))}var Hr=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){return OU.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}},Ri=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=no(this.parameters),this._parameterMap}toString(){return jT(this)}};function PU(t,e){return xi(t,e)&&t.every((n,r)=>Ln(n.parameters,e[r].parameters))}function xi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var Ja=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>new ja,providedIn:"root"});let t=e;return t})(),ja=class{parse(e){let n=new wm(e);return new Hr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Oa(e.root,!0)}`,r=VU(e.queryParams),i=typeof e.fragment=="string"?`#${FU(e.fragment)}`:"";return`${n}${r}${i}`}},OU=new ja;function Ju(t){return t.segments.map(e=>jT(e)).join("/")}function Oa(t,e){if(!t.hasChildren())return Ju(t);if(e){let n=t.children[K]?Oa(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${Oa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kU(t,(r,i)=>i===K?[Oa(t.children[K],!1)]:[`${i}:${Oa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Ju(t)}/${n[0]}`:`${Ju(t)}/(${n.join("//")})`}}function BT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qu(t){return BT(t).replace(/%3B/gi,";")}function FU(t){return encodeURI(t)}function vm(t){return BT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(t){return decodeURIComponent(t)}function ST(t){return Xu(t.replace(/\+/g,"%20"))}function jT(t){return`${vm(t.path)}${LU(t.parameters)}`}function LU(t){return Object.entries(t).map(([e,n])=>`;${vm(e)}=${vm(n)}`).join("")}function VU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Qu(n)}=${Qu(i)}`).join("&"):`${Qu(n)}=${Qu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var UU=/^[^\/()?;#]+/;function fm(t){let e=t.match(UU);return e?e[0]:""}var BU=/^[^\/()?;=#]+/;function jU(t){let e=t.match(BU);return e?e[0]:""}var $U=/^[^=?&#]+/;function zU(t){let e=t.match($U);return e?e[0]:""}var HU=/^[^&#]+/;function qU(t){let e=t.match(HU);return e?e[0]:""}var wm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new ye(e,n)),r}parseSegment(){let e=fm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Ri(Xu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=fm(this.remaining);i&&(r=i,this.capture(r))}e[Xu(n)]=Xu(r)}parseQueryParam(e){let n=zU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=qU(this.remaining);o&&(r=o,this.capture(r))}let i=ST(n),s=ST(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function $T(t){return t.segments.length>0?new ye([],{[K]:t}):t}function zT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=zT(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return GU(n)}function GU(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new ye(t.segments.concat(e.segments),e.children)}return t}function ro(t){return t instanceof Hr}function WU(t,e,n=null,r=null){let i=HT(t);return qT(i,e,n,r)}function HT(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new ye(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=$T(r);return e??i}function qT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return pm(i,i,i,n,r);let s=KU(e);if(s.toRoot())return pm(i,i,new ye([],{}),n,r);let o=QU(s,i,t),a=o.processChildren?Va(o.segmentGroup,o.index,s.commands):WT(o.segmentGroup,o.index,s.commands);return pm(i,o.segmentGroup,a,n,r)}function ed(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $a(t){return typeof t=="object"&&t!=null&&t.outlets}function pm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=GT(t,e,n);let a=$T(zT(o));return new Hr(a,s,i)}function GT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=GT(s,e,n)}),new ye(t.segments,r)}var td=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ed(r[0]))throw new F(4003,!1);let i=r.find($a);if(i&&i!==OT(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function KU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new td(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new td(n,e,r)}var eo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function QU(t,e,n){if(t.isAbsolute)return new eo(e,!0,0);if(!n)return new eo(e,!1,NaN);if(n.parent===null)return new eo(n,!0,0);let r=ed(t.commands[0])?0:1,i=n.segments.length-1+r;return YU(n,i,t.numberOfDoubleDots)}function YU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new eo(r,!1,i-s)}function ZU(t){return $a(t[0])?t[0].outlets:{[K]:t}}function WT(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Va(t,e,n);let r=JU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new ye(t.segments.slice(r.pathIndex),t.children),Va(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?Im(t,e,n):r.match?Va(t,0,i):Im(t,e,n)}function Va(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=ZU(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=Va(t.children[K],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=WT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function JU(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if($a(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!MT(c,l,o))return s;r+=2}else{if(!MT(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Im(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if($a(s)){let c=XU(s.outlets);return new ye(r,c)}if(i===0&&ed(n[0])){let c=t.segments[e];r.push(new Ri(c.path,AT(n[0]))),i++;continue}let o=$a(s)?s.outlets[K]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ed(a)?(r.push(new Ri(o,AT(a))),i+=2):(r.push(new Ri(o,{})),i++)}return new ye(r,{})}function XU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Im(new ye([],{}),0,r))}),e}function AT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function MT(t,e,n){return t==n.path&&Ln(e,n.parameters)}var Ua="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),ln=class{constructor(e,n){this.id=e,this.url=n}},io=class extends ln{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},En=class extends ln{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Zt||{}),nd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(nd||{}),qr=class extends ln{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gr=class extends ln{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationSkipped}},za=class extends ln{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rd=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cm=class extends ln{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bm=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tm=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dm=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sm=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Am=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mm=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rm=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ha=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},id=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Je.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},qa=class{},Ga=class{constructor(e){this.url=e}};var xm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xa,this.attachRef=null}},Xa=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new xm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Nm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Nm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Pm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pm(e,this._root).map(n=>n.value)}};function Nm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Nm(t,n);if(r)return r}return null}function Pm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Pm(t,n);if(r.length)return r.unshift(e),r}return[]}var Yt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Xs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var od=class extends sd{constructor(e,n){super(e),this.snapshot=n,zm(this,e)}toString(){return this.snapshot.toString()}};function KT(t){let e=e2(t),n=new ot([new Ri("",{})]),r=new ot({}),i=new ot({}),s=new ot({}),o=new ot(""),a=new Wr(n,r,s,o,i,K,t,e.root);return a.snapshot=e.root,new od(new Yt(a,[]),e)}function e2(t){let e={},n={},r={},i="",s=new Wa([],e,r,i,n,K,t,null,{});return new ad("",new Yt(s,[]))}var Wr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(l=>l[Za]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>no(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>no(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $m(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&YT(i)&&(r.resolve[Za]=i.title),r}var Wa=class{get title(){return this.data?.[Za]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=no(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ad=class extends sd{constructor(e,n){super(n),this.url=e,zm(this,n)}toString(){return QT(this._root)}};function zm(t,e){e.value._routerState=t,e.children.forEach(n=>zm(t,n))}function QT(t){let e=t.children.length>0?` { ${t.children.map(QT).join(", ")} } `:"";return`${t.value}${e}`}function gm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ln(e.params,n.params)||t.paramsSubject.next(n.params),MU(e.url,n.url)||t.urlSubject.next(n.url),Ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function km(t,e){let n=Ln(t.params,e.params)&&PU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||km(t.parent,e.parent))}function YT(t){return typeof t.title=="string"||t.title===null}var Hm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.parentContexts=C(Xa),this.location=C(Ks),this.changeDetector=C(Mi),this.environmentInjector=C(Kt),this.inputBinder=C(hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Om(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=St({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[On]});let t=e;return t})(),Om=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Wr?this.route:e===Xa?this.childContexts:this.parent.get(e,n)}},hd=new x(""),RT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=la([i.queryParams,i.params,i.data]).pipe(bt(([o,a,c],l)=>(c=S(S(S({},o),a),c),l===0?P(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=aT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function t2(t,e,n){let r=Ka(t,e._root,n?n._root:void 0);return new od(r,e)}function Ka(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=n2(t,e,n);return new Yt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ka(t,a)),o}}let r=r2(e.value),i=e.children.map(s=>Ka(t,s));return new Yt(r,i)}}function n2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ka(t,r,i);return Ka(t,r)})}function r2(t){return new Wr(new ot(t.url),new ot(t.params),new ot(t.queryParams),new ot(t.fragment),new ot(t.data),t.outlet,t.component,t)}var ZT="ngNavigationCancelingError";function JT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XT(!1,Zt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function XT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ZT]=!0,n.cancellationCode=e,n}function i2(t){return eD(t)&&ro(t.url)}function eD(t){return!!t&&t[ZT]}var qm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["ng-component"]],standalone:!0,features:[re],decls:1,vars:0,template:function(i,s){i&1&&A(0,"router-outlet")},dependencies:[Hm],encapsulation:2});let t=e;return t})();function s2(t,e){return t.providers&&!t._injector&&(t._injector=Lu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Gm(t){let e=t.children&&t.children.map(Gm),n=e?de(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=qm),n}function Vn(t){return t.outlet||K}function o2(t,e){let n=t.filter(r=>Vn(r)===e);return n.push(...t.filter(r=>Vn(r)!==e)),n}function ec(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var a2=(t,e,n,r)=>Z(i=>(new Fm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Fm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),gm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Xs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Xs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ha(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Mm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(gm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),gm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ec(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},cd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},to=class{constructor(e,n){this.component=e,this.route=n}};function c2(t,e,n){let r=t._root,i=e?e._root:null;return Fa(r,i,n,[r.value])}function l2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function oo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!XC(t)?t:e.get(t):r}function Fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Xs(e);return t.children.forEach(o=>{u2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ba(a,n.getContext(o),i)),i}function u2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=d2(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new cd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Fa(t,e,a?a.children:null,r,i):Fa(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new to(a.outlet.component,o))}else o&&Ba(e,a,i),i.canActivateChecks.push(new cd(r)),s.component?Fa(t,null,a?a.children:null,r,i):Fa(t,null,n,r,i);return i}function d2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!xi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xi(t.url,e.url)||!Ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!km(t,e)||!Ln(t.queryParams,e.queryParams);case"paramsChange":default:return!km(t,e)}}function Ba(t,e,n){let r=Xs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ba(o,e.children.getContext(s),n):Ba(o,null,n):Ba(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new to(e.outlet.component,i)):n.canDeactivateChecks.push(new to(null,i)):n.canDeactivateChecks.push(new to(null,i))}function tc(t){return typeof t=="function"}function h2(t){return typeof t=="boolean"}function f2(t){return t&&tc(t.canLoad)}function p2(t){return t&&tc(t.canActivate)}function g2(t){return t&&tc(t.canActivateChild)}function m2(t){return t&&tc(t.canDeactivate)}function y2(t){return t&&tc(t.canMatch)}function tD(t){return t instanceof tr||t?.name==="EmptyError"}var Yu=Symbol("INITIAL_VALUE");function so(){return bt(t=>la(t.map(e=>e.pipe(nr(1),da(Yu)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===Yu)return Yu;if(n===!1||n instanceof Hr)return n}return!0}),Ct(e=>e!==Yu),nr(1)))}function _2(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?P(de(S({},n),{guardsResult:!0})):v2(o,r,i,t).pipe(Fe(a=>a&&h2(a)?w2(r,s,t,e):P(a)),Z(a=>de(S({},n),{guardsResult:a})))})}function v2(t,e,n,r){return Ee(t).pipe(Fe(i=>T2(i.component,i.route,n,e,r)),An(i=>i!==!0,!0))}function w2(t,e,n,r){return Ee(e).pipe(Nr(i=>As(E2(i.route.parent,r),I2(i.route,r),b2(t,i.path,n),C2(t,i.route,n))),An(i=>i!==!0,!0))}function I2(t,e){return t!==null&&e&&e(new Rm(t)),P(!0)}function E2(t,e){return t!==null&&e&&e(new Am(t)),P(!0)}function C2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>Ql(()=>{let o=ec(e)??n,a=oo(s,o),c=p2(a)?a.canActivate(e,t):cr(o,()=>a(e,t));return Kr(c).pipe(An())}));return P(i).pipe(so())}function b2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>l2(o)).filter(o=>o!==null).map(o=>Ql(()=>{let a=o.guards.map(c=>{let l=ec(o.node)??n,u=oo(c,l),d=g2(u)?u.canActivateChild(r,t):cr(l,()=>u(r,t));return Kr(d).pipe(An())});return P(a).pipe(so())}));return P(s).pipe(so())}function T2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let c=ec(e)??i,l=oo(a,c),u=m2(l)?l.canDeactivate(t,e,n,r):cr(c,()=>l(t,e,n,r));return Kr(u).pipe(An())});return P(o).pipe(so())}function D2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=oo(o,t),c=f2(a)?a.canLoad(e,n):cr(t,()=>a(e,n));return Kr(c)});return P(s).pipe(so(),nD(r))}function nD(t){return Wf(Ge(e=>{if(ro(e))throw JT(t,e)}),Z(e=>e===!0))}function S2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=oo(o,t),c=y2(a)?a.canMatch(e,n):cr(t,()=>a(e,n));return Kr(c)});return P(s).pipe(so(),nD(r))}var Qa=class{constructor(e){this.segmentGroup=e||null}},ld=class extends Error{constructor(e){super(),this.urlTree=e}};function Js(t){return Ss(new Qa(t))}function A2(t){return Ss(new F(4e3,!1))}function M2(t){return Ss(XT(!1,Zt.GuardRejected))}var Lm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[K])return A2(e.redirectTo);i=i.children[K]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ld(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Hr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Vm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R2(t,e,n,r,i){let s=Wm(t,e,n);return s.matched?(r=s2(e,r),S2(r,e,n,i).pipe(Z(o=>o===!0?s:S({},Vm)))):P(s)}function Wm(t,e,n){if(e.path==="**")return x2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Vm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||AU)(n,t,e);if(!i)return S({},Vm);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function x2(t){return{matched:!0,parameters:t.length>0?OT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xT(t,e,n,r){return n.length>0&&k2(t,n,r)?{segmentGroup:new ye(e,P2(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&O2(t,n,r)?{segmentGroup:new ye(t.segments,N2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function N2(t,e,n,r){let i={};for(let s of n)if(fd(t,e,s)&&!r[Vn(s)]){let o=new ye([],{});i[Vn(s)]=o}return S(S({},r),i)}function P2(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&Vn(r)!==K){let i=new ye([],{});n[Vn(r)]=i}return n}function k2(t,e,n){return n.some(r=>fd(t,e,r)&&Vn(r)!==K)}function O2(t,e,n){return n.some(r=>fd(t,e,r))}function fd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function F2(t,e,n,r){return Vn(t)!==r&&(r===K||!fd(e,n,t))?!1:Wm(e,t,n).matched}function L2(t,e,n){return e.length===0&&!t.children[n]}var Um=class{};function V2(t,e,n,r,i,s,o="emptyOnly"){return new Bm(t,e,n,r,i,o,s).recognize()}var U2=31,Bm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Lm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=xT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(n=>{let r=new Wa([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new Yt(r,n),s=new ad("",i),o=WU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,K).pipe(xr(r=>{if(r instanceof ld)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=$m(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Z(s=>s instanceof Yt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Ee(i).pipe(Nr(s=>{let o=r.children[s],a=o2(n,s);return this.processSegmentGroup(e,a,o,s)}),ap((s,o)=>(s.push(...o),s)),Pr(null),sp(),Fe(s=>{if(s===null)return Js(r);let o=rD(s);return B2(o),P(o)}))}processSegment(e,n,r,i,s,o){return Ee(n).pipe(Nr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(xr(c=>{if(c instanceof Qa)return P(null);throw c}))),An(a=>!!a),xr(a=>{if(tD(a))return L2(r,i,s)?P(new Um):Js(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return F2(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Js(i):Js(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Wm(n,i,s);if(!a)return Js(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>U2&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(Fe(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=R2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(bt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,p=new Wa(u,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,$2(r),Vn(r),r.component??r._loadedComponent??null,r,z2(r)),{segmentGroup:y,slicedSegments:v}=xT(n,u,d,c);if(v.length===0&&y.hasChildren())return this.processChildren(l,c,y).pipe(Z(T=>T===null?null:new Yt(p,T)));if(c.length===0&&v.length===0)return P(new Yt(p,[]));let w=Vn(r)===s;return this.processSegment(l,c,y,v,w?K:s,!0).pipe(Z(T=>new Yt(p,T instanceof Yt?[T]:[])))}))):Js(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):D2(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):M2(n))):P({routes:[],injector:e})}};function B2(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function j2(t){let e=t.value.routeConfig;return e&&e.path===""}function rD(t){let e=[],n=new Set;for(let r of t){if(!j2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=rD(r.children);e.push(new Yt(r.value,i))}return e.filter(r=>!n.has(r))}function $2(t){return t.data||{}}function z2(t){return t.resolve||{}}function H2(t,e,n,r,i,s){return Fe(o=>V2(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:c})=>de(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function q2(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of iD(c))o.add(l);let a=0;return Ee(o).pipe(Nr(c=>s.has(c)?G2(c,r,t,e):(c.data=$m(c,c.parent,t).resolve,P(void 0))),Ge(()=>a++),Ms(1),Fe(c=>a===o.size?P(n):Gt))})}function iD(t){let e=t.children.map(n=>iD(n)).flat();return[t,...e]}function G2(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!YT(i)&&(s[Za]=i.title),W2(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=$m(t,t.parent,n).resolve,null)))}function W2(t,e,n,r){let i=_m(t);if(i.length===0)return P({});let s={};return Ee(i).pipe(Fe(o=>K2(t[o],e,n,r).pipe(An(),Ge(a=>{s[o]=a}))),Ms(1),np(s),xr(o=>tD(o)?Gt:Ss(o)))}function K2(t,e,n,r){let i=ec(e)??r,s=oo(t,i),o=s.resolve?s.resolve(e,n):cr(i,()=>s(e,n));return Kr(o)}function mm(t){return bt(e=>{let n=t(e);return n?Ee(n).pipe(Z(()=>e)):P(e)})}var sD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(r){return r.data[Za]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>C(Q2),providedIn:"root"});let t=e;return t})(),Q2=(()=>{let e=class e extends sD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(N(Ku))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nc=new x("",{providedIn:"root",factory:()=>({})}),Ya=new x(""),Km=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(zu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Kr(r.loadComponent()).pipe(Z(oD),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ua(()=>{this.componentLoaders.delete(r)})),s=new Cs(i,()=>new Ye).pipe(Es());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Y2(i,this.compiler,r,this.onLoadEndListener).pipe(ua(()=>{this.childrenLoaders.delete(i)})),a=new Cs(o,()=>new Ye).pipe(Es());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y2(t,e,n,r){return Kr(t.loadChildren()).pipe(Z(oD),Fe(i=>i instanceof Ea||Array.isArray(i)?P(i):Ee(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ya,[],{optional:!0,self:!0}).flat()),{routes:o.map(Gm),injector:s}}))}function Z2(t){return t&&typeof t=="object"&&"default"in t}function oD(t){return Z2(t)?t.default:t}var Qm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>C(J2),providedIn:"root"});let t=e;return t})(),J2=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aD=new x(""),cD=new x("");function X2(t,e,n){let r=t.get(cD),i=t.get(Bt);return t.get(z).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),eB(t))),{onViewTransitionCreated:c}=r;return c&&cr(t,()=>c({transition:a,from:e,to:n})),o})}function eB(t){return new Promise(e=>{qg(e,{injector:t})})}var Ym=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.transitionAbortSubject=new Ye,this.configLoader=C(Km),this.environmentInjector=C(Kt),this.urlSerializer=C(Ja),this.rootContexts=C(Xa),this.location=C(Zs),this.inputBindingEnabled=C(hd,{optional:!0})!==null,this.titleStrategy=C(sD),this.options=C(nc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(Qm),this.createViewTransition=C(aD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Dm(s)),i=s=>this.events.next(new Sm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(de(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ot({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ua,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(o=>o.id!==0),Z(o=>de(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),bt(o=>{let a=!1,c=!1;return P(o).pipe(bt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),Gt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?de(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Gr(l.id,this.urlSerializer.serialize(l.rawUrl),h,nd.IgnoredSameUrlNavigation)),l.resolve(null),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return P(l).pipe(bt(h=>{let p=this.transitions?.getValue();return this.events.next(new io(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Gt:Promise.resolve(h)}),H2(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=de(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new rd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:p,source:y,restoredState:v,extras:w}=l,T=new io(h,this.urlSerializer.serialize(p),y,v);this.events.next(T);let V=KT(this.rootComponentType).snapshot;return this.currentTransition=o=de(S({},l),{targetSnapshot:V,urlAfterRedirects:p,extras:de(S({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,P(o)}else{let h="";return this.events.next(new Gr(l.id,this.urlSerializer.serialize(l.extractedUrl),h,nd.IgnoredByUrlHandlingStrategy)),l.resolve(null),Gt}}),Ge(l=>{let u=new Em(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Z(l=>(this.currentTransition=o=de(S({},l),{guards:c2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),_2(this.environmentInjector,l=>this.events.next(l)),Ge(l=>{if(o.guardsResult=l.guardsResult,ro(l.guardsResult))throw JT(this.urlSerializer,l.guardsResult);let u=new Cm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ct(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Zt.GuardRejected),!1)),mm(l=>{if(l.guards.canActivateChecks.length)return P(l).pipe(Ge(u=>{let d=new bm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),bt(u=>{let d=!1;return P(u).pipe(q2(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Zt.NoDataFromResolver)}}))}),Ge(u=>{let d=new Tm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),mm(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ge(p=>{d.component=p}),Z(()=>{})));for(let p of d.children)h.push(...u(p));return h};return la(u(l.targetSnapshot.root)).pipe(Pr(null),nr(1))}),mm(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Ee(d).pipe(Z(()=>o)):P(o)}),Z(l=>{let u=t2(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=de(S({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ge(()=>{this.events.next(new qa)}),a2(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),nr(1),Ge({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),cp(this.transitionAbortSubject.pipe(Ge(l=>{throw l}))),ua(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xr(l=>{if(c=!0,eD(l))this.events.next(new qr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),i2(l)?this.events.next(new Ga(l.url)):o.resolve(!1);else{this.events.next(new za(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Gt}))}))}cancelNavigationTransition(r,i,s){let o=new qr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tB(t){return t!==Ua}var nB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>C(rB),providedIn:"root"});let t=e;return t})(),jm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rB=(()=>{let e=class e extends jm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>C(iB),providedIn:"root"});let t=e;return t})(),iB=(()=>{let e=class e extends lD{constructor(){super(...arguments),this.location=C(Zs),this.urlSerializer=C(Ja),this.options=C(nc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(Qm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof io)this.stateMemento=this.createStateMemento();else if(r instanceof Gr)this.rawUrlTree=i.initialUrl;else if(r instanceof rd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof qa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof qr&&(r.code===Zt.GuardRejected||r.code===Zt.NoDataFromResolver)?this.restoreHistory(i):r instanceof za?this.restoreHistory(i,!0):r instanceof En&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),La=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(La||{});function uD(t,e){t.events.pipe(Ct(n=>n instanceof En||n instanceof qr||n instanceof za||n instanceof Gr),Z(n=>n instanceof En||n instanceof Gr?La.COMPLETE:(n instanceof qr?n.code===Zt.Redirect||n.code===Zt.SupersededByNewNavigation:!1)?La.REDIRECTING:La.FAILED),Ct(n=>n!==La.REDIRECTING),nr(1)).subscribe(()=>{e()})}function sB(t){throw t}var oB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(ju),this.stateManager=C(lD),this.options=C(nc,{optional:!0})||{},this.pendingTasks=C(Vu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(Ym),this.urlSerializer=C(Ja),this.location=C(Zs),this.urlHandlingStrategy=C(Qm),this._events=new Ye,this.errorHandler=this.options.errorHandler||sB,this.navigated=!1,this.routeReuseStrategy=C(nB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(Ya,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(hd,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=C(z)instanceof z&&z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof qr&&i.code!==Zt.Redirect&&i.code!==Zt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof En)this.navigated=!0;else if(i instanceof Ga){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||tB(s.source)};this.scheduleNavigation(a,Ua,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}lB(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ua,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=S({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Gm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=HT(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return qT(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ro(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ua,null,i)}navigate(r,i={skipLocationChange:!1}){return cB(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=S({},oB):i===!1?s=S({},aB):s=i,ro(r))return DT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return DT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,p)=>{c=h,l=p});let d=this.pendingTasks.add();return uD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new F(4008,!1)}function lB(t){return!(t instanceof qa)&&!(t instanceof Ga)}var ud=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ye,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof En&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:hb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(se(un),se(Wr),Sg("tabindex"),se(Br),se(At),se(fr))},e.\u0275dir=St({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&$r("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Uu("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ft.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ys],skipLocationChange:[ft.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ys],replaceUrl:[ft.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ys],routerLink:"routerLink"},standalone:!0,features:[Kg,On]});let t=e;return t})(),dD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ze,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof En&&this.update()})}ngAfterContentInit(){P(this.links.changes,P(null)).pipe(Rr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ee(r).pipe(Rr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=uB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(se(un),se(At),se(Br),se(Mi),se(ud,8))},e.\u0275dir=St({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Zg(o,ud,5),i&2){let a;Mt(a=Rt())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[On]});let t=e;return t})();function uB(t){return!!t.paths}var dd=class{};var dB=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(r=>r instanceof En),Nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Lu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ee(s).pipe(Rr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=P(null);let o=s.pipe(Fe(a=>a===null?P(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ee([o,a]).pipe(Rr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(N(un),N(zu),N(Kt),N(dd),N(Km))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hD=new x(""),hB=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof io?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof En?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Gr&&r.code===nd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof id&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new id(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Sb()},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function fD(t,...e){return Au([{provide:Ya,multi:!0,useValue:t},[],{provide:Wr,useFactory:pD,deps:[un]},{provide:$u,multi:!0,useFactory:gD},e.map(n=>n.\u0275providers)])}function pD(t){return t.routerState.root}function rc(t,e){return{\u0275kind:t,\u0275providers:e}}function gD(){let t=C(Ce);return e=>{let n=t.get(xa);if(e!==n.components[0])return;let r=t.get(un),i=t.get(mD);t.get(Zm)===1&&r.initialNavigation(),t.get(yD,null,ee.Optional)?.setUpPreloading(),t.get(hD,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mD=new x("",{factory:()=>new Ye}),Zm=new x("",{providedIn:"root",factory:()=>1});function fB(){return rc(2,[{provide:Zm,useValue:0},{provide:zr,multi:!0,deps:[Ce],useFactory:e=>{let n=e.get(hT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(un),s=e.get(mD);uD(i,()=>{r(!0)}),e.get(Ym).afterPreactivation=()=>(r(!0),s.closed?P(void 0):s),i.initialNavigation()}))}}])}function pB(){return rc(3,[{provide:zr,multi:!0,useFactory:()=>{let e=C(un);return()=>{e.setUpLocationChangeListener()}}},{provide:Zm,useValue:2}])}var yD=new x("");function gB(t){return rc(0,[{provide:yD,useExisting:dB},{provide:dd,useExisting:t}])}function mB(){return rc(8,[RT,{provide:hd,useExisting:RT}])}function yB(t){let e=[{provide:aD,useValue:X2},{provide:cD,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return rc(9,e)}var NT=new x("ROUTER_FORROOT_GUARD"),_B=[Zs,{provide:Ja,useClass:ja},un,Xa,{provide:Wr,useFactory:pD,deps:[un]},Km,[]],_D=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[_B,[],{provide:Ya,multi:!0,useValue:r},{provide:NT,useFactory:EB,deps:[[un,new ge,new o0]]},{provide:nc,useValue:i||{}},i?.useHash?wB():IB(),vB(),i?.preloadingStrategy?gB(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?CB(i):[],i?.bindToComponentInputs?mB().\u0275providers:[],i?.enableViewTransitions?yB().\u0275providers:[],bB()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ya,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(N(NT,8))},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ne({});let t=e;return t})();function vB(){return{provide:hD,useFactory:()=>{let t=C(mT),e=C(z),n=C(nc),r=C(Ym),i=C(Ja);return n.scrollOffset&&t.setOffset(n.scrollOffset),new hB(i,r,t,e,n)}}}function wB(){return{provide:fr,useClass:pT}}function IB(){return{provide:fr,useClass:rm}}function EB(t){return"guarded"}function CB(t){return[t.initialNavigation==="disabled"?pB().\u0275providers:[],t.initialNavigation==="enabledBlocking"?fB().\u0275providers:[]]}var PT=new x("");function bB(){return[{provide:PT,useFactory:gD},{provide:$u,multi:!0,useExisting:PT}]}var TB=["swiperContainer"],wD=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1]):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){this.initializeSwiperWithCustomCode()}initializeSwiperWithCustomCode(){let i={swiper:$(this.swiperContainer.nativeElement)};$(document).ready(()=>{if(i.swiper.length){var s;for(s=0;s<i.swiper.length;s++){for(var o=$(i.swiper[s]),a=o.find(".swiper-pagination"),c=o.find(".swiper-button-next"),l=o.find(".swiper-button-prev"),u=o.find(".swiper-scrollbar"),d=o.parents(".rd-parallax").length,h=o.find(".swiper-slide"),p=0;p<h.length;p++){var y=$(h[p]),v;(v=y.attr("data-slide-bg"))&&y.css({"background-image":"url("+v+")","background-size":"cover"})}h.end().find("[data-caption-animate]").addClass("not-animated").end().swiper({autoplay:o.attr("data-autoplay")?o.attr("data-autoplay")==="false"?void 0:o.attr("data-autoplay"):1e4,direction:o.attr("data-direction")?o.attr("data-direction"):"horizontal",effect:o.attr("data-slide-effect")?o.attr("data-slide-effect"):"slide",speed:o.attr("data-slide-speed")?o.attr("data-slide-speed"):2e3,keyboardControl:o.attr("data-keyboard")==="true",mousewheelControl:o.attr("data-mousewheel")==="true",mousewheelReleaseOnEdges:o.attr("data-mousewheel-release")==="true",nextButton:c.length?c.get(0):null,prevButton:l.length?l.get(0):null,pagination:a.length?a.get(0):null,paginationClickable:a.length?a.attr("data-clickable")!=="false":!1,paginationBulletRender:a.length&&a.attr("data-index-bullet")==="true"?function(M,ie){return'<span class="'+ie+'">'+(M+1)+"</span>"}:null,scrollbar:u.length?u.get(0):null,scrollbarDraggable:u.length?u.attr("data-draggable")!=="false":!0,scrollbarHide:u.length?u.attr("data-draggable")==="false":!1,loop:o.attr("data-loop")!=="false",simulateTouch:o.attr("data-simulate-touch")?o.attr("data-simulate-touch")==="true":!1,onTransitionStart:function(M){T(M)},onTransitionEnd:function(M){V(M)},onInit:function(M){T(M),V(M);for(var ie=o.find(".swiper-parallax"),W=0;W<ie.length;W++){var fe=$(ie[W]),Me;d&&!this.isIEBrows&&!this.isMobile&&(Me=fe.attr("data-speed"))&&G(fe,Me,o,!1)}$(window).on("resize",function(){M.update(!0)})}}),$(window).on("resize",function(){var M=w(o,"min-height"),ie=w(o,"height");ie&&o.css("height",M&&M>ie?M:ie)}).trigger("resize")}}function w(M,ie){var W=M.attr("data-"+ie),fe;if(W)if(fe=W.match(/(px)|(%)|(vh)$/i),fe.length)switch(fe[0]){case"px":return parseFloat(W);case"vh":return $(window).height()*(parseFloat(W)/100);case"%":return M.width()*(parseFloat(W)/100)}else return}function T(M){var ie=$(M.slides[M.previousIndex]),W=$(M.slides[M.activeIndex]),fe;ie.find("video").each(function(Me){Me.pause()}),fe=W.find("video"),fe.length&&fe.get(0).play()}function V(M){var ie=$(M.container),W=$(M.slides[M.activeIndex]);ie.find("[data-caption-animate]").each(function(fe,Me){var Qe=$(Me);Qe.removeClass("animated").removeClass(Qe.attr("data-caption-animate")).addClass("not-animated")}),W.find("[data-caption-animate]").each(function(fe,Me){var Qe=$(Me),mn=Qe.attr("data-caption-delay"),hi=Qe.attr("data-caption-duration");setTimeout(function(){Qe.removeClass("not-animated").addClass(Qe.attr("data-caption-animate")).addClass("animated"),hi&&Qe.css("animation-duration",hi+"ms")},mn?parseInt(mn):0)})}function G(M,ie,W,fe){var Me=window.scrollY||window.pageYOffset;if(fe!=Me&&(fe=Me,M.addClass("no-transition"),M[0].style.transform="translate3d(0,"+-Me*(1-ie)+"px,0)",M.height(),M.removeClass("no-transition"),M.attr("data-fade")==="true")){var Qe=M[0].getBoundingClientRect(),mn=Qe.top*2+Me,hi=W.outerHeight(),na=W.offset().top+hi/2,ra=mn+M.outerHeight()/2,ia=hi/6,sa;na+ia>ra&&na-ia<ra?M[0].style.opacity=1:(na-ia<ra?sa=1+(na+ia-ra)/hi/3*5:sa=1-(na-ia-ra)/hi/3*5,M[0].style.opacity=sa<0?0:sa>1?1:sa.toFixed(2))}requestAnimationFrame(function(){G(M,ie,W,fe)})}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["swiper-component"]],viewQuery:function(i,s){if(i&1&&cn(TB,5),i&2){let o;Mt(o=Rt())&&(s.swiperContainer=o.first)}},standalone:!0,features:[re],decls:52,vars:0,consts:[["swiperContainer",""],[1,"bg-gray-darker"],[1,"swiper-variant-1"],["data-slide-effect","fade","data-min-height","600px",1,"swiper-container","swiper-slider"],[1,"swiper-wrapper"],["data-slide-bg","assets/images/home-slide-4-1920x800.jpg",1,"swiper-slide"],[1,"swiper-slide-caption","slide-caption-2","text-center"],[1,"shell"],[1,"range","range-sm-center"],[1,"cell-sm-12"],["data-caption-animate","fadeInUpSmall","data-caption-delay","100",1,"text-italic","font-secondary","text-white"],["data-caption-animate","fadeInUpSmall","data-caption-delay","400",1,"text-uppercase","text-white","offset-top-10","offset-sm-top-0"],[1,"range","range-sm-center","offset-top-15"],[1,"cell-sm-9","cell-lg-7"],["data-caption-animate","fadeInUpSmall","data-caption-delay","700",1,"text-white","offset-top-18"],["href","#","data-caption-animate","fadeInUpSmall","data-caption-delay","1000",1,"btn","btn-primary-lighter","btn-md","btn-shape-circle","offset-top-20"],["data-slide-bg","assets/images/home-slide-2-1920x800.jpg",1,"swiper-slide"],["data-slide-bg","assets/images/home-slide-3-1920x800.jpg",1,"swiper-slide"],[1,"swiper-pagination-wrap"],[1,"swiper-pagination"]],template:function(i,s){i&1&&(g(0,"section",1)(1,"div",2)(2,"div",3,0)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5",10),_(11,"Welcome to Backstage Billiards I-Drive"),m(),g(12,"h2",11),_(13,"Where Champions Play"),m(),g(14,"div",12)(15,"div",13)(16,"p",14),_(17,"Step into the ultimate billiards destination on International Drive. With top-notch pool, darts, poker, and more, Backstage Billiards fosters only the best players in town. Experience the thrill of competition and the camaraderie of friends in our lively atmosphere!"),m(),g(18,"a",15),_(19,"Dive Into the Action"),m()()()()()()()(),g(20,"div",16)(21,"div",6)(22,"div",7)(23,"div",8)(24,"div",9)(25,"h5",10),_(26,"The Ultimate Social Playground"),m(),g(27,"h2",11),_(28,"Games, Grit, & Glory"),m(),g(29,"div",12)(30,"div",13)(31,"p",14),_(32,"Immerse yourself in the excitement of darts, the strategy of poker, and the precision of pool at Backstage Billiards. Our venue boasts premium tables, a vibrant atmosphere, and a community that welcomes both newcomers and seasoned pros. Join us for special events and make every night legendary."),m(),g(33,"a",15),_(34,"Experience the Thrill"),m()()()()()()()(),g(35,"div",17)(36,"div",6)(37,"div",7)(38,"div",8)(39,"div",9)(40,"h5",10),_(41,"Join the Excitement"),m(),g(42,"h2",11),_(43,"Epic Battles Await"),m(),g(44,"div",12)(45,"div",13)(46,"p",14),_(47,"At Backstage Billiards, every night is an opportunity for glory. Dive into our special events, tournaments, and weekly competitions that challenge your skills and reward your victories. Whether you're here to compete or cheer, you'll find the spirit of competition alive and thriving."),m(),g(48,"a",15),_(49,"Step Up to the Challenge"),m()()()()()()()()(),g(50,"div",18),A(51,"div",19),m()()()())},encapsulation:2});let t=e;return t})();var DB=["menuWidgetContainer"],ID=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){this.initializeAnimations()}initializeAnimations(){$(document).on("scroll",()=>{this.menuWidgets.forEach(r=>{let i=$(r.nativeElement);this.isScrolledIntoView(i)&&i.addClass("active")})}).trigger("scroll")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["options-section"]],viewQuery:function(i,s){if(i&1&&cn(DB,5),i&2){let o;Mt(o=Rt())&&(s.menuWidgets=o)}},standalone:!0,features:[re],decls:39,vars:0,consts:[["menuWidgetContainer",""],[1,"section-50","section-sm-100","bg-gray-lighter"],[1,"shell-wide"],[1,"range","range-xs-center"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-01"],[1,"text-italic"],["href","#",1,"thumbnail-variant-3"],["src","assets/images/the-bar.jpeg","alt","Backstage Billiards Bar","width","566","height","401",1,"img-responsive"],[1,"caption","text-italic","text-center"],[1,"big"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-2"],["src","assets/images/the-menu.jpeg","alt","Backstage Billiards Menu","width","566","height","401",1,"img-responsive"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-03"],["src","assets/images/weekly-specials.jpeg","alt","Backstage Billiards Specials","width","566","height","401",1,"img-responsive"],[1,"caption","text-center"],[1,"big","text-italic"],[1,"cell-xs-6","cell-md-3","view-animate","zoomInSmall","delay-04"],["src","assets/images/events.jpeg","alt","Backstage Billiards Events","width","566","height","401",1,"img-responsive"]],template:function(i,s){i&1&&(g(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4,0)(5,"h3",5),_(6,"The Bar"),m(),g(7,"a",6),A(8,"img",7),g(9,"div",8)(10,"p",9),_(11,"Craft beers, cocktails, and premium spirits await you in our lively bar."),m()()()(),g(12,"div",10,0)(14,"h3",5),_(15,"The Menu"),m(),g(16,"a",6),A(17,"img",11),g(18,"div",8)(19,"p",9),_(20,"Discover our pub favorites and shareable appetizers to satisfy your cravings."),m()()()(),g(21,"div",12,0)(23,"h3",5),_(24,"Specials"),m(),g(25,"a",6),A(26,"img",13),g(27,"div",14)(28,"p",15),_(29,"Weekly specials and happy hour deals are waiting for you."),m()()()(),g(30,"div",16,0)(32,"h3",5),_(33,"Events"),m(),g(34,"a",6),A(35,"img",17),g(36,"div",14)(37,"p",15),_(38,"Join us for exciting weekly events and pool tournaments."),m()()()()()()())},styles:[".caption[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;background:#00000080;color:#fff;visibility:hidden;transform:translateY(100%);transition:visibility 0s,opacity .5s,transform .5s}.thumbnail-variant-3[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{opacity:1}.thumbnail-variant-3[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{visibility:visible;transform:translateY(0)}"]});let t=e;return t})();var ED=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ne({});let t=e;return t})();var SB=["mapContainer"],pd=(()=>{let e=class e{constructor(){}ngAfterViewInit(){this.initMap(),this.addMarkerAtAddress("5656 International Dr, Orlando, FL 32819")}initMap(){let i={center:new google.maps.LatLng(37.7833,-122.4167),zoom:5,mapTypeControl:!1,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]};this.map=new google.maps.Map(this.mapContainer.nativeElement,i)}addMarkerAtAddress(r){new google.maps.Geocoder().geocode({address:r},(s,o)=>{if(o==="OK"){let a=s[0].geometry.location;this.addMarker(a)}else console.error("Geocode was not successful for the following reason:",o)})}addMarker(r){let i=new google.maps.Marker({position:r,map:this.map,title:"Backstage Billards I-Drive",icon:{url:"assets/images/gmap_marker.png",scaledSize:new google.maps.Size(50,50)}});this.map.setCenter(r),this.map.setZoom(19);let s='<div style="font-size: 16px;"><strong>Backstage Billiards I-Drive</strong></div>'}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-map"]],viewQuery:function(i,s){if(i&1&&cn(SB,5),i&2){let o;Mt(o=Rt())&&(s.mapContainer=o.first)}},standalone:!0,features:[re],decls:2,vars:0,consts:[["mapContainer",""],[2,"height","500px"]],template:function(i,s){i&1&&A(0,"div",1,0)},dependencies:[ED],encapsulation:2});let t=e;return t})();var AB=["servicesContainer"],CD=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){$(document).on("scroll",()=>{this.servicesContainer.forEach(r=>{let i=$(r.nativeElement);this.isScrolledIntoView(i)&&i.addClass("active")})}).trigger("scroll")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["services-section"]],viewQuery:function(i,s){if(i&1&&cn(AB,5),i&2){let o;Mt(o=Rt())&&(s.servicesContainer=o)}},standalone:!0,features:[re],decls:47,vars:0,consts:[["servicesContainer",""],[1,"section-50","section-sm-130"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-sm-6","cell-md-3","view-animate","fadeInUpBigger","delay-04"],[1,"box-icon","box-icon-variant-1"],[1,"icon-wrap"],[1,"icon","icon-lg","text-base","restaurant-icon-35","icon-xl"],[1,"box-icon-header"],[1,"divider-xs","bg-primary"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-sm-top-0","view-animate","fadeInUpBigger","delay-03"],[1,"icon","icon-lg","text-base","restaurant-icon-11","icon-xxl"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-md-top-0","view-animate","fadeInUpBigger","delay-02"],[1,"icon","icon-lg","text-base","restaurant-icon-20","icon-xxl"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-md-top-0","view-animate","fadeInUpBigger","delay-01"],[1,"icon","icon-lg","text-base","fa-trophy","icon-xxl"]],template:function(i,s){i&1&&(g(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4,0)(5,"article",5)(6,"div",6),A(7,"span",7),m(),g(8,"div",8)(9,"h5"),_(10,"Book a Party"),m()(),A(11,"hr",9),g(12,"p"),_(13,"You can reserve the whole bar for a special occassion."),m()()(),g(14,"div",10,0)(16,"article",5)(17,"div",6),A(18,"span",11),m(),g(19,"div",8)(20,"h5"),_(21,"Updated menu"),m()(),A(22,"hr",9),g(23,"p"),_(24,"We regularly update our menu so that you could experience more."),m()()(),g(25,"div",12,0)(27,"article",5)(28,"div",6),A(29,"span",13),m(),g(30,"div",8)(31,"h5"),_(32,"Drink Specials"),m()(),A(33,"hr",9),g(34,"p"),_(35,"Every week we offer our clients special offers from our brewers."),m()()(),g(36,"div",14,0)(38,"article",5)(39,"div",6),A(40,"span",15),m(),g(41,"div",8)(42,"h5"),_(43,"Tournaments"),m()(),A(44,"hr",9),g(45,"p"),_(46,"Come have fun and join our pool and poker tournaments"),m()()()()()())},encapsulation:2});let t=e;return t})();var MB=["paralaxContainer"],bD=(()=>{let e=class e{constructor(){this.userAgent=navigator.userAgent.toLowerCase(),this.initialDate=new Date,this.$document=$(document),this.$window=$(window),this.$html=$("html"),this.isDesktop=this.$html.hasClass("desktop"),this.isIE=this.userAgent.indexOf("msie")!=-1?parseInt(this.userAgent.split("msie")[1],10):this.userAgent.indexOf("trident")!=-1?11:this.userAgent.indexOf("edge")!=-1?12:!1,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.userAgent),this.isTouch="ontouchstart"in window}ngAfterViewInit(){$(this.paralaxContainer.nativeElement).find(".rd-parallax").length&&($.RDParallax(),!this.isIE&&!this.isMobile&&$(window).on("scroll",()=>{this.handleScroll()}),$("a[href='#'], a[href^='#']").on("click",r=>{setTimeout(()=>{this.handleResize()},300)}),$(window).on("resize",()=>{this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.handleResize()},300)}),this.handleScroll(),this.handleResize())}handleScroll(){$(this.paralaxContainer.nativeElement).find(".rd-parallax").each((r,i)=>{let s=$(i);this.isScrolledIntoView(s)&&s.find(".rd-parallax-inner").css("position","fixed")})}handleResize(){$(window).trigger("resize")}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.height()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-paralax"]],viewQuery:function(i,s){if(i&1&&cn(MB,5),i&2){let o;Mt(o=Rt())&&(s.paralaxContainer=o.first)}},standalone:!0,features:[re],decls:14,vars:0,consts:[["paralaxContainer",""],["id","parallaxContainer"],["data-on","false","data-md-on","true",1,"rd-parallax","rd-parallax-light"],["data-speed","0.35","data-type","media","data-url","assets/images/home-parallax-1.jpg",1,"rd-parallax-layer"],["data-speed","0","data-type","html",1,"rd-parallax-layer"],[1,"shell","text-center","section-80","section-sm-top-140","section-sm-bottom-150"],[1,"range","range-xs-center"],[1,"cell-sm-12","cell-lg-8"],[1,"text-uppercase","text-italic"],[1,"text-italic","divider-custom-small-primary"],[1,"offset-top-10"]],template:function(i,s){i&1&&(g(0,"section",1,0)(2,"div",2),A(3,"div",3),g(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),_(9,"Free Pool"),m(),g(10,"h4",9),_(11,"With Purchase of Alcoholic Beverage "),m(),g(12,"p",10),_(13,"Purchase any alcoholic beverage and unlock free access to our pool tables until 9PM."),m()()()()()()())},encapsulation:2});let t=e;return t})();var TD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-home"]],standalone:!0,features:[re],decls:5,vars:0,template:function(i,s){i&1&&A(0,"swiper-component")(1,"options-section")(2,"app-paralax")(3,"services-section")(4,"app-map")},dependencies:[wD,ID,pd,CD,bD]});let t=e;return t})();var RB=["counterWidgetContainer"],DD=(()=>{let e=class e{constructor(){}ngAfterViewInit(){this.initializeAnimations()}initializeAnimations(){$(document).ready(()=>{this.checkAndAnimateCounters(),$(window).on("scroll",()=>{this.checkAndAnimateCounters()})})}checkAndAnimateCounters(){this.counterWidgets.forEach(r=>{let i=$(r.nativeElement);if(!i.hasClass("animated")&&this.isScrolledIntoView(i)){let s=i.data("to");i.countTo({from:i.data("from")||0,to:s,speed:1e3,refreshInterval:40}),i.addClass("animated")}})}isScrolledIntoView(r){let i=$(window).scrollTop(),s=i+$(window).height(),o=r.offset().top;return o+r.outerHeight()<=s&&o>=i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["about-component"]],viewQuery:function(i,s){if(i&1&&cn(RB,5),i&2){let o;Mt(o=Rt())&&(s.counterWidgets=o)}},standalone:!0,features:[re],decls:45,vars:0,consts:[["counterWidgetContainer",""],[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"text-center","text-sm-left","section-50","section-sm-top-100","section-sm-bottom-205","section-with-angle","bg-black-haze"],[1,"shell"],[1,"range","range-xs-center","range-md-right"],[1,"cell-sm-10","cell-md-6"],[1,"font-default"],[1,"range","range-xs-center","offset-top-30","text-center"],[1,"cell-xs-6","cell-sm-4"],["data-from","0","data-to","10",1,"counter","text-primary"],[1,"counter-header"],["data-from","0","data-to","20",1,"counter","text-primary"],["data-from","0","data-to","7",1,"counter","text-primary"],["href","contact.html",1,"btn","btn-shape-circle","btn-primary-lighter","offset-top-40"]],template:function(i,s){i&1&&(g(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"p",5),_(5,"About Us"),m(),g(6,"ul",6)(7,"li")(8,"a",7),_(9,"Home"),m()(),g(10,"li",8),_(11,"About Us"),m()()()()()(),g(12,"section",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),_(17,"Welcome to Backstage Billiards"),m(),g(18,"p"),_(19,"Backstage Billiards on International Drive is your premier destination for a top-quality pool hall experience. Featuring expert staff, the best pool tables and equipment in the area, and a fun atmosphere, we're ready to make your visit unforgettable. Whether you're a pool enthusiast or looking for a vibrant social setting, we have something for everyone."),m(),g(20,"div",14)(21,"div",15)(22,"div",16,0),_(24,"10"),m(),g(25,"div",17)(26,"p"),_(27,"Top-Quality Pool Tables"),m()()(),g(28,"div",15)(29,"div",18,0),_(31,"20"),m(),g(32,"div",17)(33,"p"),_(34,"Years of Experience"),m()()(),g(35,"div",15)(36,"div",19,0),_(38,"7"),m(),g(39,"div",17)(40,"p"),_(41,"Days Open a Week"),m()()()(),g(42,"a",20),_(43,"Visit Us"),m()()()()(),A(44,"app-map"))},dependencies:[pd],encapsulation:2});let t=e;return t})();var SD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-menu"]],standalone:!0,features:[re],decls:158,vars:0,consts:[[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs-3"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"col-sm-12"],[1,"section-50","section-sm-100","col-sm-6"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-xs-12"],[1,"inset-lg-left-15","inset-lg-right-15"],[1,"menu-classic","bg-menu-7","menu-classic-single"],[1,"list-menu"],[1,"menu-item","h6"],[1,"price"],[1,"menu-item-desc"],["href","menu-single.html"],[1,"offset-top-50","offset-sm-top-100","text-center","divider-custom"],["href","#",1,"btn","btn-md","btn-shape-circle","btn-primary"]],template:function(i,s){i&1&&(g(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),_(5,"Menu"),m(),g(6,"ul",5)(7,"li")(8,"a",6),_(9,"Home"),m()(),g(10,"li",7),_(11,"Menu"),m()()()()()(),g(12,"section")(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),A(18,"div",13),g(19,"div",14)(20,"h4")(21,"a"),_(22,"Specialty Drinks and Shots"),m()(),g(23,"ul",15)(24,"li")(25,"div",16)(26,"span"),_(27,"Mojito"),m(),g(28,"span",17),_(29,"25.00"),m()(),g(30,"div",18)(31,"span"),_(32,"White sugar / White rum / Mint leaves / Lime"),m()()(),g(33,"li")(34,"div",16)(35,"span"),_(36,"Whiskey with Ice"),m(),g(37,"span",17),_(38,"15.90"),m()(),g(39,"div",18)(40,"span"),_(41,"Jack Daniel\u2019s / Jameson / Johnie Walker"),m()()(),g(42,"li")(43,"div",16)(44,"span"),_(45,"Draft Light Beer"),m(),g(46,"span",17),_(47,"7.90"),m()(),g(48,"div",18)(49,"span"),_(50,"Miller / Big Rock / Bud Light"),m()()(),g(51,"li")(52,"div",16)(53,"span"),_(54,"Orange Juice"),m(),g(55,"span",17),_(56,"23.90"),m()(),g(57,"div",18)(58,"span"),_(59,"Froze Fresh / Always Sweet / Lambeth Groves"),m()()(),g(60,"li")(61,"div",16)(62,"span"),_(63,"Strawberry Liqueur"),m(),g(64,"span",17),_(65,"23.90"),m()(),g(66,"div",18)(67,"span"),_(68,"Bols / Hiram Walker / DeKuyper"),m()()(),g(69,"li")(70,"div",16)(71,"span"),_(72,"German Pilsner Beer"),m(),g(73,"span",17),_(74,"15.90"),m()(),g(75,"div",18)(76,"span"),_(77,"Sixpoint / Trumer / Beck\u2019s"),m()()(),g(78,"li")(79,"div",16)(80,"span"),_(81,"Summer Love"),m(),g(82,"span",17),_(83,"7.90"),m()(),g(84,"div",18)(85,"span"),_(86,"Belgian Tripel Ale"),m()()(),g(87,"li")(88,"div",16)(89,"span"),_(90,"Fruit-Infused Beer"),m(),g(91,"span",17),_(92,"23.90"),m()(),g(93,"div",18)(94,"span"),_(95,"New Belgium / Founders / Ommegang"),m()()()()()()()()(),g(96,"div",9)(97,"div",10)(98,"div",11)(99,"div",12),A(100,"div",13),g(101,"div",14)(102,"h4")(103,"a",19),_(104,"Appetizers"),m()(),g(105,"ul",15)(106,"li")(107,"div",16)(108,"span"),_(109,"Mozzarella Sticks"),m(),g(110,"span",17),_(111,"6.20"),m()()(),g(112,"li")(113,"div",16)(114,"span"),_(115,"Crinkle Fries"),m(),g(116,"span",17),_(117,"5.75"),m()()(),g(118,"li")(119,"div",16)(120,"span"),_(121,"Tater Tots"),m(),g(122,"span",17),_(123,"5.85"),m()()(),g(124,"li")(125,"div",16)(126,"span"),_(127,"Five Wings"),m(),g(128,"span",17),_(129,"9.20"),m()()(),g(130,"li")(131,"div",16)(132,"span"),_(133,"Chicken Tenders"),m(),g(134,"span",17),_(135,"7.50"),m()()(),g(136,"li")(137,"div",16)(138,"span"),_(139,"Mini Corn Dogs"),m(),g(140,"span",17),_(141,"5.60"),m()()(),g(142,"li")(143,"div",16)(144,"span"),_(145,"Mac' n' Cheese Bites"),m(),g(146,"span",17),_(147,"6.00"),m()()(),g(148,"li")(149,"div",16)(150,"span"),_(151,"Onion Rings"),m(),g(152,"span",17),_(153,"6.00"),m()()()()()()(),g(154,"div",20)(155,"div")(156,"a",21),_(157,"download full menu"),m()()()()()()())},encapsulation:2});let t=e;return t})();var Xm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var b=function(t,e){if(!t)throw Pi(e)},Pi=function(t){return new Error("Firebase Database ("+Xm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var MD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},md={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new ey;let h=s<<2|a>>4;if(r.push(h),l!==64){let p=a<<4&240|l>>2;if(r.push(p),d!==64){let y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ey=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ny=function(t){let e=MD(t);return md.encodeByteArray(e,!0)},ic=function(t){return ny(t).replace(/\./g,"")},sc=function(t){try{return md.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RD(t){return xD(void 0,t)}function xD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!NB(n)||(t[n]=xD(t[n],e[n]));return t}function NB(t){return t!=="__proto__"}function PB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kB=()=>PB().__FIREBASE_DEFAULTS__,OB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&sc(t[1]);return e&&JSON.parse(e)},yd=()=>{try{return kB()||OB()||FB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ry=t=>{var e,n;return(n=(e=yd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},co=t=>{let e=ry(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iy=()=>{var t;return(t=yd())===null||t===void 0?void 0:t.config},sy=t=>{var e;return(e=yd())===null||e===void 0?void 0:e[`_${t}`]};var Ni=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function lo(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ic(JSON.stringify(n)),ic(JSON.stringify(o)),""].join(".")}function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function LB(){var t;let e=(t=yd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ac(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _d(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ND(){let t=Le();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Un(){return Xm.NODE_CLIENT===!0||Xm.NODE_ADMIN===!0}function PD(){return!LB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bn(){try{return typeof indexedDB=="object"}catch{return!1}}function ki(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function oy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var VB="FirebaseError",Be=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}},xt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Be(i,a,r)}};function UB(t,e){return t.replace(BB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var BB=/\{\$([^}]+)}/g;function ao(t){return JSON.parse(t)}function Xe(t){return JSON.stringify(t)}var kD=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=ao(sc(s[0])||""),n=ao(sc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var OD=function(t){let e=kD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},FD=function(t){let e=kD(t).claims;return typeof e=="object"&&e.admin===!0};function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Oi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function cc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lc(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function pr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(AD(s)&&AD(o)){if(!pr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function AD(t){return t!==null&&typeof t=="object"}function Fi(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var gd=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function LD(t,e){let n=new ty(t,e);return n.subscribe.bind(n)}var ty=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jm),i.error===void 0&&(i.error=Jm),i.complete===void 0&&(i.complete=Jm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function jB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jm(){}function VD(t,e){return`${t} failed: ${e} argument `}var UD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,b(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uc=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var $B=1e3,zB=2,HB=4*60*60*1e3,qB=.5;function dc(t,e=$B,n=zB){let r=e*Math.pow(n,t),i=Math.round(qB*r*(Math.random()-.5)*2);return Math.min(HB,r+i)}function be(t){return t&&t._delegate?t._delegate:t}var xe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Li="[DEFAULT]";var vd=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ni;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WB(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GB(t){return t===Li?void 0:t}function WB(t){return t.instantiationMode==="EAGER"}var hc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new vd(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var KB=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),QB={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},YB=Y.INFO,ZB={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},JB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ZB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jt=class{constructor(e){this.name=e,this._logLevel=YB,this._logHandler=JB,this._userLogHandler=null,KB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var XB=(t,e)=>e.some(n=>t instanceof n),BD,jD;function ej(){return BD||(BD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tj(){return jD||(jD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var $D=new WeakMap,cy=new WeakMap,zD=new WeakMap,ay=new WeakMap,uy=new WeakMap;function nj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($n(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$D.set(n,t)}).catch(()=>{}),uy.set(e,t),e}function rj(t){if(cy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cy.set(t,e)}var ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HD(t){ly=t(ly)}function ij(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(wd(this),e,...n);return zD.set(r,e.sort?e.sort():[e]),$n(r)}:tj().includes(t)?function(...e){return t.apply(wd(this),e),$n($D.get(this))}:function(...e){return $n(t.apply(wd(this),e))}}function sj(t){return typeof t=="function"?ij(t):(t instanceof IDBTransaction&&rj(t),XB(t,ej())?new Proxy(t,ly):t)}function $n(t){if(t instanceof IDBRequest)return nj(t);if(ay.has(t))return ay.get(t);let e=sj(t);return e!==t&&(ay.set(t,e),uy.set(e,t)),e}var wd=t=>uy.get(t);function Id(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=$n(o);return r&&o.addEventListener("upgradeneeded",c=>{r($n(o.result),c.oldVersion,c.newVersion,$n(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var oj=["get","getKey","getAll","getAllKeys","count"],aj=["put","add","delete","clear"],dy=new Map;function qD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=aj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oj.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return dy.set(e,s),s}HD(t=>de(S({},t),{get:(e,n,r)=>qD(e,n)||t.get(e,n,r),has:(e,n)=>!!qD(e,n)||t.has(e,n)}));var fy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function cj(t){let e=t.getComponent();return e?.type==="VERSION"}var py="@firebase/app",GD="0.9.29";var Vi=new jt("@firebase/app"),lj="@firebase/app-compat",uj="@firebase/analytics-compat",dj="@firebase/analytics",hj="@firebase/app-check-compat",fj="@firebase/app-check",pj="@firebase/auth",gj="@firebase/auth-compat",mj="@firebase/database",yj="@firebase/database-compat",_j="@firebase/functions",vj="@firebase/functions-compat",wj="@firebase/installations",Ij="@firebase/installations-compat",Ej="@firebase/messaging",Cj="@firebase/messaging-compat",bj="@firebase/performance",Tj="@firebase/performance-compat",Dj="@firebase/remote-config",Sj="@firebase/remote-config-compat",Aj="@firebase/storage",Mj="@firebase/storage-compat",Rj="@firebase/firestore",xj="@firebase/firestore-compat",Nj="firebase",Pj="10.9.0";var gy="[DEFAULT]",kj={[py]:"fire-core",[lj]:"fire-core-compat",[dj]:"fire-analytics",[uj]:"fire-analytics-compat",[fj]:"fire-app-check",[hj]:"fire-app-check-compat",[pj]:"fire-auth",[gj]:"fire-auth-compat",[mj]:"fire-rtdb",[yj]:"fire-rtdb-compat",[_j]:"fire-fn",[vj]:"fire-fn-compat",[wj]:"fire-iid",[Ij]:"fire-iid-compat",[Ej]:"fire-fcm",[Cj]:"fire-fcm-compat",[bj]:"fire-perf",[Tj]:"fire-perf-compat",[Dj]:"fire-rc",[Sj]:"fire-rc-compat",[Aj]:"fire-gcs",[Mj]:"fire-gcs-compat",[Rj]:"fire-fst",[xj]:"fire-fst-compat","fire-js":"fire-js",[Nj]:"fire-js-all"};var fc=new Map,my=new Map;function Oj(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $e(t){let e=t.name;if(my.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(let n of fc.values())Oj(n,t);return!0}function ct(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Fj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qr=new xt("app","Firebase",Fj);var yy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}};var $t=Pj;function wy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:gy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(n||(n=iy()),!n)throw Qr.create("no-options");let s=fc.get(i);if(s){if(pr(n,s.options)&&pr(r,s.config))return s;throw Qr.create("duplicate-app",{appName:i})}let o=new hc(i);for(let c of my.values())o.addComponent(c);let a=new yy(n,r,o);return fc.set(i,a),a}function Nt(t=gy){let e=fc.get(t);if(!e&&t===gy&&iy())return wy();if(!e)throw Qr.create("no-app",{appName:t});return e}function Ed(){return Array.from(fc.values())}function B(t,e,n){var r;let i=(r=kj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}$e(new xe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Lj="firebase-heartbeat-database",Vj=1,pc="firebase-heartbeat-store",hy=null;function YD(){return hy||(hy=Id(Lj,Vj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),hy}function Uj(t){return f(this,null,function*(){try{let n=(yield YD()).transaction(pc),r=yield n.objectStore(pc).get(ZD(t));return yield n.done,r}catch(e){if(e instanceof Be)Vi.warn(e.message);else{let n=Qr.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(n.message)}}})}function WD(t,e){return f(this,null,function*(){try{let r=(yield YD()).transaction(pc,"readwrite");yield r.objectStore(pc).put(e,ZD(t)),yield r.done}catch(n){if(n instanceof Be)Vi.warn(n.message);else{let r=Qr.create("idb-set",{originalErrorMessage:n?.message});Vi.warn(r.message)}}})}function ZD(t){return`${t.name}!${t.options.appId}`}var Bj=1024,jj=30*24*60*60*1e3,_y=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new vy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=jj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=KD(),{heartbeatsToSend:r,unsentEntries:i}=$j(this._heartbeatsCache.heartbeats),s=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function KD(){return new Date().toISOString().substring(0,10)}function $j(t,e=Bj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),QD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var vy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Bn()?ki().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Uj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function QD(t){return ic(JSON.stringify({version:2,heartbeats:t})).length}function zj(t){$e(new xe("platform-logger",e=>new fy(e),"PRIVATE")),$e(new xe("heartbeat",e=>new _y(e),"PRIVATE")),B(py,GD,t),B(py,GD,"esm2017"),B("fire-js","")}zj("");var Hj="firebase",qj="10.9.0";B(Hj,qj,"app");var lt=new or("ANGULARFIRE2_VERSION"),bd=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function dn(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Jt=(t,e)=>{let n=e?[e]:Ed(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},zn=class{constructor(){return Jt(Gj)}},Gj="app-check";function uo(){}var Cd=class{zone;delegate;constructor(e,n=Jf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Iy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo)),n.pipe(Ge({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},zt=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Cd(Zone.current)),this.insideAngular=n.run(()=>new Cd(Zone.current,Zf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(N(z))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Td(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Wj(t){return Td().ngZone.runOutsideAngular(()=>t())}function Ui(t){return Td().ngZone.run(()=>t())}function Kj(t){return Qj(Td())(t)}function Qj(t){return function(n){return n=n.lift(new Iy(t.ngZone)),n.pipe(Mr(t.outsideAngular),Ar(t.insideAngular))}}var Yj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ui(()=>t.apply(void 0,r))},We=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ui(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo))),r[s]=Yj(r[s],n));let i=Wj(()=>t.apply(this,r));if(!e)if(i instanceof X){let s=Td();return i.pipe(Mr(s.outsideAngular),Ar(s.insideAngular))}else return Ui(()=>i);return i instanceof X?i.pipe(Kj):i instanceof Promise?Ui(()=>new Promise((s,o)=>i.then(a=>Ui(()=>s(a)),a=>Ui(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ui(()=>i)};var ut=class{constructor(e){return e}},Pt=class{constructor(){return Ed()}};function Zj(t){return t&&t.length===1?t[0]:new ut(Nt())}var Ey=new x("angularfire2._apps"),Jj={provide:ut,useFactory:Zj,deps:[[new ge,Ey]]},Xj={provide:Pt,deps:[[new ge,Ey]]};function e$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ut(r)}}var t$=(()=>{class t{constructor(n){B("angularfire",lt.full,"core"),B("angularfire",lt.full,"app"),B("angular",tT.full,n.toString())}static \u0275fac=function(r){return new(r||t)(N(Fn))};static \u0275mod=Pe({type:t});static \u0275inj=Ne({providers:[Jj,Xj]})}return t})();function JD(t,...e){return{ngModule:t$,providers:[{provide:Ey,useFactory:e$(t),multi:!0,deps:[z,Ce,zt,...e]}]}}var XD=We(wy,!0);function fS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pS=fS,gS=new xt("auth","Firebase",fS());var xd=new jt("@firebase/auth");function n$(t,...e){xd.logLevel<=Y.WARN&&xd.warn(`Auth (${$t}): ${t}`,...e)}function Sd(t,...e){xd.logLevel<=Y.ERROR&&xd.error(`Auth (${$t}): ${t}`,...e)}function Zr(t,...e){throw $y(t,...e)}function Bi(t,...e){return $y(t,...e)}function r$(t,e,n){let r=Object.assign(Object.assign({},pS()),{[e]:n});return new xt("auth","Firebase",r).create(e,{appName:t.name})}function $y(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gS.create(t,...e)}function H(t,e,...n){if(!t)throw $y(e,...n)}function gr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Sd(e),new Error(e)}function Jr(t,e){t||gr(e)}function Dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function i$(){return eS()==="http:"||eS()==="https:"}function eS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function s$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i$()||ac()||"connection"in navigator)?navigator.onLine:!0}function o$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ji=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=oc()||_d()}get(){return s$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zy(t,e){Jr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Nd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var a$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var c$=new ji(3e4,6e4);function Hy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ho(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return mS(t,i,()=>f(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Fi(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Nd.fetch()(yS(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function mS(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},a$),e);try{let i=new Sy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Dd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Dd(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw r$(t,u,l);Zr(t,u)}}catch(i){if(i instanceof Be)throw i;Zr(t,"network-request-failed",{message:String(i)})}})}function l$(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let l=yield ho(t,e,n,r,i);return"mfaPendingCredential"in l&&Zr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function yS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?zy(t.config,i):`${t.config.apiScheme}://${i}`}var Sy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),c$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Dd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Bi(t,e,r);return i.customData._tokenResponse=n,i}function u$(t,e){return f(this,null,function*(){return ho(t,"POST","/v1/accounts:delete",e)})}function d$(t,e){return f(this,null,function*(){return ho(t,"POST","/v1/accounts:lookup",e)})}function gc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qy(t,e=!1){return f(this,null,function*(){let n=be(t),r=yield n.getIdToken(e),i=Gy(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:gc(Cy(i.auth_time)),issuedAtTime:gc(Cy(i.iat)),expirationTime:gc(Cy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Cy(t){return Number(t)*1e3}function Gy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{let i=sc(n);return i?JSON.parse(i):(Sd("Failed to decode base64 JWT payload"),null)}catch(i){return Sd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function h$(t){let e=Gy(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function mc(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Be&&f$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function f$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ay=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Pd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function kd(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield mc(t,d$(n,{idToken:r}));H(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?g$(s.providerUserInfo):[],a=p$(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pd(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Wy(t){return f(this,null,function*(){let e=be(t);yield kd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function p$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function g$(t){return t.map(e=>{var{providerId:n}=e,r=Xf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function m$(t,e){return f(this,null,function*(){let n=yield mS(t,{},()=>f(this,null,function*(){let r=Fi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function y$(t,e){return f(this,null,function*(){return ho(t,"POST","/v2/accounts:revokeToken",Hy(t,e))})}var Od=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return f(this,null,function*(){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield m$(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return gr("not implemented")}};function Yr(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var yc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ay(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pd(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield mc(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return qy(this,e)}reload(){return Wy(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield kd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){let e=yield this.getIdToken();return yield mc(this,u$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(l=n.createdAt)!==null&&l!==void 0?l:void 0,V=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:G,emailVerified:M,isAnonymous:ie,providerData:W,stsTokenManager:fe}=n;H(G&&fe,e,"internal-error");let Me=Od.fromJSON(this.name,fe);H(typeof G=="string",e,"internal-error"),Yr(d,e.name),Yr(h,e.name),H(typeof M=="boolean",e,"internal-error"),H(typeof ie=="boolean",e,"internal-error"),Yr(p,e.name),Yr(y,e.name),Yr(v,e.name),Yr(w,e.name),Yr(T,e.name),Yr(V,e.name);let Qe=new t({uid:G,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:ie,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:Me,createdAt:T,lastLoginAt:V});return W&&Array.isArray(W)&&(Qe.providerData=W.map(mn=>Object.assign({},mn))),w&&(Qe._redirectEventId=w),Qe}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Od;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kd(s),s})}};var tS=new Map;function mr(t){Jr(t instanceof Function,"Expected a class definition");let e=tS.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tS.set(t,e),e)}var _$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),My=_$;function Ad(t,e,n){return`firebase:${t}:${e}:${n}`}var Fd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ad(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ad("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?yc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(mr(My),e,r);let i=(yield Promise.all(n.map(l=>f(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||mr(My),o=Ad(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=yc._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>f(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function nS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_S(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ES(e))return"Blackberry";if(CS(e))return"Webos";if(Ky(e))return"Safari";if((e.includes("chrome/")||vS(e))&&!e.includes("edge/"))return"Chrome";if(IS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _S(t=Le()){return/firefox\//i.test(t)}function Ky(t=Le()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vS(t=Le()){return/crios\//i.test(t)}function wS(t=Le()){return/iemobile/i.test(t)}function IS(t=Le()){return/android/i.test(t)}function ES(t=Le()){return/blackberry/i.test(t)}function CS(t=Le()){return/webos/i.test(t)}function Hd(t=Le()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v$(t=Le()){var e;return Hd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w$(){return ND()&&document.documentMode===10}function bS(t=Le()){return Hd(t)||IS(t)||CS(t)||ES(t)||/windows phone/i.test(t)||wS(t)}function I$(){try{return!!(window&&window!==window.top)}catch{return!1}}function TS(t,e=[]){let n;switch(t){case"Browser":n=nS(Le());break;case"Worker":n=`${nS(Le())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$t}/${r}`}var Ry=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function E$(n){return f(this,arguments,function*(t,e={}){return ho(t,"GET","/v2/passwordPolicy",Hy(t,e))})}var C$=6,xy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:C$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ny=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ld(this),this.idTokenSubscription=new Ld(this),this.beforeStateQueue=new Ry(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Fd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield kd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=o$()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){let n=e?be(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield E$(this),n=new xy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield y$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&mr(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=yield Fd.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&n$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Qy(t){return be(t)}var Ld=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Yy={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b$(t){Yy=t}function T$(t){return Yy.loadJS(t)}function D$(){return Yy.gapiScript}function DS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Zy(t,e){let n=ct(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(pr(s,e??{}))return i;Zr(i,"already-initialized")}return n.initialize({options:e})}function S$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(mr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Jy(t,e,n){let r=Qy(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=SS(e),{host:o,port:a}=A$(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||M$()}function SS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A$(t){let e=SS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:rS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:rS(o)}}}function rS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function M$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Vd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}};function by(t,e){return f(this,null,function*(){return l$(t,"POST","/v1/accounts:signInWithIdp",Hy(t,e))})}var Ud=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Py=class extends Ud{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var _c=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield yc._fromIdTokenResponse(e,r,i),o=iS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=iS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function iS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ky=class t extends Be{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function AS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ky._fromErrorAndOperation(t,s,e,r):s})}function R$(t,e,n=!1){return f(this,null,function*(){let r=yield mc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return _c._forOperation(t,"link",r)})}function x$(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield mc(t,AS(r,i,e,t),n);H(s.idToken,r,"internal-error");let o=Gy(s.idToken);H(o,r,"internal-error");let{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),_c._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Zr(r,"user-mismatch"),s}})}function N$(t,e,n=!1){return f(this,null,function*(){let r="signIn",i=yield AS(t,r,e),s=yield _c._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function qd(t,e,n,r){return be(t).onIdTokenChanged(e,n,r)}function Xy(t,e,n){return be(t).beforeAuthStateChanged(e,n)}function Gd(t,e,n,r){return be(t).onAuthStateChanged(e,n,r)}var Bd="__sak";var jd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function P$(){let t=Le();return Ky(t)||Hd(t)}var k$=1e3,O$=10,F$=(()=>{class t extends jd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=P$()&&I$(),this.fallbackToPolling=bS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);w$()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,O$):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},k$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Dr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Dr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Dr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),MS=F$;var L$=(()=>{class t extends jd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),e_=L$;function V$(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var U$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>f(this,null,function*(){return u(r.origin,o)})),l=yield V$(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function RS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Oy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=RS("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Hn(){return window}function B$(t){Hn().location.href=t}function xS(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}function j$(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function $$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function z$(){return xS()?self:null}var NS="firebaseLocalStorageDb",H$=1,$d="firebaseLocalStorage",PS="fbase_key",$i=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Wd(t,e){return t.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function q$(){let t=indexedDB.deleteDatabase(NS);return new $i(t).toPromise()}function Fy(){let t=indexedDB.open(NS,H$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore($d,{keyPath:PS})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains($d)?e(r):(r.close(),yield q$(),e(yield Fy()))}))})}function sS(t,e,n){return f(this,null,function*(){let r=Wd(t,!0).put({[PS]:e,value:n});return new $i(r).toPromise()})}function G$(t,e){return f(this,null,function*(){let n=Wd(t,!1).get(e),r=yield new $i(n).toPromise();return r===void 0?null:r.value})}function oS(t,e){let n=Wd(t,!0).delete(e);return new $i(n).toPromise()}var W$=800,K$=3,Q$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield Fy(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>K$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return xS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=U$._getInstance(z$()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield j$(),!this.activeServiceWorker)return;this.sender=new Oy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||$$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Fy();return yield sS(n,Bd,"1"),yield oS(n,Bd),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>sS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>G$(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>oS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=Wd(s,!1).getAll();return new $i(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),W$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),kS=Q$;var tte=DS("rcb"),nte=new ji(3e4,6e4);function Y$(t,e){return e?mr(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var vc=class extends Vd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return by(e,this._buildIdpRequest())}_linkToIdToken(e,n){return by(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return by(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Z$(t){return N$(t.auth,new vc(t),t.bypassAuthState)}function J$(t){let{auth:e,user:n}=t;return H(n,e,"internal-error"),x$(n,new vc(t),t.bypassAuthState)}function X$(t){return f(this,null,function*(){let{auth:e,user:n}=t;return H(n,e,"internal-error"),R$(n,new vc(t),t.bypassAuthState)})}var Ly=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z$;case"linkViaPopup":case"linkViaRedirect":return X$;case"reauthViaPopup":case"reauthViaRedirect":return J$;default:Zr(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var rte=new ji(2e3,1e4);var ez="pendingRedirect",Md=new Map,Vy=class t extends Ly{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Md.get(this.auth._key());if(!e){try{let r=(yield tz(this.resolver,this.auth))?yield Dr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Dr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Dr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function tz(t,e){return f(this,null,function*(){let n=iz(e),r=rz(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function nz(t,e){Md.set(t._key(),e)}function rz(t){return mr(t._redirectPersistence)}function iz(t){return Ad(ez,t.config.apiKey,t.name)}function sz(t,e,n=!1){return f(this,null,function*(){let r=Qy(t),i=Y$(r,e),o=yield new Vy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var oz=10*60*1e3,Uy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!az(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oz&&this.cachedEventUids.clear(),this.cachedEventUids.has(aS(e))}saveEventToCache(e){this.cachedEventUids.add(aS(e)),this.lastProcessedEventTime=Date.now()}};function aS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function az(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OS(t);default:return!1}}function cz(n){return f(this,arguments,function*(t,e={}){return ho(t,"GET","/v1/projects",e)})}var lz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uz=/^https?/;function dz(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield cz(t);for(let n of e)try{if(hz(n))return}catch{}Zr(t,"unauthorized-domain")})}function hz(t){let e=Dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uz.test(n))return!1;if(lz.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var fz=new ji(3e4,6e4);function cS(){let t=Hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pz(t){return new Promise((e,n)=>{var r,i,s;function o(){cS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cS(),n(Bi(t,"network-request-failed"))},timeout:fz.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hn().gapi)===null||s===void 0)&&s.load)o();else{let a=DS("iframefcb");return Hn()[a]=()=>{gapi.load?o():n(Bi(t,"network-request-failed"))},T$(`${D$()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Rd=null,e})}var Rd=null;function gz(t){return Rd=Rd||pz(t),Rd}var mz=new ji(5e3,15e3),yz="__/auth/iframe",_z="emulator/auth/iframe",vz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iz(t){let e=t.config;H(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?zy(e,_z):`https://${t.config.authDomain}/${yz}`,r={apiKey:e.apiKey,appName:t.name,v:$t},i=wz.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fi(r).slice(1)}`}function Ez(t){return f(this,null,function*(){let e=yield gz(t),n=Hn().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:Iz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vz,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Bi(t,"network-request-failed"),a=Hn().setTimeout(()=>{s(o)},mz.get());function c(){Hn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Cz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bz=500,Tz=600,Dz="_blank",Sz="http://localhost",zd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Az(t,e,n,r=bz,i=Tz){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Cz),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Le().toLowerCase();n&&(a=vS(l)?Dz:n),_S(l)&&(e=e||Sz,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(v$(l)&&a!=="_self")return Mz(e||"",a),new zd(null);let d=window.open(e||"",a,u);H(d,t,"popup-blocked");try{d.focus()}catch{}return new zd(d)}function Mz(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Rz="__/auth/handler",xz="emulator/auth/handler",Nz=encodeURIComponent("fac");function lS(t,e,n,r,i,s){return f(this,null,function*(){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$t,eventId:i};if(e instanceof Ud){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Py){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${Nz}=${encodeURIComponent(c)}`:"";return`${Pz(t)}?${Fi(a).slice(1)}${l}`})}function Pz({config:t}){return t.emulator?zy(t,xz):`https://${t.authDomain}/${Rz}`}var Ty="webStorageSupport",By=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e_,this._completeRedirectFn=sz,this._overrideRedirectResult=nz}_openPopup(e,n,r,i){return f(this,null,function*(){var s;Jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield lS(e,n,r,Dy(),i);return Az(e,o,RS())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield lS(e,n,r,Dy(),i);return B$(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield Ez(e),r=new Uy(e);return n.register("authEvent",i=>(H(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ty,{type:Ty},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Ty];o!==void 0&&n(!!o),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bS()||Ky()||Hd()}},FS=By;var uS="@firebase/auth",dS="1.6.2";var jy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Oz(t){$e(new xe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TS(t)},l=new Ny(r,i,s,c);return S$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$e(new xe("auth-internal",e=>{let n=Qy(e.getProvider("auth").getImmediate());return(r=>new jy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),B(uS,dS,kz(t)),B(uS,dS,"esm2017")}var Fz=5*60,Lz=sy("authIdTokenMaxAge")||Fz,hS=null,Vz=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lz)return;let i=n?.token;hS!==i&&(hS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function t_(t=Nt()){let e=ct(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Zy(t,{popupRedirectResolver:FS,persistence:[kS,MS,e_]}),r=sy("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){let s=Vz(r);Xy(n,s,()=>s(n.currentUser)),qd(n,o=>s(o))}let i=ry("auth");return i&&Jy(n,`http://${i}`),n}function Uz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Bi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Uz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Oz("Browser");function VS(t){return new X(function(e){var n=Gd(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var US="auth",zi=class{constructor(e){return e}},yr=class{constructor(){return Jt(US)}};var n_=new x("angularfire2.auth-instances");function xH(t,e){let n=dn(US,t,e);return n&&new zi(n)}function NH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zi(r)}}var PH={provide:yr,deps:[[new ge,n_]]},kH={provide:zi,useFactory:xH,deps:[[new ge,n_],ut]},OH=(()=>{class t{constructor(){B("angularfire",lt.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Pe({type:t});static \u0275inj=Ne({providers:[kH,PH]})}return t})();function BS(t,...e){return{ngModule:OH,providers:[{provide:n_,useFactory:NH(t),multi:!0,deps:[z,Ce,zt,Pt,[new ge,zn],...e]}]}}var jS=We(VS,!0);var $S=We(t_,!0);var LH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bn={},D,b_=b_||{},U=LH||self;function ah(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VH(t){return Object.prototype.hasOwnProperty.call(t,r_)&&t[r_]||(t[r_]=++UH)}var r_="closure_uid_"+(1e9*Math.random()>>>0),UH=0;function BH(t,e,n){return t.call.apply(t.bind,arguments)}function jH(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pt=BH:pt=jH,pt.apply(null,arguments)}function Kd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Xr(){this.s=this.s,this.o=this.o}var $H=0;Xr.prototype.s=!1;Xr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$H!=0)&&VH(this)};Xr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function T_(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zS(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(ah(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var zH=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};U.addEventListener("test",n,e),U.removeEventListener("test",n,e)}catch{}return t}();function Tc(t){return/^[\s\xa0]*$/.test(t)}function ch(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function qn(t){return ch().indexOf(t)!=-1}function D_(t){return D_[" "](t),t}D_[" "]=function(){};function HH(t,e){var n=N4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var qH=qn("Opera"),mo=qn("Trident")||qn("MSIE"),nA=qn("Edge"),c_=nA||mo,rA=qn("Gecko")&&!(ch().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),GH=ch().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge");function iA(){var t=U.document;return t?t.documentMode:void 0}var l_;e:{if(Qd="",Yd=function(){var t=ch();if(rA)return/rv:([^\);]+)(\)|;)/.exec(t);if(nA)return/Edge\/([\d\.]+)/.exec(t);if(mo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(GH)return/WebKit\/(\S+)/.exec(t);if(qH)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Yd&&(Qd=Yd?Yd[1]:""),mo&&(Zd=iA(),Zd!=null&&Zd>parseFloat(Qd))){l_=String(Zd);break e}l_=Qd}var Qd,Yd,Zd,u_;U.document&&mo?(i_=iA(),u_=i_||parseInt(l_,10)||void 0):u_=void 0;var i_,WH=u_;function Dc(t,e){if(gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rA){e:{try{D_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:KH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dc.$.h.call(this)}}tt(Dc,gt);var KH={2:"touch",3:"pen",4:"mouse"};Dc.prototype.h=function(){Dc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kc="closure_listenable_"+(1e6*Math.random()|0),QH=0;function YH(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++QH,this.fa=this.ia=!1}function lh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function S_(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function ZH(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function sA(t){let e={};for(let n in t)e[n]=t[n];return e}var HS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<HS.length;s++)n=HS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function uh(t){this.src=t,this.g={},this.h=0}uh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=h_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new YH(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function d_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=tA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(lh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function h_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var A_="closure_lm_"+(1e6*Math.random()|0),s_={};function aA(t,e,n,r,i){if(r&&r.once)return lA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)aA(t,e[s],n,r,i);return null}return n=x_(n),t&&t[kc]?t.O(e,n,Pc(r)?!!r.capture:!!r,i):cA(t,e,n,!1,r,i)}function cA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pc(i)?!!i.capture:!!i,a=R_(t);if(a||(t[A_]=a=new uh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=JH(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zH||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JH(){function t(n){return e.call(t.src,t.listener,n)}let e=XH;return t}function lA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lA(t,e[s],n,r,i);return null}return n=x_(n),t&&t[kc]?t.P(e,n,Pc(r)?!!r.capture:!!r,i):cA(t,e,n,!0,r,i)}function uA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uA(t,e[s],n,r,i);else r=Pc(r)?!!r.capture:!!r,n=x_(n),t&&t[kc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=h_(s,n,r,i),-1<n&&(lh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=R_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=h_(e,n,r,i)),(n=-1<t?e[t]:null)&&M_(n))}function M_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[kc])d_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=R_(e))?(d_(n,t),n.h==0&&(n.src=null,e[A_]=null)):lh(t)}}}function dA(t){return t in s_?s_[t]:s_[t]="on"+t}function XH(t,e){if(t.fa)t=!0;else{e=new Dc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&M_(t),t=n.call(r,e)}return t}function R_(t){return t=t[A_],t instanceof uh?t:null}var o_="__closure_events_fn_"+(1e9*Math.random()>>>0);function x_(t){return typeof t=="function"?t:(t[o_]||(t[o_]=function(e){return t.handleEvent(e)}),t[o_])}function et(){Xr.call(this),this.i=new uh(this),this.S=this,this.J=null}tt(et,Xr);et.prototype[kc]=!0;et.prototype.removeEventListener=function(t,e,n,r){uA(this,t,e,n,r)};function ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new gt(e,t);else if(e instanceof gt)e.target=e.target||t;else{var i=e;e=new gt(r,t),oA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Jd(o,r,!0,e)&&i}if(o=e.g=t,i=Jd(o,r,!0,e)&&i,i=Jd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Jd(o,r,!1,e)&&i}et.prototype.N=function(){if(et.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lh(n[r]);delete t.g[e],t.h--}}this.J=null};et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};et.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Jd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&d_(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var N_=U.JSON.stringify,f_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function e4(){var t=P_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var p_=class{constructor(){this.h=this.g=null}add(e,n){let r=hA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},hA=new f_(()=>new g_,t=>t.reset()),g_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function t4(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function n4(t){U.setTimeout(()=>{throw t},0)}var Sc,Ac=!1,P_=new p_,fA=()=>{let t=U.Promise.resolve(void 0);Sc=()=>{t.then(r4)}},r4=()=>{for(var t;t=e4();){try{t.h.call(t.g)}catch(n){n4(n)}var e=hA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ac=!1};function dh(t,e){et.call(this),this.h=t||1,this.g=e||U,this.j=pt(this.qb,this),this.l=Date.now()}tt(dh,et);D=dh.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(k_(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function k_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}D.N=function(){dh.$.N.call(this),k_(this),delete this.g};function O_(t,e,n){if(typeof t=="function")n&&(t=pt(t,n));else if(t&&typeof t.handleEvent=="function")t=pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function pA(t){t.g=O_(()=>{t.g=null,t.i&&(t.i=!1,pA(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var m_=class extends Xr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pA(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Mc(t){Xr.call(this),this.h=t,this.g={}}tt(Mc,Xr);var qS=[];function gA(t,e,n,r){Array.isArray(n)||(n&&(qS[0]=n.toString()),n=qS);for(var i=0;i<n.length;i++){var s=aA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function mA(t){S_(t.g,function(e,n){this.g.hasOwnProperty(n)&&M_(e)},t),t.g={}}Mc.prototype.N=function(){Mc.$.N.call(this),mA(this)};Mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hh(){this.g=!0}hh.prototype.Ea=function(){this.g=!1};function i4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function s4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function po(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+a4(t,n)+(r?" "+r:"")})}function o4(t,e){t.info(function(){return"TIMEOUT: "+e})}hh.prototype.info=function(){};function a4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return N_(n)}catch{return e}}var Wi={},GS=null;function fh(){return GS=GS||new et}Wi.Ta="serverreachability";function yA(t){gt.call(this,Wi.Ta,t)}tt(yA,gt);function Rc(t){let e=fh();ht(e,new yA(e))}Wi.STAT_EVENT="statevent";function _A(t,e){gt.call(this,Wi.STAT_EVENT,t),this.stat=e}tt(_A,gt);function kt(t){let e=fh();ht(e,new _A(e,t))}Wi.Ua="timingevent";function vA(t,e){gt.call(this,Wi.Ua,t),this.size=e}tt(vA,gt);function Oc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var ph={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function F_(){}F_.prototype.h=null;function WS(t){return t.h||(t.h=t.i())}function IA(){}var Fc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function L_(){gt.call(this,"d")}tt(L_,gt);function V_(){gt.call(this,"c")}tt(V_,gt);var y_;function gh(){}tt(gh,F_);gh.prototype.g=function(){return new XMLHttpRequest};gh.prototype.i=function(){return{}};y_=new gh;function Lc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Mc(this),this.P=c4,t=c_?125:void 0,this.V=new dh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EA}function EA(){this.i=null,this.g="",this.h=!1}var c4=45e3,CA={},__={};D=Lc.prototype;D.setTimeout=function(t){this.P=t};function v_(t,e,n){t.L=1,t.A=yh(vr(e)),t.u=n,t.S=!0,bA(t,null)}function bA(t,e){t.G=Date.now(),Vc(t),t.B=vr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),NA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new EA,t.g=XA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new m_(pt(t.Pa,t,t.g),t.O)),gA(t.U,t.g,"readystatechange",t.nb),e=t.I?sA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Rc(),i4(t.j,t.v,t.B,t.m,t.W,t.u)}D.nb=function(t){t=t.target;let e=this.M;e&&Gn(t)==3?e.l():this.Pa(t)};D.Pa=function(t){try{if(t==this.g)e:{let u=Gn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||c_||this.g&&(this.h.h||this.g.ja()||ZS(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Rc(3):Rc(2)),mh(this);var n=this.g.da();this.ca=n;t:if(TA(this)){var r=ZS(this.g);t="";var i=r.length,s=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hi(this),bc(this);var o="";break t}this.h.i=new U.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,s4(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tc(a)){var l=a;break t}}l=null}if(n=l)po(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,w_(this,n);else{this.i=!1,this.s=3,kt(12),Hi(this),bc(this);break e}}this.S?(DA(this,u,o),c_&&this.i&&u==3&&(gA(this.U,this.V,"tick",this.mb),this.V.start())):(po(this.j,this.m,o,null),w_(this,o)),u==4&&Hi(this),this.i&&!this.J&&(u==4?QA(this.l,this):(this.i=!1,Vc(this)))}else M4(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Hi(this),bc(this)}}}catch{}finally{}};function TA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function DA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=l4(t,n),i==__){e==4&&(t.s=4,kt(14),r=!1),po(t.j,t.m,null,"[Incomplete Response]");break}else if(i==CA){t.s=4,kt(15),po(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else po(t.j,t.m,i,null),w_(t,i);TA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,kt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),H_(e),e.M=!0,kt(11))):(po(t.j,t.m,n,"[Invalid Chunked Response]"),Hi(t),bc(t))}D.mb=function(){if(this.g){var t=Gn(this.g),e=this.g.ja();this.o<e.length&&(mh(this),DA(this,t,e),this.i&&t!=4&&Vc(this))}};function l4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?__:(n=Number(e.substring(n,r)),isNaN(n)?CA:(r+=1,r+n>e.length?__:(e=e.slice(r,r+n),t.o=r+n,e)))}D.cancel=function(){this.J=!0,Hi(this)};function Vc(t){t.Y=Date.now()+t.P,SA(t,t.P)}function SA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Oc(pt(t.lb,t),e)}function mh(t){t.C&&(U.clearTimeout(t.C),t.C=null)}D.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(o4(this.j,this.B),this.L!=2&&(Rc(),kt(17)),Hi(this),this.s=2,bc(this)):SA(this,this.Y-t)};function bc(t){t.l.H==0||t.J||QA(t.l,t)}function Hi(t){mh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,k_(t.V),mA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function w_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||I_(n.i,t))){if(!t.K&&I_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rh(n),wh(n);else break e;z_(n),kt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Oc(pt(n.ib,n),6e3));if(1>=OA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qi(n,11)}else if((t.K||n.g==t)&&rh(n),!Tc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(U_(s,s.h),s.h=null))}if(r.F){let v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,De(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=JA(r,r.J?r.pa:null,r.Y),o.K){FA(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(mh(a),Vc(a)),r.g=o}else WA(r);0<n.j.length&&Ih(n)}else l[0]!="stop"&&l[0]!="close"||qi(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?qi(n,7):$_(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Rc(4)}catch{}}function u4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ah(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function d4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ah(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function AA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ah(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=d4(t),r=u4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var MA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Gi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gi){this.h=t.h,th(this,t.j),this.s=t.s,this.g=t.g,nh(this,t.m),this.l=t.l;var e=t.i,n=new xc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),KS(this,n),this.o=t.o}else t&&(e=String(t).match(MA))?(this.h=!1,th(this,e[1]||"",!0),this.s=Ec(e[2]||""),this.g=Ec(e[3]||"",!0),nh(this,e[4]),this.l=Ec(e[5]||"",!0),KS(this,e[6]||"",!0),this.o=Ec(e[7]||"")):(this.h=!1,this.i=new xc(null,this.h))}Gi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cc(e,QS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cc(e,QS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cc(n,n.charAt(0)=="/"?g4:p4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cc(n,y4)),t.join("")};function vr(t){return new Gi(t)}function th(t,e,n){t.j=n?Ec(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KS(t,e,n){e instanceof xc?(t.i=e,_4(t.i,t.h)):(n||(e=Cc(e,m4)),t.i=new xc(e,t.h))}function De(t,e,n){t.i.set(e,n)}function yh(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ec(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,f4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function f4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var QS=/[#\/\?@]/g,p4=/[#\?:]/g,g4=/[#\?]/g,m4=/[#\?@]/g,y4=/#/g;function xc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ei(t){t.g||(t.g=new Map,t.h=0,t.i&&h4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}D=xc.prototype;D.add=function(t,e){ei(this),this.i=null,t=yo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function RA(t,e){ei(t),e=yo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xA(t,e){return ei(t),e=yo(t,e),t.g.has(e)}D.forEach=function(t,e){ei(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};D.ta=function(){ei(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};D.Z=function(t){ei(this);let e=[];if(typeof t=="string")xA(this,t)&&(e=e.concat(this.g.get(yo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};D.set=function(t,e){return ei(this),this.i=null,t=yo(this,t),xA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};D.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function NA(t,e,n){RA(t,e),0<n.length&&(t.i=null,t.g.set(yo(t,e),T_(n)),t.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function yo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _4(t,e){e&&!t.j&&(ei(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(RA(this,r),NA(this,i,n))},t)),t.j=e}var v4=class{constructor(t,e){this.g=t,this.map=e}};function PA(t){this.l=t||w4,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var w4=10;function kA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function OA(t){return t.h?1:t.g?t.g.size:0}function I_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function U_(t,e){t.g?t.g.add(e):t.h=e}function FA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}PA.prototype.cancel=function(){if(this.i=LA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function LA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return T_(t.i)}var I4=class{stringify(t){return U.JSON.stringify(t,void 0)}parse(t){return U.JSON.parse(t,void 0)}};function E4(){this.g=new I4}function C4(t,e,n){let r=n||"";try{AA(t,function(i,s){let o=i;Pc(i)&&(o=N_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function b4(t,e){let n=new hh;if(U.Image){let r=new Image;r.onload=Kd(Xd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Kd(Xd,n,r,"TestLoadImage: error",!1,e),r.onabort=Kd(Xd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kd(Xd,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Uc(t){this.l=t.ec||null,this.j=t.ob||!1}tt(Uc,F_);Uc.prototype.g=function(){return new _h(this.l,this.j)};Uc.prototype.i=function(t){return function(){return t}}({});function _h(t,e){et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=B_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tt(_h,et);var B_=0;D=_h.prototype;D.open=function(t,e){if(this.readyState!=B_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nc(this)};D.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bc(this)),this.readyState=B_};D.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nc(this)),this.g&&(this.readyState=3,Nc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function VA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}D.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bc(this):Nc(this),this.readyState==3&&VA(this)}};D.Za=function(t){this.g&&(this.response=this.responseText=t,Bc(this))};D.Ya=function(t){this.g&&(this.response=t,Bc(this))};D.ka=function(){this.g&&Bc(this)};function Bc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nc(t)}D.setRequestHeader=function(t,e){this.v.append(t,e)};D.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Nc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var T4=U.JSON.parse;function Ve(t){et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UA,this.L=this.M=!1}tt(Ve,et);var UA="",D4=/^https?$/i,S4=["POST","PUT"];D=Ve.prototype;D.Oa=function(t){this.M=t};D.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():y_.g(),this.C=this.u?WS(this.u):WS(y_),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){YS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=U.FormData&&t instanceof U.FormData,!(0<=tA(S4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$A(this),0<this.B&&((this.L=A4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=O_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YS(this,s)}};function A4(t){return mo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}D.ua=function(){typeof b_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function YS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,BA(t),vh(t)}function BA(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}D.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),vh(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vh(this,!0)),Ve.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?jA(this):this.kb())};D.kb=function(){jA(this)};function jA(t){if(t.h&&typeof b_<"u"&&(!t.C[1]||Gn(t)!=4||t.da()!=2)){if(t.v&&Gn(t)==4)O_(t.La,0,t);else if(ht(t,"readystatechange"),Gn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(MA)[1]||null;!i&&U.self&&U.self.location&&(i=U.self.location.protocol.slice(0,-1)),r=!D4.test(i?i.toLowerCase():"")}n=r}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var s=2<Gn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",BA(t)}}finally{vh(t)}}}}function vh(t,e){if(t.g){$A(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function $A(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}D.isActive=function(){return!!this.g};function Gn(t){return t.g?t.g.readyState:0}D.da=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),T4(e)}};function ZS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case UA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function M4(t){let e={};t=(t.g&&2<=Gn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Tc(t[r]))continue;var n=t4(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}ZH(e,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function zA(t){let e="";return S_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function j_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function wc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HA(t){this.Ga=0,this.j=[],this.l=new hh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wc("baseRetryDelayMs",5e3,t),this.hb=wc("retryDelaySeedMs",1e4,t),this.eb=wc("forwardChannelMaxRetries",2,t),this.xa=wc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new PA(t&&t.concurrentRequestLimit),this.Ja=new E4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=HA.prototype;D.ra=8;D.H=1;function $_(t){if(qA(t),t.H==3){var e=t.W++,n=vr(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),jc(t,n),e=new Lc(t,t.l,e),e.L=2,e.A=yh(vr(n)),n=!1,U.navigator&&U.navigator.sendBeacon)try{n=U.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&U.Image&&(new Image().src=e.A,n=!0),n||(e.g=XA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Vc(e)}ZA(t)}function wh(t){t.g&&(H_(t),t.g.cancel(),t.g=null)}function qA(t){wh(t),t.u&&(U.clearTimeout(t.u),t.u=null),rh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function Ih(t){if(!kA(t.i)&&!t.m){t.m=!0;var e=t.Na;Sc||fA(),Ac||(Sc(),Ac=!0),P_.add(e,t),t.C=0}}function R4(t,e){return OA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Oc(pt(t.Na,t,e),YA(t,t.C)),t.C++,!0)}D.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Lc(this,this.l,t),s=this.s;if(this.U&&(s?(s=sA(s),oA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=GA(this,i,e),n=vr(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),jc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(zA(s)))+"&"+e:this.o&&j_(n,this.o,s)),U_(this.i,i),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),i.aa=!0,v_(i,n,null)):v_(i,n,e),this.H=2}}else this.H==3&&(t?JS(this,t):this.j.length==0||kA(this.i)||JS(this))};function JS(t,e){var n;e?n=e.m:n=t.W++;let r=vr(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),jc(t,r),t.o&&t.s&&j_(r,t.o,t.s),n=new Lc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=GA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),U_(t.i,n),v_(n,r,e)}function jc(t,e){t.na&&S_(t.na,function(n,r){De(e,r,n)}),t.h&&AA({},function(n,r){De(e,r,n)})}function GA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?pt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{C4(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sc||fA(),Ac||(Sc(),Ac=!0),P_.add(e,t),t.A=0}}function z_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Oc(pt(t.Ma,t),YA(t,t.A)),t.A++,!0)}D.Ma=function(){if(this.u=null,KA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Oc(pt(this.jb,this),t)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kt(10),wh(this),KA(this))};function H_(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function KA(t){t.g=new Lc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vr(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),jc(t,e),t.o&&t.s&&j_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=yh(vr(e)),n.u=null,n.S=!0,bA(n,t)}D.ib=function(){this.v!=null&&(this.v=null,wh(this),z_(this),kt(19))};function rh(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function QA(t,e){var n=null;if(t.g==e){rh(t),H_(t),t.g=null;var r=2}else if(I_(t.i,e))n=e.F,FA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=fh(),ht(r,new vA(r,n)),Ih(t)}else WA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&R4(t,e)||r==2&&z_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:qi(t,5);break;case 4:qi(t,10);break;case 3:qi(t,6);break;default:qi(t,2)}}}function YA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function qi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=pt(t.pb,t);n||(n=new Gi("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||th(n,"https"),yh(n)),b4(n.toString(),r)}else kt(2);t.H=0,t.h&&t.h.za(e),ZA(t),qA(t)}D.pb=function(t){t?(this.l.info("Successfully pinged google.com"),kt(2)):(this.l.info("Failed to ping google.com"),kt(1))};function ZA(t){if(t.H=0,t.ma=[],t.h){let e=LA(t.i);(e.length!=0||t.j.length!=0)&&(zS(t.ma,e),zS(t.ma,t.j),t.i.i.length=0,T_(t.j),t.j.length=0),t.h.ya()}}function JA(t,e,n){var r=n instanceof Gi?vr(n):new Gi(n);if(r.g!="")e&&(r.g=e+"."+r.g),nh(r,r.m);else{var i=U.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Gi(null);r&&th(s,r),e&&(s.g=e),i&&nh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),jc(t,r),r}function XA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ve(new Uc({ob:n})):new Ve(t.va),e.Oa(t.J),e}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function eM(){}D=eM.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function ih(){if(mo&&!(10<=Number(WH)))throw Error("Environmental error: no available transport.")}ih.prototype.g=function(t,e){return new Xt(t,e)};function Xt(t,e){et.call(this),this.g=new HA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _o(this)}tt(Xt,et);Xt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;kt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=JA(t,null,t.Y),Ih(t)};Xt.prototype.close=function(){$_(this.g)};Xt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=N_(t),t=n);e.j.push(new v4(e.fb++,t)),e.H==3&&Ih(e)};Xt.prototype.N=function(){this.g.h=null,delete this.j,$_(this.g),delete this.g,Xt.$.N.call(this)};function tM(t){L_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tt(tM,L_);function nM(){V_.call(this),this.status=1}tt(nM,V_);function _o(t){this.g=t}tt(_o,eM);_o.prototype.Ba=function(){ht(this.g,"a")};_o.prototype.Aa=function(t){ht(this.g,new tM(t))};_o.prototype.za=function(t){ht(this.g,new nM)};_o.prototype.ya=function(){ht(this.g,"b")};function x4(){this.blockSize=-1}function Cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}tt(Cn,x4);Cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function a_(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Cn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)a_(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){a_(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){a_(this,r),i=0;break}}this.h=i,this.i+=e};Cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function _e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var N4={};function q_(t){return-128<=t&&128>t?HH(t,function(e){return new _e([e|0],0>e?-1:0)}):new _e([t|0],0>t?-1:0)}function Wn(t){if(isNaN(t)||!isFinite(t))return go;if(0>t)return dt(Wn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=E_;return new _e(e,0)}function rM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(rM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wn(Math.pow(e,8)),r=go,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Wn(Math.pow(e,s)),r=r.R(s).add(Wn(o))):(r=r.R(n),r=r.add(Wn(o)))}return r}var E_=4294967296,go=q_(0),C_=q_(1),XS=q_(16777216);D=_e.prototype;D.ea=function(){if(hn(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:E_+r)*e,e*=E_}return t};D.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_r(this))return"0";if(hn(this))return"-"+dt(this).toString(t);for(var e=Wn(Math.pow(t,6)),n=this,r="";;){var i=oh(n,e).g;n=sh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,_r(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};D.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _r(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hn(t){return t.h==-1}D.X=function(t){return t=sh(this,t),hn(t)?-1:_r(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new _e(n,~t.h).add(C_)}D.abs=function(){return hn(this)?dt(this):this};D.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new _e(n,n[n.length-1]&-2147483648?-1:0)};function sh(t,e){return t.add(dt(e))}D.R=function(t){if(_r(this)||_r(t))return go;if(hn(this))return hn(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(hn(t))return dt(this.R(dt(t)));if(0>this.X(XS)&&0>t.X(XS))return Wn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,eh(n,2*r+2*i),n[2*r+2*i+1]+=s*c,eh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,eh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,eh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new _e(n,0)};function eh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ic(t,e){this.g=t,this.h=e}function oh(t,e){if(_r(e))throw Error("division by zero");if(_r(t))return new Ic(go,go);if(hn(t))return e=oh(dt(t),e),new Ic(dt(e.g),dt(e.h));if(hn(e))return e=oh(t,dt(e)),new Ic(dt(e.g),e.h);if(30<t.g.length){if(hn(t)||hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=C_,r=e;0>=r.X(t);)n=eA(n),r=eA(r);var i=fo(n,1),s=fo(r,1);for(r=fo(r,2),n=fo(n,2);!_r(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=fo(r,1),n=fo(n,1)}return e=sh(t,i.R(e)),new Ic(i,e)}for(i=go;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Wn(n),o=s.R(e);hn(o)||0<o.X(t);)n-=r,s=Wn(n),o=s.R(e);_r(s)&&(s=C_),i=i.add(s),t=sh(t,o)}return new Ic(i,t)}D.gb=function(t){return oh(this,t).h};D.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new _e(n,this.h&t.h)};D.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new _e(n,this.h|t.h)};D.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new _e(n,this.h^t.h)};function eA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new _e(n,t.h)}function fo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new _e(i,t.h)}ih.prototype.createWebChannel=ih.prototype.g;Xt.prototype.send=Xt.prototype.u;Xt.prototype.open=Xt.prototype.m;Xt.prototype.close=Xt.prototype.close;ph.NO_ERROR=0;ph.TIMEOUT=8;ph.HTTP_ERROR=6;wA.COMPLETE="complete";IA.EventType=Fc;Fc.OPEN="a";Fc.CLOSE="b";Fc.ERROR="c";Fc.MESSAGE="d";et.prototype.listen=et.prototype.O;Ve.prototype.listenOnce=Ve.prototype.P;Ve.prototype.getLastError=Ve.prototype.Sa;Ve.prototype.getLastErrorCode=Ve.prototype.Ia;Ve.prototype.getStatus=Ve.prototype.da;Ve.prototype.getResponseJson=Ve.prototype.Wa;Ve.prototype.getResponseText=Ve.prototype.ja;Ve.prototype.send=Ve.prototype.ha;Ve.prototype.setWithCredentials=Ve.prototype.Oa;Cn.prototype.digest=Cn.prototype.l;Cn.prototype.reset=Cn.prototype.reset;Cn.prototype.update=Cn.prototype.j;_e.prototype.add=_e.prototype.add;_e.prototype.multiply=_e.prototype.R;_e.prototype.modulo=_e.prototype.gb;_e.prototype.compare=_e.prototype.X;_e.prototype.toNumber=_e.prototype.ea;_e.prototype.toString=_e.prototype.toString;_e.prototype.getBits=_e.prototype.D;_e.fromNumber=Wn;_e.fromString=rM;var iM=bn.createWebChannelTransport=function(){return new ih},sM=bn.getStatEventTarget=function(){return fh()},Eh=bn.ErrorCode=ph,oM=bn.EventType=wA,aM=bn.Event=Wi,G_=bn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yte=bn.FetchXmlHttpFactory=Uc,$c=bn.WebChannel=IA,cM=bn.XhrIo=Ve,P4=bn.Md5=Cn,lM=bn.Integer=_e;var uM="@firebase/firestore";var nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");var Fo="10.9.0";var Xi=new jt("@firebase/firestore");function zc(){return Xi.logLevel}function R(t,...e){if(Xi.logLevel<=Y.DEBUG){let n=e.map(mw);Xi.debug(`Firestore (${Fo}): ${t}`,...n)}}function ni(t,...e){if(Xi.logLevel<=Y.ERROR){let n=e.map(mw);Xi.error(`Firestore (${Fo}): ${t}`,...n)}}function Ah(t,...e){if(Xi.logLevel<=Y.WARN){let n=e.map(mw);Xi.warn(`Firestore (${Fo}): ${t}`,...n)}}function mw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function it(t,e){t||oe()}function Se(t,e){return t}var I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Be{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Mh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Y_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nt.UNAUTHENTICATED))}shutdown(){}},Z_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},J_=class{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new Mh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new nt(e)}},X_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ev=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new X_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function k4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Rh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=k4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function Eo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var _t=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var je=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new _t(0,0))}static max(){return new t(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},qe=class t extends xh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},O4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,en=class t extends xh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return O4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new O(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new O(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(qe.fromString(e))}static fromName(e){return new t(qe.fromString(e).popFirst(5))}static empty(){return new t(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qe(e.slice()))}};var rv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};rv.UNKNOWN_ID=-1;function F4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new es(i,te.empty(),e)}function L4(t){return new es(t.readTime,t.key,-1)}var es=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(je.min(),te.empty(),-1)}static max(){return new t(je.max(),te.empty(),-1)}};function V4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var U4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",iv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xM(t){return f(this,null,function*(){if(t.code!==I.FAILED_PRECONDITION||t.message!==U4)throw t;R("LocalStore","Unexpectedly lost primary lease")})}var E=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var sv=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Zn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Yi(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=yw(r.target.error);this.V.reject(new Yi(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Yi(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(R("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new av(n)}},Nh=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Le())===12.2&&ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return R("SimpleDb","Removing database:",e),Ki(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Bn())return!1;if(t.C())return!0;let e=Le(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(R("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Yi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new O(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new O(I.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Yi(e,o))},i.onupgradeneeded=s=>{R("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{R("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=sv.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),E.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(R("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},ov=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ki(this.k.delete())}},Yi=class extends O{constructor(e,n){super(I.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Yh(t){return t.name==="IndexedDbTransactionError"}var av=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(R("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(R("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ki(r)}add(e){return R("SimpleDb","ADD",this.store.name,e,e),Ki(this.store.add(e))}get(e){return Ki(this.store.get(e)).next(n=>(n===void 0&&(n=null),R("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return R("SimpleDb","DELETE",this.store.name,e),Ki(this.store.delete(e))}count(){return R("SimpleDb","COUNT",this.store.name),Ki(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new E((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new E((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){R("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new E((r,i)=>{n.onerror=s=>{let o=yw(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new E((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new ov(a),l=n(a.primaryKey,a.value,c);if(l instanceof E){let u=l.catch(d=>(c.done(),E.reject(d)));r.push(u)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>E.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ki(t){return new E((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=yw(r.target.error);n(i)}})}var dM=!1;function yw(t){let e=Nh.S(Le());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dM||(dM=!0,setTimeout(()=>{throw r},0)),r}}return t}var B4=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function _w(t){return t==null}function Qc(t){return t===0&&1/t==-1/0}function j4(t){return typeof t=="number"&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],one=[...$4,"documentOverlays"],z4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],H4=z4,ane=[...H4,"indexConfiguration","indexState","indexEntries"];function hM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var tn=class t{constructor(e,n){this.comparator=e,this.root=n||Jn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wo(this.root,e,this.comparator,!0)}},wo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ot=class t{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ph(this.data.getIterator())}getIteratorFrom(e){return new Ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ph=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Yn=class t{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ot(en.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var cv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ri=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cv("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ri.EMPTY_BYTE_STRING=new ri("");var q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(it(!!t),typeof t=="string"){let e=0,n=q4.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?ri.fromBase64String(t):ri.fromUint8Array(t)}function vw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function PM(t){let e=t.mapValue.fields.__previous_value__;return vw(e)?PM(e):e}function kh(t){let e=ts(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}var lv=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},uv=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vw(t)?4:kM(t)?9007199254740991:10:oe()}function Xn(t,e){if(t===e)return!0;let n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ts(i.timestampValue),a=ts(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Co(i.bytesValue).isEqual(Co(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ke(i.doubleValue),a=Ke(s.doubleValue);return o===a?Qc(o)===Qc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Eo(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hM(o)!==hM(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Xn(o[c],a[c])))return!1;return!0}(t,e);default:return oe()}}function Yc(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function To(t,e){if(t===e)return 0;let n=bo(t),r=bo(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ke(s.integerValue||s.doubleValue),c=Ke(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return fM(t.timestampValue,e.timestampValue);case 4:return fM(kh(t),kh(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Co(s),c=Co(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Te(a[l],c[l]);if(u!==0)return u}return Te(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Te(Ke(s.latitude),Ke(o.latitude));return a!==0?a:Te(Ke(s.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=To(a[l],c[l]);if(u)return u}return Te(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ch.mapValue&&o===Ch.mapValue)return 0;if(s===Ch.mapValue)return 1;if(o===Ch.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let h=Te(c[d],u[d]);if(h!==0)return h;let p=To(a[c[d]],l[u[d]]);if(p!==0)return p}return Te(c.length,u.length)}(t.mapValue,e.mapValue);default:throw oe()}}function fM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=ts(t),r=ts(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Do(t){return dv(t)}function dv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=dv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${dv(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function hv(t){return!!t&&"integerValue"in t}function ww(t){return!!t&&"arrayValue"in t}function Dh(t){return!!t&&"mapValue"in t}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Xc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Qn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(qc(this.value))}};function OM(t){let e=[];return Xc(t.fields,(n,r)=>{let i=new en([n]);if(Dh(r)){let s=OM(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Yn(e)}var So=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,je.min(),je.min(),je.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,je.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,je.min(),je.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,je.min(),je.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ao=class{constructor(e,n){this.position=e,this.inclusive=n}};function pM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=To(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}var Mo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function G4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Oh=class{},rt=class t extends Oh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pv(e,n,r):n==="array-contains"?new yv(e,r):n==="in"?new _v(e,r):n==="not-in"?new vv(e,r):n==="array-contains-any"?new wv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gv(e,r):new mv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(To(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ii=class t extends Oh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return FM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function FM(t){return t.op==="and"}function LM(t){return W4(t)&&FM(t)}function W4(t){for(let e of t.filters)if(e instanceof ii)return!1;return!0}function fv(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Do(t.value);if(LM(t))return t.filters.map(e=>fv(e)).join(",");{let e=t.filters.map(n=>fv(n)).join(",");return`${t.op}(${e})`}}function VM(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Xn(r.value,i.value)}(t,e):t instanceof ii?function(r,i){return i instanceof ii&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&VM(o,i.filters[a]),!0):!1}(t,e):void oe()}function UM(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(t):t instanceof ii?function(n){return n.op.toString()+" {"+n.getFilters().map(UM).join(" ,")+"}"}(t):"Filter"}var pv=class extends rt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},gv=class extends rt{constructor(e,n){super(e,"in",n),this.keys=BM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},mv=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=BM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function BM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var yv=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ww(n)&&Yc(n.arrayValue,this.value)}},_v=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Yc(this.value.arrayValue,n)}},vv=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Yc(this.value.arrayValue,n)}},wv=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yc(this.value.arrayValue,r))}};var Iv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function mM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Iv(t,e,n,r,i,s,o)}function Iw(t){let e=Se(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_w(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Do(r)).join(",")),e.ce=n}return e.ce}function Ew(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gM(t.startAt,e.startAt)&&gM(t.endAt,e.endAt)}var Ro=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function K4(t,e,n,r,i,s,o,a){return new Ro(t,e,n,r,i,s,o,a)}function Q4(t){return new Ro(t)}function yM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y4(t){return t.collectionGroup!==null}function Gc(t){let e=Se(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(en.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Mo(s,r))}),n.has(en.keyField().canonicalString())||e.le.push(new Mo(en.keyField(),r))}return e.le}function Zi(t){let e=Se(t);return e.he||(e.he=Z4(e,Gc(t))),e.he}function Z4(t,e){if(t.limitType==="F")return mM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Mo(i.field,s)});let n=t.endAt?new Ao(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ao(t.startAt.position,t.startAt.inclusive):null;return mM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ev(t,e,n){return new Ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jM(t,e){return Ew(Zi(t),Zi(e))&&t.limitType===e.limitType}function $M(t){return`${Iw(Zi(t))}|lt:${t.limitType}`}function Hc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UM(i)).join(", ")}]`),_w(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Do(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Do(i)).join(",")),`Target(${r})`}(Zi(t))}; limitType=${t.limitType})`}function Cw(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Gc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=pM(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Gc(r),i)||r.endAt&&!function(o,a,c){let l=pM(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Gc(r),i))}(t,e)}function J4(t){return(e,n)=>{let r=!1;for(let i of Gc(t)){let s=X4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function X4(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?To(c,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var si=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return NM(this.inner)}size(){return this.innerSize}};var eq=new tn(te.comparator);function Fh(){return eq}var zM=new tn(te.comparator);function bh(...t){let e=zM;for(let n of t)e=e.insert(n.key,n);return e}function HM(t){let e=zM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qi(){return Wc()}function qM(){return Wc()}function Wc(){return new si(t=>t.toString(),(t,e)=>t.isEqual(e))}var tq=new tn(te.comparator),nq=new Ot(te.comparator);function yt(...t){let e=nq;for(let n of t)e=e.add(n);return e}var rq=new Ot(Te);function iq(){return rq}function GM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function WM(t){return{integerValue:""+t}}function sq(t,e){return j4(e)?WM(e):GM(t,e)}var xo=class{constructor(){this._=void 0}};function oq(t,e,n){return t instanceof No?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vw(s)&&(s=PM(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ns?QM(t,e):t instanceof rs?YM(t,e):function(i,s){let o=KM(i,s),a=_M(o)+_M(i.Ie);return hv(o)&&hv(i.Ie)?WM(a):GM(i.serializer,a)}(t,e)}function aq(t,e,n){return t instanceof ns?QM(t,e):t instanceof rs?YM(t,e):n}function KM(t,e){return t instanceof Po?function(r){return hv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var No=class extends xo{},ns=class extends xo{constructor(e){super(),this.elements=e}};function QM(t,e){let n=ZM(e);for(let r of t.elements)n.some(i=>Xn(i,r))||n.push(r);return{arrayValue:{values:n}}}var rs=class extends xo{constructor(e){super(),this.elements=e}};function YM(t,e){let n=ZM(e);for(let r of t.elements)n=n.filter(i=>!Xn(i,r));return{arrayValue:{values:n}}}var Po=class extends xo{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function _M(t){return Ke(t.integerValue||t.doubleValue)}function ZM(t){return ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ns&&i instanceof ns||r instanceof rs&&i instanceof rs?Eo(r.elements,i.elements,Xn):r instanceof Po&&i instanceof Po?Xn(r.Ie,i.Ie):r instanceof No&&i instanceof No}(t.transform,e.transform)}var Cv=class{constructor(e,n){this.version=e,this.transformResults=n}},Ji=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ko=class{};function JM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lh(t.key,Ji.none()):new is(t.key,t.data,Ji.none());{let n=t.data,r=Qn.empty(),i=new Ot(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ir(t.key,r,new Yn(i.toArray()),Ji.none())}}function lq(t,e,n){t instanceof is?function(i,s,o){let a=i.value.clone(),c=wM(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ir?function(i,s,o){if(!Sh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=wM(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(XM(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Kc(t,e,n,r){return t instanceof is?function(s,o,a,c){if(!Sh(s.precondition,o))return a;let l=s.value.clone(),u=IM(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ir?function(s,o,a,c){if(!Sh(s.precondition,o))return a;let l=IM(s.fieldTransforms,c,o),u=o.data;return u.setAll(XM(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Sh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function uq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=KM(r.transform,i||null);s!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,s))}return n||null}function vM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eo(r,i,(s,o)=>cq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var is=class extends ko{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ir=class extends ko{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function XM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function wM(t,e,n){let r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,aq(o,a,n[i]))}return r}function IM(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,oq(s,o,e))}return r}var Lh=class extends ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bv=class extends ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Tv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&lq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=qM();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=JM(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yt())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,r)=>vM(n,r))&&Eo(this.baseMutations,e.baseMutations,(n,r)=>vM(n,r))}},Dv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length);let i=function(){return tq}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Sv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ze,ce;function dq(t){switch(t){default:return oe();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function hq(t){if(t===void 0)return ni("GRPC error has no .code"),I.UNKNOWN;switch(t){case ze.OK:return I.OK;case ze.CANCELLED:return I.CANCELLED;case ze.UNKNOWN:return I.UNKNOWN;case ze.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case ze.INTERNAL:return I.INTERNAL;case ze.UNAVAILABLE:return I.UNAVAILABLE;case ze.UNAUTHENTICATED:return I.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case ze.NOT_FOUND:return I.NOT_FOUND;case ze.ALREADY_EXISTS:return I.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return I.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case ze.ABORTED:return I.ABORTED;case ze.OUT_OF_RANGE:return I.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return I.UNIMPLEMENTED;case ze.DATA_LOSS:return I.DATA_LOSS;default:return oe()}}(ce=ze||(ze={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var lne=new lM([4294967295,4294967295],0);var Av=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Mv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pq(t,e){return Mv(t,e.toTimestamp())}function Io(t){return it(!!t),je.fromTimestamp(function(n){let r=ts(n);return new _t(r.seconds,r.nanos)}(t))}function eR(t,e){return Rv(t,e).canonicalString()}function Rv(t,e){let n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gq(t){let e=qe.fromString(t);return it(Cq(e)),e}function xv(t,e){return eR(t.databaseId,e.path)}function mq(t){let e=gq(t);return e.length===4?qe.emptyPath():_q(e)}function yq(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _q(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function EM(t,e,n){return{name:xv(t,e),fields:n.value.mapValue.fields}}function vq(t,e){let n;if(e instanceof is)n={update:EM(t,e.key,e.value)};else if(e instanceof Lh)n={delete:xv(t,e.key)};else if(e instanceof Ir)n={update:EM(t,e.key,e.data),updateMask:Eq(e.fieldMask)};else{if(!(e instanceof bv))return oe();n={verify:xv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof No)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ns)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Po)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function wq(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Io(i.updateTime):Io(s);return o.isEqual(je.min())&&(o=Io(s)),new Cv(o,i.transformResults||[])}(n,e))):[]}function Iq(t){let e=mq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){it(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let h=tR(d);return h instanceof ii&&LM(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new Mo(vo(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,_w(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new Ao(p,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let h=!d.before,p=d.values||[];return new Ao(p,h)}(n.endAt)),K4(e,i,o,s,a,"F",c,l)}function tR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=vo(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=vo(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=vo(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=vo(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(vo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ii.create(n.compositeFilter.filters.map(r=>tR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function vo(t){return en.fromServerFormat(t.fieldPath)}function Eq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Cq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Nv=class{constructor(e){this.ct=e}};function bq(t){let e=Iq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ev(e,e.limit,"L"):e}var Vh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ke(e.integerValue));else if("doubleValue"in e){let r=Ke(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Qc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Co(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?kM(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):oe()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),te.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Vh.bt=new Vh;var Pv=class{constructor(){this._n=new kv}addToCollectionParentIndex(e,n){return this._n.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(es.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}},kv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(qe.comparator)).toArray()}};var une=new Uint8Array(0);var Kn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(41943040,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);var Zc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Ov=class{constructor(){this.changes=new si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,So.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Fv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Lv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Kc(r.mutation,i,Yn.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yt()){let i=Qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fh(),o=Wc(),a=function(){return Wc()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Ir)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Kc(u.mutation,l,u.mutation.getFieldMask(),_t.now())):o.set(l.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Fv(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Wc(),i=new tn((o,a)=>o-a),s=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||Yn.empty();u=a.applyToLocalView(l,u),r.set(c,u);let d=(i.get(a.batchId)||yt()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=qM();u.forEach(h=>{if(!s.has(h)){let p=JM(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(Qi()),a=-1,c=s;return o.next(l=>E.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?E.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,yt())).next(u=>({batchId:a,changes:HM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=bh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=bh();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,c=>{let l=function(d,h){return new Ro(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,So.newInvalidDocument(u)))});let a=bh();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&Kc(u.mutation,l,Yn.empty(),_t.now()),Cw(n,l)&&(a=a.insert(c,l))}),a})}};var Vv=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return E.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Io(i.createTime)}}(n)),E.resolve()}getNamedQuery(e,n){return E.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:bq(i.bundledQuery),readTime:Io(i.readTime)}}(n)),E.resolve()}};var Uv=class{constructor(){this.overlays=new tn(te.comparator),this.hr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Qi();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){let i=Qi(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tn((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=Qi(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Qi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return E.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Sv(n,r));let s=this.hr.get(n);s===void 0&&(s=yt(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Jc=class{constructor(){this.Pr=new Ot(He.Ir),this.Tr=new Ot(He.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new He(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new He(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new te(new qe([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new te(new qe([])),r=new He(n,e),i=new He(n,e+1),s=yt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new He(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||Te(e.pr,n.pr)}static Er(e,n){return Te(e.pr,n.pr)||te.comparator(e.key,n.key)}};var Bv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ot(He.Ir)}checkEmpty(e){return E.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Tv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Te);return n.forEach(i=>{let s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),E.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new He(new te(s),0),a=new Ot(Te);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),E.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return E.forEach(n.mutations,i=>{let s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new He(n,0),i=this.wr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,E.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var jv=class{constructor(e){this.vr=e,this.docs=function(){return new tn(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():So.newInvalidDocument(n))}getEntries(e,n){let r=Fh();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():So.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fh(),o=n.path,a=new te(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||V4(L4(u),r)<=0||(i.has(u.key)||Cw(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Fr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $v(this)}getSize(e){return E.resolve(this.size)}},$v=class extends Ov{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var zv=class{constructor(e){this.persistence=e,this.Mr=new si(n=>Iw(n),Ew),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jc,this.targetCount=0,this.Lr=Zc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),E.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.qn(n),E.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),E.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Nr.containsKey(n))}};var Hv=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new B4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new zv(this),this.indexManager=new Pv,this.remoteDocumentCache=function(i){return new jv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Nv(n),this.$r=new Vv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Uv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Bv(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){R("MemoryPersistence","Starting transaction:",e);let i=new qv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return E.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},qv=class extends iv{constructor(e){super(),this.currentSequenceNumber=e}},Gv=class t{constructor(e){this.persistence=e,this.zr=new Jc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw oe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),E.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Jr,r=>{let i=te.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,je.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return E.or([()=>E.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Wv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=yt(),i=yt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Kv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Qv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return PD()?8:Nh.v(Le())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Kv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(zc()<=Y.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",Hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),E.resolve()):(zc()<=Y.DEBUG&&R("QueryEngine","Query:",Hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(zc()<=Y.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",Hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):E.resolve())}ji(e,n){if(yM(n))return E.resolve(null);let r=Zi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ev(n,null,"F"),r=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=yt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,Ev(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return yM(n)||i.isEqual(je.min())?E.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?E.resolve(null):(zc()<=Y.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hc(n)),this.es(e,o,n,F4(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ot(J4(e));return n.forEach((i,s)=>{Cw(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return zc()<=Y.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",Hc(n)),this.zi.getDocumentsMatchingQuery(e,n,es.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Yv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new tn(Te),this.rs=new si(s=>Iw(s),Ew),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Tq(t,e,n,r){return new Yv(t,e,n,r)}function nR(t,e){return f(this,null,function*(){let n=Se(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=yt();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Dq(t,e){let n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,h=d.keys(),p=E.resolve();return h.forEach(y=>{p=p.next(()=>u.getEntry(c,y)).next(v=>{let w=l.docVersions.get(y);it(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=yt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sq(t){let e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Aq(t,e){let n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Uh=class{constructor(){this.activeTargetIds=iq()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Zv=class{constructor(){this.no=new Uh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Uh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jv=class{io(e){}shutdown(){}};var Bh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Th=null;function W_(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}var Mq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Xv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var mt="WebChannelConnection",ew=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=W_(),c=this.bo(n,r.toUriEncodedString());R("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,c,l,i).then(u=>(R("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ah("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Mq[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=W_();return new Promise((o,a)=>{let c=new cM;c.setWithCredentials(!0),c.listenOnce(oM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Eh.NO_ERROR:let u=c.getResponseJson();R(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Eh.TIMEOUT:R(mt,`RPC '${e}' ${s} timed out`),a(new O(I.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:let d=c.getStatus();if(R(mt,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let y=function(w){let T=w.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(T)>=0?T:I.UNKNOWN}(p.status);a(new O(y,p.message))}else a(new O(I.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new O(I.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{R(mt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);R(mt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Fo(e,n,r){let i=W_(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iM(),a=sM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=s.join("");R(mt,`Creating RPC '${e}' stream ${i}: ${u}`,c);let d=o.createWebChannel(u,c),h=!1,p=!1,y=new Xv({lo:w=>{p?R(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(R(mt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(mt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),v=(w,T,V)=>{w.listen(T,G=>{try{V(G)}catch(M){setTimeout(()=>{throw M},0)}})};return v(d,$c.EventType.OPEN,()=>{p||R(mt,`RPC '${e}' stream ${i} transport opened.`)}),v(d,$c.EventType.CLOSE,()=>{p||(p=!0,R(mt,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),v(d,$c.EventType.ERROR,w=>{p||(p=!0,Ah(mt,`RPC '${e}' stream ${i} transport errored:`,w),y.Vo(new O(I.UNAVAILABLE,"The operation could not be completed")))}),v(d,$c.EventType.MESSAGE,w=>{var T;if(!p){let V=w.data[0];it(!!V);let G=V,M=G.error||((T=G[0])===null||T===void 0?void 0:T.error);if(M){R(mt,`RPC '${e}' stream ${i} received error:`,M);let ie=M.status,W=function(Qe){let mn=ze[Qe];if(mn!==void 0)return hq(mn)}(ie),fe=M.message;W===void 0&&(W=I.INTERNAL,fe="Unknown error status: "+ie+" with message "+M.message),p=!0,y.Vo(new O(W,fe)),d.close()}else R(mt,`RPC '${e}' stream ${i} received:`,V),y.mo(V)}}),v(a,aM.STAT_EVENT,w=>{w.stat===G_.PROXY?R(mt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===G_.NOPROXY&&R(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}};function K_(){return typeof document<"u"?document:null}function Zh(t){return new Av(t,!0)}var jh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var tw=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new jh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new O(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var nw=class extends tw{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=wq(e.writeResults,e.commitTime),r=Io(e.commitTime);return this.listener.T_(r,n)}return it(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=yq(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>vq(this.serializer,r))};this.t_(n)}};var rw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new O(I.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Rv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(I.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Rv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(I.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var iw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ni(n),this.g_=!1):R("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var sw=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>f(this,null,function*(){tl(this)&&(R("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let l=Se(c);l.v_.add(4),yield el(l),l.x_.set("Unknown"),l.v_.delete(4),yield Jh(l)})}(this))}))}),this.x_=new iw(r,i)}};function Jh(t){return f(this,null,function*(){if(tl(t))for(let e of t.F_)yield e(!0)})}function el(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function tl(t){return Se(t).v_.size===0}function rR(t,e,n){return f(this,null,function*(){if(!Yh(e))throw e;t.v_.add(1),yield el(t),t.x_.set("Offline"),n||(n=()=>Sq(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){R("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Jh(t)}))})}function iR(t,e){return e().catch(n=>rR(t,n,e))}function Xh(t){return f(this,null,function*(){let e=Se(t),n=oi(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Rq(e);)try{let i=yield Aq(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,xq(e,i)}catch(i){yield rR(e,i)}sR(e)&&oR(e)})}function Rq(t){return tl(t)&&t.D_.length<10}function xq(t,e){t.D_.push(e);let n=oi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function sR(t){return tl(t)&&!oi(t).Ho()&&t.D_.length>0}function oR(t){oi(t).start()}function Nq(t){return f(this,null,function*(){oi(t).d_()})}function Pq(t){return f(this,null,function*(){let e=oi(t);for(let n of t.D_)e.I_(n.mutations)})}function kq(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=Dv.from(r,e,n);yield iR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Xh(t)})}function Oq(t,e){return f(this,null,function*(){e&&oi(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return dq(o)&&o!==I.ABORTED}(i.code)){let s=r.D_.shift();oi(r).Zo(),yield iR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Xh(r)}})}(t,e)),sR(t)&&oR(t)})}function CM(t,e){return f(this,null,function*(){let n=Se(t);n.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");let r=tl(n);n.v_.add(3),yield el(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Jh(n)})}function Fq(t,e){return f(this,null,function*(){let n=Se(t);e?(n.v_.delete(2),yield Jh(n)):e||(n.v_.add(2),yield el(n),n.x_.set("Unknown"))})}function oi(t){return t.L_||(t.L_=function(n,r,i){let s=Se(n);return s.R_(),new nw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Nq.bind(null,t),To:Oq.bind(null,t),E_:Pq.bind(null,t),T_:kq.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.L_.Zo(),yield Xh(t)):(yield t.L_.stop(),t.D_.length>0&&(R("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var ow=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function aR(t,e){if(ni("AsyncQueue",`${e}: ${t}`),Yh(t))return new O(I.UNAVAILABLE,`${e}: ${t}`);throw t}var aw=class{constructor(){this.queries=new si(e=>$M(e),jM),this.onlineState="Unknown",this.W_=new Set}};function Lq(t){t.W_.forEach(e=>{e.next()})}var bM,TM;(TM=bM||(bM={})).j_="default",TM.Cache="cache";var cw=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new si(a=>$M(a),jM),this.Sa=new Map,this.ba=new Set,this.Da=new tn(te.comparator),this.Ca=new Map,this.va=new Jc,this.Fa={},this.Ma=new Map,this.xa=Zc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function Vq(t,e,n){return f(this,null,function*(){let r=$q(t);try{let i=yield function(o,a){let c=Se(o),l=_t.now(),u=a.reduce((p,y)=>p.add(y.key),yt()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Fh(),v=yt();return c.os.getEntries(p,u).next(w=>{y=w,y.forEach((T,V)=>{V.isValidDocument()||(v=v.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(w=>{d=w;let T=[];for(let V of a){let G=uq(V,d.get(V.key).overlayedDocument);G!=null&&T.push(new Ir(V.key,G,OM(G.value.mapValue),Ji.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,T,a)}).next(w=>{h=w;let T=w.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(p,w.batchId,T)})}).then(()=>({batchId:h.batchId,changes:HM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Fa[o.currentUser.toKey()];l||(l=new tn(Te)),l=l.insert(a,c),o.Fa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield ef(r,i.changes),yield Xh(r.remoteStore)}catch(i){let s=aR(i,"Failed to persist write");n.reject(s)}})}function DM(t,e,n){let r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=Se(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let h of d.Q_)h.G_(a)&&(l=!0)}),l&&Lq(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Uq(t,e){return f(this,null,function*(){let n=Se(t),r=e.batch.batchId;try{let i=yield Dq(n.localStore,e);lR(n,r,null),cR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ef(n,i)}catch(i){yield xM(i)}})}function Bq(t,e,n){return f(this,null,function*(){let r=Se(t);try{let i=yield function(o,a){let c=Se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(it(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);lR(r,e,n),cR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ef(r,i)}catch(i){yield xM(i)}})}function cR(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function lR(t,e,n){let r=Se(t),i=r.Fa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function ef(t,e,n){return f(this,null,function*(){let r=Se(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let u=Wv.Ki(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,l){return f(this,null,function*(){let u=Se(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(l,h=>E.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>E.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Yh(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let p=u.ns.get(h),y=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(y);u.ns=u.ns.insert(h,v)}}})}(r.localStore,s))})}function jq(t,e){return f(this,null,function*(){let n=Se(t);if(!n.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());let r=yield nR(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new O(I.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ef(n,r.us)}})}function $q(t){let e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bq.bind(null,e),e}var $h=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Tq(this.persistence,new Qv,e.initialUser,this.serializer)}createPersistence(e){return new Hv(Gv.Hr,this.serializer)}createSharedClientState(e){return new Zv}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var lw=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jq.bind(null,this.syncEngine),yield Fq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new aw}()}createDatastore(e){let n=Zh(e.databaseInfo.databaseId),r=function(s){return new ew(s)}(e.databaseInfo);return function(s,o,a,c){return new rw(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new sw(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>DM(this.syncEngine,n,0),function(){return Bh.D()?new Bh:new Jv}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){let d=new cw(i,s,o,a,c,l);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=Se(r);R("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield el(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var uw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=Rh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){R("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=aR(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Q_(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield nR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function SM(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Hq(t);R("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CM(e.remoteStore,i)),t._onlineComponents=e})}function zq(t){return t.name==="FirebaseError"?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Hq(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Q_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!zq(n))throw n;Ah("Error using user provided cache. Falling back to memory cache: "+n),yield Q_(t,new $h)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield Q_(t,new $h);return t._offlineComponents})}function qq(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield SM(t,t._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield SM(t,new lw))),t._onlineComponents})}function Gq(t){return qq(t).then(e=>e.syncEngine)}function uR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var AM=new Map;function dR(t,e,n){if(!n)throw new O(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wq(t,e,n,r){if(e===!0&&r===!0)throw new O(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MM(t){if(!te.isDocumentKey(t))throw new O(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RM(t){if(te.isDocumentKey(t))throw new O(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function hR(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=bw(t);throw new O(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var zh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new O(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Oo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y_;switch(r.type){case"firstParty":return new ev(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=AM.get(n);r&&(R("ComponentProvider","Removing Datastore"),AM.delete(n),r.terminate())}(this),Promise.resolve()}};function fR(t,e,n,r={}){var i;let s=(t=hR(t,Oo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ah("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=nt.MOCK_USER;else{a=lo(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new O(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new nt(l)}t._authCredentials=new Z_(new Mh(a,c))}}var dw=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},wr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ti=class t extends dw{constructor(e,n,r){super(e,n,Q4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function pR(t,e,...n){if(t=be(t),dR("collection","path",e),t instanceof Oo){let r=qe.fromString(e,...n);return RM(r),new ti(t,null,r)}{if(!(t instanceof wr||t instanceof ti))throw new O(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return RM(r),new ti(t.firestore,null,r)}}function gR(t,e,...n){if(t=be(t),arguments.length===1&&(e=Rh.newId()),dR("doc","path",e),t instanceof Oo){let r=qe.fromString(e,...n);return MM(r),new wr(t,null,new te(r))}{if(!(t instanceof wr||t instanceof ti))throw new O(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return MM(r),new wr(t.firestore,t instanceof ti?t.converter:null,new te(r))}}var hw=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new jh(this,"async_queue_retry"),this.cu=()=>{let n=K_();n&&R("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=K_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=K_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Zn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return f(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Yh(e))throw e;R("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=ow.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&oe()}verifyOperationInProgress(){}Tu(){return f(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Hh=class extends Oo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new hw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yR(this),this._firestoreClient.terminate()}};function mR(t,e){let n=typeof t=="object"?t:Nt(),r=typeof t=="string"?t:e||"(default)",i=ct(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=co("firestore");s&&fR(i,...s)}return i}function Kq(t){return t._firestoreClient||yR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,u){return new lv(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,uR(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new uw(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var qh=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ri.fromBase64String(e))}catch(n){throw new O(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Wh=class{constructor(e){this._methodName=e}};var Kh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var Qq=/^__.*__$/,fw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new is(e,this.data,n,this.fieldTransforms)}};function _R(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var pw=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Qh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(_R(this.Vu)&&Qq.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},gw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zh(e)}Cu(e,n,r,i=!1){return new pw({Vu:e,methodName:n,Du:r,path:en.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Yq(t){let e=t._freezeSettings(),n=Zh(t._databaseId);return new gw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zq(t,e,n,r,i,s={}){let o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);ER("Data must be an object, but it was:",o,r);let a=wR(r,o),c,l;if(s.merge)c=new Yn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let h=Jq(e,d,n);if(!o.contains(h))throw new O(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tG(u,h)||u.push(h)}c=new Yn(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new fw(new Qn(a),c,l)}function vR(t,e){if(IR(t=be(t)))return ER("Unsupported field value:",e,t),wR(t,e);if(t instanceof Wh)return function(r,i){if(!_R(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=vR(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=_t.fromDate(r);return{timestampValue:Mv(i.serializer,s)}}if(r instanceof _t){let s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mv(i.serializer,s)}}if(r instanceof Kh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qh)return{bytesValue:fq(i.serializer,r._byteString)};if(r instanceof wr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${bw(r)}`)}(t,e)}function wR(t,e){let n={};return NM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xc(t,(r,i)=>{let s=vR(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof Kh||t instanceof qh||t instanceof wr||t instanceof Wh)}function ER(t,e,n){if(!IR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=bw(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Jq(t,e,n){if((e=be(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return eG(t,e);throw Qh("Field path arguments must be of type string or ",t,!1,void 0,n)}var Xq=new RegExp("[~\\*/\\[\\]]");function eG(t,e,n){if(e.search(Xq)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new O(I.INVALID_ARGUMENT,a+t+c)}function tG(t,e){return t.some(n=>n.isEqual(e))}function nG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function CR(t,e){let n=hR(t.firestore,Hh),r=gR(t),i=nG(t.converter,e);return rG(n,[Zq(Yq(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ji.exists(!1))]).then(()=>r)}function rG(t,e){return function(r,i){let s=new Zn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Vq(yield Gq(r),i,s)})),s.promise}(Kq(t),e)}(function(e,n=!0){(function(i){Fo=i})($t),$e(new xe("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Hh(new J_(r.getProvider("auth-internal")),new nv(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uv(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),B(uM,"4.5.0",e),B(uM,"4.5.0","esm2017")})();var ai=class{constructor(e){return e}},bR="firestore",Tw=class{constructor(){return Jt(bR)}};var Dw=new x("angularfire2.firestore-instances");function iG(t,e){let n=dn(bR,t,e);return n&&new ai(n)}function sG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ai(r)}}var oG={provide:Tw,deps:[[new ge,Dw]]},aG={provide:ai,useFactory:iG,deps:[[new ge,Dw],ut]},cG=(()=>{class t{constructor(){B("angularfire",lt.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Pe({type:t});static \u0275inj=Ne({providers:[aG,oG]})}return t})();function TR(t,...e){return{ngModule:cG,providers:[{provide:Dw,useFactory:sG(t),multi:!0,deps:[z,Ce,zt,Pt,[new ge,yr],[new ge,zn],...e]}]}}var DR=We(CR,!0);var SR=We(pR,!0);var AR=We(mR,!0);var LR=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(se(Br),se(At))},e.\u0275dir=St({type:e});let t=e;return t})(),lG=(()=>{let e=class e extends LR{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275dir=St({type:e,features:[jr]});let t=e;return t})(),VR=new x("");var uG={provide:VR,useExisting:qs(()=>uf),multi:!0};function dG(){let t=hr()?hr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var hG=new x(""),uf=(()=>{let e=class e extends LR{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!dG())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(se(Br),se(At),se(hG,8))},e.\u0275dir=St({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&$r("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Qs([uG]),jr]});let t=e;return t})();function ci(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function UR(t){return t!=null&&typeof t.length=="number"}var BR=new x(""),jR=new x(""),fG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,li=class{static min(e){return pG(e)}static max(e){return gG(e)}static required(e){return mG(e)}static requiredTrue(e){return yG(e)}static email(e){return _G(e)}static minLength(e){return vG(e)}static maxLength(e){return wG(e)}static pattern(e){return IG(e)}static nullValidator(e){return $R(e)}static compose(e){return KR(e)}static composeAsync(e){return YR(e)}};function pG(t){return e=>{if(ci(e.value)||ci(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function gG(t){return e=>{if(ci(e.value)||ci(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function mG(t){return ci(t.value)?{required:!0}:null}function yG(t){return t.value===!0?null:{required:!0}}function _G(t){return ci(t.value)||fG.test(t.value)?null:{email:!0}}function vG(t){return e=>ci(e.value)||!UR(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function wG(t){return e=>UR(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function IG(t){if(!t)return $R;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ci(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function $R(t){return null}function zR(t){return t!=null}function HR(t){return Ai(t)?Ee(t):t}function qR(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function GR(t,e){return e.map(n=>n(t))}function EG(t){return!t.validate}function WR(t){return t.map(e=>EG(e)?e:n=>e.validate(n))}function KR(t){if(!t)return null;let e=t.filter(zR);return e.length==0?null:function(n){return qR(GR(n,e))}}function QR(t){return t!=null?KR(WR(t)):null}function YR(t){if(!t)return null;let e=t.filter(zR);return e.length==0?null:function(n){let r=GR(n,e).map(HR);return tp(r).pipe(Z(qR))}}function ZR(t){return t!=null?YR(WR(t)):null}function MR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function JR(t){return t._rawValidators}function XR(t){return t._rawAsyncValidators}function Sw(t){return t?Array.isArray(t)?t:[t]:[]}function rf(t,e){return Array.isArray(t)?t.includes(e):t===e}function RR(t,e){let n=Sw(e);return Sw(t).forEach(i=>{rf(n,i)||n.push(i)}),n}function xR(t,e){return Sw(e).filter(n=>!rf(t,n))}var sf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Vo=class extends sf{get formDirective(){return null}get path(){return null}},il=class extends sf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},of=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},CG={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yre=de(S({},CG),{"[class.ng-submitted]":"isSubmitted"}),ex=(()=>{let e=class e extends of{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(se(il,2))},e.\u0275dir=St({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Bu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[jr]});let t=e;return t})(),tx=(()=>{let e=class e extends of{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(se(Vo,10))},e.\u0275dir=St({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Bu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[jr]});let t=e;return t})();var nl="VALID",tf="INVALID",Lo="PENDING",rl="DISABLED";function Rw(t){return(df(t)?t.validators:t)||null}function bG(t){return Array.isArray(t)?QR(t):t||null}function xw(t,e){return(df(e)?e.asyncValidators:t)||null}function TG(t){return Array.isArray(t)?ZR(t):t||null}function df(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function nx(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[n])throw new F(1001,"")}function rx(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new F(1002,"")})}var Uo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===nl}get invalid(){return this.status===tf}get pending(){return this.status==Lo}get disabled(){return this.status===rl}get enabled(){return this.status!==rl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xR(e,this._rawAsyncValidators))}hasValidator(e){return rf(this._rawValidators,e)}hasAsyncValidator(e){return rf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=rl,this.errors=null,this._forEachChild(r=>{r.disable(de(S({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=nl,this._forEachChild(r=>{r.enable(de(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nl||this.status===Lo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rl:nl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lo,this._hasOwnPendingAsyncValidator=!0;let n=HR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?rl:this.errors?tf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lo)?Lo:this._anyControlsHaveStatus(tf)?tf:nl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){df(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=TG(this._rawAsyncValidators)}},af=class extends Uo{constructor(e,n,r){super(Rw(n),xw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){rx(this,!0,e),Object.keys(e).forEach(r=>{nx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Aw=class extends af{};var ix=new x("CallSetDisabledState",{providedIn:"root",factory:()=>Nw}),Nw="always";function DG(t,e){return[...e.path,t]}function NR(t,e,n=Nw){Pw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),AG(t,e),RG(t,e),MG(t,e),SG(t,e)}function PR(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function cf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function SG(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Pw(t,e){let n=JR(t);e.validator!==null?t.setValidators(MR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=XR(t);e.asyncValidator!==null?t.setAsyncValidators(MR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();cf(e._rawValidators,i),cf(e._rawAsyncValidators,i)}function lf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=JR(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=XR(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return cf(e._rawValidators,r),cf(e._rawAsyncValidators,r),n}function AG(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&sx(t,e)})}function MG(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&sx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function sx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function RG(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function xG(t,e){t==null,Pw(t,e)}function NG(t,e){return lf(t,e)}function PG(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function kG(t){return Object.getPrototypeOf(t.constructor)===lG}function OG(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function FG(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===uf?n=s:kG(s)?r=s:i=s}),i||r||n||null}function LG(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function OR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nf=class extends Uo{constructor(e=null,n,r){super(Rw(n),xw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),df(n)&&(n.nonNullable||n.initialValueIsDefault)&&(OR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){OR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VG=t=>t instanceof nf;var ox=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=St({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var ax=new x("");var UG={provide:Vo,useExisting:qs(()=>kw)},kw=(()=>{let e=class e extends Vo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ze,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return NR(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){PR(r.control||null,r,!1),LG(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,OG(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(PR(i||null,r),VG(s)&&(NR(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);xG(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&NG(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pw(this.form,this),this._oldForm&&lf(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(se(BR,10),se(jR,10),se(ix,8))},e.\u0275dir=St({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&$r("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[ft.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qs([UG]),jr,On]});let t=e;return t})();var BG={provide:il,useExisting:qs(()=>Ow)},Ow=(()=>{let e=class e extends il{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ze,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=FG(this,o)}ngOnChanges(r){this._added||this._setUpControl(),PG(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return DG(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(se(Vo,13),se(BR,10),se(jR,10),se(VR,10),se(ax,8))},e.\u0275dir=St({type:e,selectors:[["","formControlName",""]],inputs:{name:[ft.None,"formControlName","name"],isDisabled:[ft.None,"disabled","isDisabled"],model:[ft.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qs([BG]),jr,On]});let t=e;return t})();var jG=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ne({});let t=e;return t})(),Mw=class extends Uo{constructor(e,n,r){super(Rw(n),xw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){rx(this,!1,e),e.forEach((r,i)=>{nx(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function FR(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var cx=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return FR(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new af(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Aw(s,i)}control(r,i,s){let o={};return this.useNonNullable?(FR(i)?o=i:(o.validators=i,o.asyncValidators=s),new nf(r,de(S({},o),{nonNullable:!0}))):new nf(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Mw(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof nf)return r;if(r instanceof Uo)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lx=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ax,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:ix,useValue:r.callSetDisabledState??Nw}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Ne({imports:[jG]});let t=e;return t})();var ux=(()=>{let e=class e{constructor(r){this.fb=r,this.firestore=C(ai),this.createContactForm()}createContactForm(){this.contactForm=this.fb.group({name:["",[li.required]],email:["",[li.required,li.email]],phone:["",[li.required]],message:["",[li.required]]})}onSubmit(){return f(this,null,function*(){if(this.contactForm.valid)try{let r=yield DR(SR(this.firestore,"contacts"),this.contactForm.value);console.log("Document written with ID: ",r.id),this.contactForm.reset()}catch(r){console.error("Error adding document: ",r)}})}};e.\u0275fac=function(i){return new(i||e)(se(cx))},e.\u0275cmp=ne({type:e,selectors:[["app-contact"]],standalone:!0,features:[Qs([ai]),re],decls:90,vars:1,consts:[[1,"text-center","section-34","section-sm-60","section-md-top-100","section-md-bottom-105","bg-image","bg-image-breadcrumbs"],[1,"shell","shell-fluid"],[1,"range","range-condensed"],[1,"cell-xs-12","cell-xl-preffix-1","cell-xl-11"],[1,"h3","text-white"],[1,"breadcrumbs-custom","offset-top-10"],["href","index.html"],[1,"active"],[1,"text-center","text-sm-left","section-50","section-sm-top-100","section-sm-bottom-100"],[1,"shell"],[1,"range","range-xs-center"],[1,"cell-md-8"],[1,"font-default","text-center"],[1,"text-center"],[1,"form-contact-line","text-left","offset-top-35",3,"ngSubmit","formGroup"],[1,"form-inline-flex"],[1,"form-group"],["for","contact-name",1,"form-label","form-label-outside"],["id","contact-name","type","text","placeholder","Your Name","formControlName","name",1,"form-control"],["for","contact-email",1,"form-label","form-label-outside"],["id","contact-email","type","email","placeholder","Your Email","formControlName","email",1,"form-control"],[1,"form-group","offset-top-15"],["for","contact-phone",1,"form-label","form-label-outside"],["id","contact-phone","type","text","placeholder","Your Phone Number","formControlName","phone",1,"form-control"],["for","message",1,"form-label","form-label-outside"],["id","message","placeholder","Your Message","formControlName","message",1,"form-control"],[1,"offset-top-15"],["type","submit",1,"btn","btn-primary","btn-fullwidth"],[1,"cell-md-4","offset-top-50","offset-md-top-0","text-left"],[1,"inset-lg-left-70"],[1,"range"],[1,"cell-xs-6","cell-md-12"],[1,"h6","text-uppercase"],[1,"text-subline","offset-top-15"],[1,"offset-top-25"],[1,"list-inline"],["href","https://www.facebook.com/YourBackstageBilliardsPage","aria-label","Facebook",1,"icon","icon-xs","link-gray-light","fa-facebook"],["href","https://twitter.com/YourBackstageBilliardsProfile","aria-label","Twitter",1,"icon","icon-xs","link-gray-light","fa-twitter"],["href","https://plus.google.com/YourBackstageBilliardsPage","aria-label","Google Plus",1,"icon","icon-xs","link-gray-light","fa-google-plus"],["href","https://www.instagram.com/YourBackstageBilliardsProfile","aria-label","Instagram",1,"icon","icon-xs","link-gray-light","fa-instagram"],[1,"cell-xs-6","cell-md-12","offset-top-50"],[1,"unit","unit-horizontal","unit-middle","unit-spacing-xs"],[1,"unit-left"],[1,"icon","icon-xs","icon-primary","text-middle","mdi","mdi-phone"],[1,"unit-body"],["href","tel:407-345-0323",1,"link-default"],[1,"offset-top-25","unit","unit-horizontal","unit-spacing-xs"],[1,"icon","icon-xs","icon-primary","text-middle","mdi","mdi-map-marker"],["href","#",1,"link-default"],[1,"icon","icon-xs","icon-primary","mdi","mdi-clock","text-middle"],[1,"text-dark","inset-left-5"]],template:function(i,s){i&1&&(g(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),_(5,"Contact Backstage Billiards"),m(),g(6,"ul",5)(7,"li")(8,"a",6),_(9,"Home"),m()(),g(10,"li",7),_(11,"Contact"),m()()()()()(),g(12,"section",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h4",12),_(17,"Connect with Us"),m(),g(18,"p",13),_(19,"Reach out for questions, reservations, or just to say hello. We're here to ensure your experience at Backstage Billiards is unforgettable. Use our contact form or the information below to get in touch."),m(),g(20,"form",14),$r("ngSubmit",function(){return s.onSubmit()}),g(21,"div",15)(22,"div",16)(23,"label",17),_(24,"Name"),m(),A(25,"input",18),m(),g(26,"div",16)(27,"label",19),_(28,"E-mail"),m(),A(29,"input",20),m()(),g(30,"div",21)(31,"label",22),_(32,"Phone"),m(),A(33,"input",23),m(),g(34,"div",21)(35,"label",24),_(36,"Message"),m(),A(37,"textarea",25),m(),g(38,"div",26)(39,"button",27),_(40,"Send Message"),m()()()(),g(41,"div",28)(42,"aside",29)(43,"div",30)(44,"div",31)(45,"div",32),_(46,"Follow Us on Social Media"),m(),A(47,"div",33),g(48,"div",34)(49,"ul",35)(50,"ul",35)(51,"li"),A(52,"a",36),m(),g(53,"li"),A(54,"a",37),m(),g(55,"li"),A(56,"a",38),m(),g(57,"li"),A(58,"a",39),m()()()()(),g(59,"div",40)(60,"div",32),_(61,"Phone"),m(),A(62,"div",33),g(63,"div",34)(64,"div",41)(65,"div",42),A(66,"span",43),m(),g(67,"div",44)(68,"a",45),_(69,"407-345-0323"),m()()()()(),g(70,"div",40)(71,"div",32),_(72,"Address"),m(),A(73,"div",33),g(74,"div",46)(75,"div",42),A(76,"span",47),m(),g(77,"div",44)(78,"a",48),_(79,"8957 International Drive Orlando, FL 32819"),m()()()(),g(80,"div",40)(81,"div",32),_(82,"Operating Hours"),m(),A(83,"div",33),g(84,"div",46)(85,"div",42),A(86,"span",49),m(),g(87,"div",44)(88,"span",50),_(89,"3:00 PM to 2:15 AM daily"),m()()()()()()()()()()),i&2&&(Tb(20),Yg("formGroup",s.contactForm))},dependencies:[lx,ox,uf,ex,tx,kw,Ow]});let t=e;return t})();var dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-tournaments"]],standalone:!0,features:[re],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"tournaments works!"),m())}});let t=e;return t})();var hx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-gallery"]],standalone:!0,features:[re],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"gallery works!"),m())}});let t=e;return t})();var fx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-partners"]],standalone:!0,features:[re],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"partners works!"),m())}});let t=e;return t})();var px=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-faq"]],standalone:!0,features:[re],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"faq works!"),m())}});let t=e;return t})();var gx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-blog"]],standalone:!0,features:[re],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"blog works!"),m())}});let t=e;return t})();var mx=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:TD},{path:"about",component:DD},{path:"menu",component:SD},{path:"contact",component:ux},{path:"tournaments",component:dx},{path:"gallery",component:hx},{path:"partners",component:fx},{path:"faq",component:px},{path:"blog",component:gx}];var vx="@firebase/installations",Uw="0.6.5";var wx=1e4,Ix=`w:${Uw}`,Ex="FIS_v2",zG="https://firebaseinstallations.googleapis.com/v1",HG=60*60*1e3,qG="installations",GG="Installations";var WG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},os=new xt(qG,GG,WG);function Cx(t){return t instanceof Be&&t.code.includes("request-failed")}function bx({projectId:t}){return`${zG}/projects/${t}/installations`}function Tx(t){return{token:t.token,requestStatus:2,expiresIn:QG(t.expiresIn),creationTime:Date.now()}}function Dx(t,e){return f(this,null,function*(){let r=(yield e.json()).error;return os.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Sx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KG(t,{refreshToken:e}){let n=Sx(t);return n.append("Authorization",YG(e)),n}function Ax(t){return f(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function QG(t){return Number(t.replace("s","000"))}function YG(t){return`${Ex} ${t}`}function ZG(r,i){return f(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=bx(t),o=Sx(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let c={fid:n,authVersion:Ex,appId:t.appId,sdkVersion:Ix},l={method:"POST",headers:o,body:JSON.stringify(c)},u=yield Ax(()=>fetch(s,l));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:Tx(d.authToken)}}else throw yield Dx("Create Installation",u)})}function Mx(t){return new Promise(e=>{setTimeout(e,t)})}function JG(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var XG=/^[cdef][\w-]{21}$/,Vw="";function e3(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=t3(t);return XG.test(n)?n:Vw}catch{return Vw}}function t3(t){return JG(t).substr(0,22)}function ff(t){return`${t.appName}!${t.appId}`}var Rx=new Map;function xx(t,e){let n=ff(t);Nx(n,e),n3(n,e)}function Nx(t,e){let n=Rx.get(t);if(n)for(let r of n)r(e)}function n3(t,e){let n=r3();n&&n.postMessage({key:t,fid:e}),i3()}var ss=null;function r3(){return!ss&&"BroadcastChannel"in self&&(ss=new BroadcastChannel("[Firebase] FID Change"),ss.onmessage=t=>{Nx(t.data.key,t.data.fid)}),ss}function i3(){Rx.size===0&&ss&&(ss.close(),ss=null)}var s3="firebase-installations-database",o3=1,as="firebase-installations-store",Fw=null;function Bw(){return Fw||(Fw=Id(s3,o3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(as)}}})),Fw}function hf(t,e){return f(this,null,function*(){let n=ff(t),i=(yield Bw()).transaction(as,"readwrite"),s=i.objectStore(as),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&xx(t,e.fid),e})}function Px(t){return f(this,null,function*(){let e=ff(t),r=(yield Bw()).transaction(as,"readwrite");yield r.objectStore(as).delete(e),yield r.done})}function pf(t,e){return f(this,null,function*(){let n=ff(t),i=(yield Bw()).transaction(as,"readwrite"),s=i.objectStore(as),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&xx(t,a.fid),a})}function jw(t){return f(this,null,function*(){let e,n=yield pf(t.appConfig,r=>{let i=a3(r),s=c3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Vw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function a3(t){let e=t||{fid:e3(),registrationStatus:0};return kx(e)}function c3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(os.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=l3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:u3(t)}:{installationEntry:e}}function l3(t,e){return f(this,null,function*(){try{let n=yield ZG(t,e);return hf(t.appConfig,n)}catch(n){throw Cx(n)&&n.customData.serverCode===409?yield Px(t.appConfig):yield hf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function u3(t){return f(this,null,function*(){let e=yield yx(t.appConfig);for(;e.registrationStatus===1;)yield Mx(100),e=yield yx(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield jw(t);return r||n}return e})}function yx(t){return pf(t,e=>{if(!e)throw os.create("installation-not-found");return kx(e)})}function kx(t){return d3(t)?{fid:t.fid,registrationStatus:0}:t}function d3(t){return t.registrationStatus===1&&t.registrationTime+wx<Date.now()}function h3(r,i){return f(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=f3(t,n),o=KG(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let c={installation:{sdkVersion:Ix,appId:t.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},u=yield Ax(()=>fetch(s,l));if(u.ok){let d=yield u.json();return Tx(d)}else throw yield Dx("Generate Auth Token",u)})}function f3(t,{fid:e}){return`${bx(t)}/${e}/authTokens:generate`}function $w(t,e=!1){return f(this,null,function*(){let n,r=yield pf(t.appConfig,s=>{if(!Ox(s))throw os.create("not-registered");let o=s.authToken;if(!e&&m3(o))return s;if(o.requestStatus===1)return n=p3(t,e),s;{if(!navigator.onLine)throw os.create("app-offline");let a=_3(s);return n=g3(t,a),a}});return n?yield n:r.authToken})}function p3(t,e){return f(this,null,function*(){let n=yield _x(t.appConfig);for(;n.authToken.requestStatus===1;)yield Mx(100),n=yield _x(t.appConfig);let r=n.authToken;return r.requestStatus===0?$w(t,e):r})}function _x(t){return pf(t,e=>{if(!Ox(e))throw os.create("not-registered");let n=e.authToken;return v3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function g3(t,e){return f(this,null,function*(){try{let n=yield h3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield hf(t.appConfig,r),n}catch(n){if(Cx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield Px(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hf(t.appConfig,r)}throw n}})}function Ox(t){return t!==void 0&&t.registrationStatus===2}function m3(t){return t.requestStatus===2&&!y3(t)}function y3(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+HG}function _3(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function v3(t){return t.requestStatus===1&&t.requestTime+wx<Date.now()}function w3(t){return f(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield jw(e);return r?r.catch(console.error):$w(e).catch(console.error),n.fid})}function I3(t,e=!1){return f(this,null,function*(){let n=t;return yield E3(n),(yield $w(n,e)).token})}function E3(t){return f(this,null,function*(){let{registrationPromise:e}=yield jw(t);e&&(yield e)})}function C3(t){if(!t||!t.options)throw Lw("App Configuration");if(!t.name)throw Lw("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Lw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Lw(t){return os.create("missing-app-config-values",{valueName:t})}var Fx="installations",b3="installations-internal",T3=t=>{let e=t.getProvider("app").getImmediate(),n=C3(e),r=ct(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},D3=t=>{let e=t.getProvider("app").getImmediate(),n=ct(e,Fx).getImmediate();return{getId:()=>w3(n),getToken:i=>I3(n,i)}};function S3(){$e(new xe(Fx,T3,"PUBLIC")),$e(new xe(b3,D3,"PRIVATE"))}S3();B(vx,Uw);B(vx,Uw,"esm2017");var gf="analytics",A3="firebase_id",M3="origin",R3=60*1e3,x3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qw="https://www.googletagmanager.com/gtag/js";var Ft=new jt("@firebase/analytics");var N3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new xt("analytics","Analytics",N3);function P3(t){if(!t.startsWith(Qw)){let e=nn.create("invalid-gtag-resource",{gtagURL:t});return Ft.warn(e.message),""}return t}function zx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function k3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function O3(t,e){let n=k3("firebase-js-sdk-policy",{createScriptURL:P3}),r=document.createElement("script"),i=`${Qw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function F3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function L3(t,e,n,r,i,s){return f(this,null,function*(){let o=r[i];try{if(o)yield e[o];else{let c=(yield zx(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Ft.error(a)}t("config",i,s)})}function V3(t,e,n,r,i){return f(this,null,function*(){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let a=yield zx(n);for(let c of o){let l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ft.error(s)}})}function U3(t,e,n,r){function i(s,...o){return f(this,null,function*(){try{if(s==="event"){let[a,c]=o;yield V3(t,e,n,a,c)}else if(s==="config"){let[a,c]=o;yield L3(t,e,n,r,a,c)}else if(s==="consent"){let[a]=o;t("consent","update",a)}else if(s==="get"){let[a,c,l]=o;t("get",a,c,l)}else if(s==="set"){let[a]=o;t("set",a)}else t(s,...o)}catch(a){Ft.error(a)}})}return i}function B3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=U3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function j3(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(Qw)&&n.src.includes(t))return n;return null}var $3=30,z3=1e3,Hw=class{constructor(e={},n=z3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},Hx=new Hw;function H3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function q3(t){return f(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:H3(r)},s=x3.replace("{app-id}",n),o=yield fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{let c=yield o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function G3(r){return f(this,arguments,function*(t,e=Hx,n){let{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw nn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw nn.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new qw;return setTimeout(()=>f(this,null,function*(){c.abort()}),n!==void 0?n:R3),qx({appId:i,apiKey:s,measurementId:o},a,c,e)})}function qx(s,o,a){return f(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Hx){var c;let{appId:l,measurementId:u}=t;try{yield W3(r,e)}catch(d){if(u)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{let d=yield q3(t);return i.deleteThrottleMetadata(l),d}catch(d){let h=d;if(!K3(h)){if(i.deleteThrottleMetadata(l),u)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw d}let p=Number((c=h?.customData)===null||c===void 0?void 0:c.httpStatus)===503?dc(n,i.intervalMillis,$3):dc(n,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(l,y),Ft.debug(`Calling attemptFetch again in ${p} millis`),qx(t,y,r,i)}})}function W3(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function K3(t){if(!(t instanceof Be)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var qw=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var Gw;function Q3(t,e,n,r,i){return f(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let s=yield e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}})}function Y3(t,e,n,r){return f(this,null,function*(){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();{let i=yield e;t("config",i,{update:!0,user_id:n})}})}var Ww;function Z3(t){Ww=t}function J3(t){Gw=t}function X3(){return f(this,null,function*(){if(Bn())try{yield ki()}catch(t){return Ft.warn(nn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ft.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function eW(t,e,n,r,i,s,o){return f(this,null,function*(){var a;let c=G3(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ft.error(p)),e.push(c);let l=X3().then(p=>{if(p)return r.getId()}),[u,d]=yield Promise.all([c,l]);j3(s)||O3(s,u.measurementId),Ww&&(i("consent","default",Ww),Z3(void 0)),i("js",new Date);let h=(a=o?.config)!==null&&a!==void 0?a:{};return h[M3]="firebase",h.update=!0,d!=null&&(h[A3]=d),i("config",u.measurementId,h),Gw&&(i("set",Gw),J3(void 0)),u.measurementId})}var Kw=class{constructor(e){this.app=e}_delete(){return delete Bo[this.app.options.appId],Promise.resolve()}},Bo={},Lx=[],Vx={},zw="dataLayer",tW="gtag",Ux,Yw,Bx=!1;function nW(){let t=[];if(ac()&&t.push("This is a browser extension environment."),oy()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});Ft.warn(n.message)}}function rW(t,e,n){nW();let r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(Bo[r]!=null)throw nn.create("already-exists",{id:r});if(!Bx){F3(zw);let{wrappedGtag:s,gtagCore:o}=B3(Bo,Lx,Vx,zw,tW);Yw=s,Ux=o,Bx=!0}return Bo[r]=eW(t,Lx,Vx,e,Ux,zw,n),new Kw(t)}function Gx(t=Nt()){t=be(t);let e=ct(t,gf);return e.isInitialized()?e.getImmediate():Wx(t)}function Wx(t,e={}){let n=ct(t,gf);if(n.isInitialized()){let i=n.getImmediate();if(pr(e,n.getOptions()))return i;throw nn.create("already-initialized")}return n.initialize({options:e})}function Kx(){return f(this,null,function*(){if(ac()||!oy()||!Bn())return!1;try{return yield ki()}catch{return!1}})}function Qx(t,e,n){t=be(t),Y3(Yw,Bo[t.app.options.appId],e,n).catch(r=>Ft.error(r))}function Zw(t,e,n,r){t=be(t),Q3(Yw,Bo[t.app.options.appId],e,n,r).catch(i=>Ft.error(i))}var jx="@firebase/analytics",$x="0.10.1";function iW(){$e(new xe(gf,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return rW(r,i,n)},"PUBLIC")),$e(new xe("analytics-internal",t,"PRIVATE")),B(jx,$x),B(jx,$x,"esm2017");function t(e){try{let n=e.getProvider(gf).getImmediate();return{logEvent:(r,i,s)=>Zw(n,r,i,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}}}iW();var cs=class{constructor(e){return e}},Jx="analytics",Xw=class{constructor(){return Jt(Jx)}};var eI="__angularfire_symbol__analyticsIsSupportedValue",Xx="__angularfire_symbol__analyticsIsSupported";globalThis[Xx]||=Kx().then(t=>globalThis[eI]=t).catch(()=>globalThis[eI]=!1);var mf={async:()=>globalThis[Xx],sync:()=>{let t=globalThis[eI];if(t===void 0)throw new Error(bd("Analytics"));return t}},eN=mf.async,tN=We(Gx,!0);var sW=We(Zw,!0);var oW=We(Qx,!0);var yf=(()=>{class t{initialized;disposables=[];constructor(n,r,i){B("angularfire",lt.full,"user-tracking");let s;this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),eN().then(()=>{let o=i.get(cs);o?this.disposables=[jS(n).subscribe(a=>{oW(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(N(zi),N(z),N(Ce))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),aW="firebase_event_origin",cW="firebase_previous_class",lW="firebase_previous_id",uW="firebase_previous_screen",dW="firebase_screen_class",Yx="firebase_screen_id",hW="firebase_screen",tI="outlet",fW="page_path",pW="page_title",sl="screen_class",Zx="screen_name",gW="screen_view",mW="auto",yW="#",_W=Math.floor(Math.random()*(2**32-1))-2**31,Jw={},vW=t=>{let e=[t[sl],t[tI]].join(yW);if(Jw.hasOwnProperty(e))return Jw[e];{let n=_W++;return Jw[e]=n,n}},wW=(t,e,n)=>t.events.pipe(Ct(i=>i instanceof Ha)).pipe(bt(i=>{let o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!a)return P(null);let c=a;for(;c.firstChild;)c=c.firstChild;let l=c.pathFromRoot.map(h=>h.routeConfig?.path).filter(h=>h).join("/")||"/",u={[Zx]:l,[fW]:`/${o}`,[aW]:mW,[hW]:l,[tI]:i.snapshot.outlet};e&&(u[pW]=e.getTitle());let d=a.component;if(d){if(d===qm){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;d=h.component}}else d=i.snapshot.component;if(typeof d=="string")return P(de(S({},u),{[sl]:d}));if(d){let h=n.resolveComponentFactory(d);return P(de(S({},u),{[sl]:h.selector}))}return P(null)}),Ct(i=>!!i),Z(i=>S({[dW]:i[sl],[Yx]:vW(i)},i)),ip(i=>i[tI]),Fe(i=>i.pipe(rp((s,o)=>JSON.stringify(s)===JSON.stringify(o)),da(void 0),op(),Z(([s,o])=>s?S({[cW]:s[sl],[uW]:s[Zx],[lW]:s[Yx]},o):o)))),nI=(()=>{class t{disposable;constructor(n,r,i,s,o,a){B("angularfire",lt.full,"screen-tracking"),eN().then(()=>{let c=a.get(cs);!n||!c||s.runOutsideAngular(()=>{this.disposable=wW(n,r,i).pipe(bt(l=>f(this,null,function*(){return o&&(yield o.initialized),sW(c,gW,l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(r){return new(r||t)(N(un,8),N(Ku,8),N(Ws),N(z),N(yf,8),N(Ce))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),rI=new x("angularfire2.analytics-instances");function IW(t,e){if(!mf.sync())return null;let n=dn(Jx,t,e);return n&&new cs(n)}function EW(t){return(e,n)=>{if(!mf.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new cs(r)}}var CW={provide:Xw,deps:[[new ge,rI]]},bW={provide:cs,useFactory:IW,deps:[[new ge,rI],ut]},TW=(()=>{class t{constructor(n,r){B("angularfire",lt.full,"analytics")}static \u0275fac=function(r){return new(r||t)(N(nI,8),N(yf,8))};static \u0275mod=Pe({type:t});static \u0275inj=Ne({providers:[bW,CW,{provide:zr,useValue:mf.async,multi:!0}]})}return t})();function nN(t,...e){return{ngModule:TW,providers:[{provide:rI,useFactory:EW(t),multi:!0,deps:[z,Ce,zt,Pt,...e]}]}}var rN="@firebase/database",iN="1.0.3";var tE="";function DW(t){tE=t}var dI=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ao(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var hI=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var FN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new dI(e)}}catch{}return new hI},us=FN("localStorage"),fI=FN("sessionStorage");var Ho=new jt("@firebase/database"),SW=function(){let t=1;return function(){return t++}}(),LN=function(t){let e=UD(t),n=new gd;n.update(e);let r=n.digest();return md.encodeByteArray(r)},_l=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_l.apply(null,r):typeof r=="object"?e+=Xe(r):e+=r,e+=" "}return e},ds=null,sN=!0,AW=function(t,e){b(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ho.logLevel=Y.VERBOSE,ds=Ho.log.bind(Ho),e&&fI.set("logging_enabled",!0)):typeof t=="function"?ds=t:(ds=null,fI.remove("logging_enabled"))},vt=function(...t){if(sN===!0&&(sN=!1,ds===null&&fI.get("logging_enabled")===!0&&AW(!0)),ds){let e=_l.apply(null,t);ds(e)}},vl=function(t){return function(...e){vt(t,...e)}},pI=function(...t){let e="FIREBASE INTERNAL ERROR: "+_l(...t);Ho.error(e)},Cr=function(...t){let e=`FIREBASE FATAL ERROR: ${_l(...t)}`;throw Ho.error(e),new Error(e)},rn=function(...t){let e="FIREBASE WARNING: "+_l(...t);Ho.warn(e)},MW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},VN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},RW=function(t){if(Un()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Go="[MIN_NAME]",hs="[MAX_NAME]",Xo=function(t,e){if(t===e)return 0;if(t===Go||e===hs)return-1;if(e===Go||t===hs)return 1;{let n=oN(t),r=oN(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},xW=function(t,e){return t===e?0:t<e?-1:1},ol=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xe(e))},nE=function(t){if(typeof t!="object"||t===null)return Xe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Xe(e[r]),n+=":",n+=nE(t[e[r]]);return n+="}",n},UN=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function gn(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var BN=function(t){b(!VN(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},NW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},PW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var kW=new RegExp("^-?(0*)\\d{1,10}$"),OW=-2147483648,FW=2147483647,oN=function(t){if(kW.test(t)){let e=Number(t);if(e>=OW&&e<=FW)return e}return null},wl=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw rn("Exception was thrown by user callback.",n),e},Math.floor(0))}},LW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dl=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var gI=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var mI=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rn(e)}},hl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),vf="5",jN="v",$N="s",zN="r",HN="f",qN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GN="ls",WN="p",yI="ac",KN="websocket",QN="long_polling";var wf=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=us.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&us.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function VW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function YN(t,e,n){b(typeof e=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let r;if(e===KN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===QN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);VW(t)&&(n.ns=t.namespace);let i=[];return gn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var _I=class{constructor(){this.counters_={}}incrementCounter(e,n=1){jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return RD(this.counters_)}};var iI={},sI={};function rE(t){let e=t.toString();return iI[e]||(iI[e]=new _I),iI[e]}function UW(t,e){let n=t.toString();return sI[n]||(sI[n]=e()),sI[n]}var vI=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var aN="start",BW="close",jW="pLPCommand",$W="pRTLPCB",ZN="id",JN="pw",XN="ser",zW="cb",HW="seg",qW="ts",GW="d",WW="dframe",eP=1870,tP=30,KW=eP-tP,QW=25e3,YW=3e4,wI=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vl(e),this.stats_=rE(n),this.urlFn=c=>(this.appCheckToken&&(c[yI]=this.appCheckToken),YN(n,QN,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YW)),RW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new II((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===aN)this.id=a,this.password=c;else if(o===BW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[aN]="t",r[XN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[zW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[jN]=vf,this.transportSessionId&&(r[$N]=this.transportSessionId),this.lastSessionId&&(r[GN]=this.lastSessionId),this.applicationId&&(r[WN]=this.applicationId),this.appCheckToken&&(r[yI]=this.appCheckToken),typeof location<"u"&&location.hostname&&qN.test(location.hostname)&&(r[zN]=HN);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Un()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!NW()&&!PW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=ny(n),i=UN(r,KW);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Un())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[WW]="t",r[ZN]=e,r[JN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},II=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Un())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=SW(),window[jW+this.uniqueCallbackIdentifier]=e,window[$W+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){vt("frame writing exception"),a.stack&&vt(a.stack),vt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[ZN]=this.myID,e[JN]=this.myPW,e[XN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+tP+r.length<=eP;){let o=this.pendingSegs.shift();r=r+"&"+HW+i+"="+o.seg+"&"+qW+i+"="+o.ts+"&"+GW+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(QW)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Un()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var ZW=16384,JW=45e3,If=null;typeof MozWebSocket<"u"?If=MozWebSocket:typeof WebSocket<"u"&&(If=WebSocket);var al=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vl(this.connId),this.stats_=rE(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[jN]=vf,!Un()&&typeof location<"u"&&location.hostname&&qN.test(location.hostname)&&(a[zN]=HN),r&&(a[$N]=r),i&&(a[GN]=i),s&&(a[yI]=s),o&&(a[WN]=o),YN(n,KN,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,us.set("previous_websocket_failure",!0);try{let i;if(Un()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${vf}/${tE}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new If(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&If!==null&&!t.forceDisallow_}static previouslyFailed(){return us.isInMemoryStorage||us.get("previous_websocket_failure")===!0}markConnectionHealthy(){us.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ao(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Xe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=UN(r,ZW);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JW))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),XW=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wI,al]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=al&&al.isAvailable(),i=r&&!al.previouslyFailed();if(n.webSocketOnly&&(r||rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[al];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),e5=6e4,t5=5e3,n5=10*1024,r5=100*1024,oI="t",cN="d",i5="s",lN="r",s5="e",uN="o",dN="a",hN="n",fN="p",o5="h",EI=class{constructor(e,n,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vl("c:"+this.id+":"),this.transportManager_=new XW(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=dl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>r5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>n5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(oI in e){let n=e[oI];n===dN?this.upgradeIfSecondaryHealthy_():n===lN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===uN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ol("t",e),r=ol("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:dN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ol("t",e),r=ol("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ol(oI,e);if(cN in e){let r=e[cN];if(n===o5){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===hN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===i5?this.onConnectionShutdown_(r):n===lN?this.onReset_(r):n===s5?pI("Server Error: "+r):n===uN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pI("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vf!==r&&rn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),dl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(e5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(t5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fN,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ef=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Cf=class{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var bf=class t extends Cf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var pN=32,gN=768,Ie=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ve(){return new Ie("")}function le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function di(t){return t.pieces_.length-t.pieceNum_}function Ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ie(t.pieces_,e)}function nP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function a5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function rP(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function iP(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ie(e,0)}function st(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ie(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function fn(t,e){let n=le(t),r=le(e);if(n===null)return e;if(n===r)return fn(Ae(t),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function sP(t,e){if(di(t)!==di(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Dn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(di(t)>di(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var CI=class{constructor(e,n){this.errorPrefix_=n,this.parts_=rP(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=uc(this.parts_[r]);oP(this)}};function c5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=uc(e),oP(t)}function l5(t){let e=t.parts_.pop();t.byteLength_-=uc(e),t.parts_.length>0&&(t.byteLength_-=1)}function oP(t){if(t.byteLength_>gN)throw new Error(t.errorPrefix_+"has a key path longer than "+gN+" bytes ("+t.byteLength_+").");if(t.parts_.length>pN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pN+") or object contains a cycle "+ls(t))}function ls(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var bI=class t extends Cf{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}};var cl=1e3,u5=60*5*1e3,mN=30*1e3,d5=1.3,h5=3e4,f5="server_kill",yN=3,iE=(()=>{class t extends Ef{constructor(n,r,i,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cl,this.maxReconnectDelay_=u5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Un())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bI.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&bf.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Xe(o)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Ni,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&jn(n,"w")){let i=Oi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();rn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||FD(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mN)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=OD(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Xe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):pI("Unrecognized action received from server: "+Xe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>h5&&(this.reconnectDelay_=cl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*d5)}this.onConnectStatus_(!1)}establishConnection_(){return f(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(h){b(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,p]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,c=new EI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,y=>{rn(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(f5)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&rn(h),l())}}})}interrupt(n){vt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){vt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],cc(this.interruptReasons_)&&(this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>nE(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Ie(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){vt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yN&&(this.reconnectDelay_=mN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){vt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Un()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+tE.replace(/\./g,"-")]=1,oc()?n["framework.cordova"]=1:_d()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=bf.getInstance().currentlyOnline();return cc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ue=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Wo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ue(Go,e),i=new ue(Go,n);return this.compare(r,i)!==0}minPost(){return ue.MIN}};var _f,Tf=class extends Wo{static get __EMPTY_NODE(){return _f}static set __EMPTY_NODE(e){_f=e}compare(e,n){return Xo(e.name,n.name)}isDefinedOn(e){throw Pi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(hs,_f)}makePost(e,n){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,_f)}toString(){return".key"}},qo=new Tf;var $o=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Tn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??pn.EMPTY_NODE,this.right=o??pn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return pn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return pn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),TI=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},pn=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $o(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $o(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $o(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $o(this.root_,null,this.comparator_,!0,e)}};pn.EMPTY_NODE=new TI;function p5(t,e){return Xo(t.name,e.name)}function sE(t,e){return Xo(t,e)}var DI;function g5(t){DI=t}var aP=function(t){return typeof t=="number"?"number:"+BN(t):"string:"+t},cP=function(t){if(t.isLeafNode()){let e=t.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jn(e,".sv"),"Priority must be a string or number.")}else b(t===DI||t.isEmpty(),"priority of unexpected type.");b(t===DI||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var _N,Ko=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cP(this.priorityNode_)}static set __childrenNodeConstructor(n){_N=n}static get __childrenNodeConstructor(){return _N}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ae(n)?this:le(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=le(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||di(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+aP(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=BN(this.value_):n+=this.value_,this.lazyHash_=LN(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return b(s>=0,"Unknown leaf type: "+r),b(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),lP,uP;function m5(t){lP=t}function y5(t){uP=t}var SI=class extends Wo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Xo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(hs,new Ko("[PRIORITY-POST]",uP))}makePost(e,n){let r=lP(e);return new ue(n,new Ko("[PRIORITY-POST]",r))}toString(){return".priority"}},It=new SI;var _5=Math.log(2),AI=class{constructor(e){let n=s=>parseInt(Math.log(s)/_5,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Df=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=t[c],h=n?n(d):d,new Tn(h,d.node,Tn.BLACK,null,null);{let p=parseInt(u/2,10)+c,y=i(c,p),v=i(p+1,l);return d=t[p],h=n?n(d):d,new Tn(h,d.node,Tn.BLACK,y,v)}},s=function(c){let l=null,u=null,d=t.length,h=function(y,v){let w=d-y,T=d;d-=y;let V=i(w+1,T),G=t[w],M=n?n(G):G;p(new Tn(M,G.node,v,null,V))},p=function(y){l?(l.left=y,l=y):(u=y,l=y)};for(let y=0;y<c.count;++y){let v=c.nextBitIsOne(),w=Math.pow(2,c.count-(y+1));v?h(w,Tn.BLACK):(h(w,Tn.BLACK),h(w,Tn.RED))}return u},o=new AI(t.length),a=s(o);return new pn(r||e,a)};var aI,jo={},Qo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return b(jo&&It,"ChildrenNode.ts has not been loaded"),aI=aI||new t({".priority":jo},{".priority":It}),aI}get(e){let n=Oi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pn?n:null}hasIndex(e){return jn(this.indexSet_,e.toString())}addIndex(e,n){b(e!==qo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(ue.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Df(r,e.getCompare()):a=jo;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=lc(this.indexes_,(i,s)=>{let o=Oi(this.indexSet_,s);if(b(o,"Missing index implementation for "+s),i===jo)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(ue.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Df(a,o.getCompare())}else return jo;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new ue(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=lc(this.indexes_,i=>{if(i===jo)return i;{let s=n.get(e.name);return s?i.remove(new ue(e.name,s)):i}});return new t(r,this.indexSet_)}};var ll,ke=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cP(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ll||(ll=new t(new pn(sE),null,Qo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ll}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ll:r}}getChild(n){let r=le(n);return r===null?this:this.getImmediateChild(r).getChild(Ae(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(b(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ue(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?ll:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=le(n);if(i===null)return r;{b(le(n)!==".priority"||di(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Ae(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(It,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+aP(this.getPriority().val())+":"),this.forEachChild(It,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":LN(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new ue(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ue(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ue(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,ue.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,ue.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Il?-1:0}withIndex(n){if(n===qo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===qo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(It),s=r.getIterator(It),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===qo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),MI=class extends ke{constructor(){super(new pn(sE),ke.EMPTY_NODE,Qo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ke.EMPTY_NODE}isEmpty(){return!1}},Il=new MI;Object.defineProperties(ue,{MIN:{value:new ue(Go,ke.EMPTY_NODE)},MAX:{value:new ue(hs,Il)}});Tf.__EMPTY_NODE=ke.EMPTY_NODE;Ko.__childrenNodeConstructor=ke;g5(Il);y5(Il);var v5=!0;function wt(t,e=null){if(t===null)return ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ko(n,wt(e))}if(!(t instanceof Array)&&v5){let n=[],r=!1;if(gn(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=wt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ue(o,c)))}}),n.length===0)return ke.EMPTY_NODE;let s=Df(n,p5,o=>o.name,sE);if(r){let o=Df(n,It.getCompare());return new ke(s,wt(e),new Qo({".priority":o},{".priority":It}))}else return new ke(s,wt(e),Qo.Default)}else{let n=ke.EMPTY_NODE;return gn(t,(r,i)=>{if(jn(t,r)&&r.substring(0,1)!=="."){let s=wt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(wt(e))}}m5(wt);var RI=class extends Wo{constructor(e){super(),this.indexPath_=e,b(!ae(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Xo(e.name,n.name):s}makePost(e,n){let r=wt(e),i=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(n,i)}maxPost(){let e=ke.EMPTY_NODE.updateChild(this.indexPath_,Il);return new ue(hs,e)}toString(){return rP(this.indexPath_,0).join("/")}};var xI=class extends Wo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Xo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){let r=wt(e);return new ue(n,r)}toString(){return".value"}},w5=new xI;function I5(t){return{type:"value",snapshotNode:t}}function E5(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function C5(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vN(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function b5(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var NI=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=It}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Go}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===It}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function wN(t){let e={};if(t.isDefault())return e;let n;if(t.index_===It?n="$priority":t.index_===w5?n="$value":t.index_===qo?n="$key":(b(t.index_ instanceof RI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Xe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Xe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Xe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function IN(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==It&&(e.i=t.index_.toString()),e}var PI=class t extends Ef{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=vl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=wN(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),Oi(this.listens_,o)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=wN(e._queryParams),r=e._path.toString(),i=new Ni;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fi(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ao(a.responseText)}catch{rn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&rn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var kI=class{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Sf(){return{value:null,children:new Map}}function dP(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=le(e);t.children.has(r)||t.children.set(r,Sf());let i=t.children.get(r);e=Ae(e),dP(i,e,n)}}function OI(t,e,n){t.value!==null?n(e,t.value):T5(t,(r,i)=>{let s=new Ie(e.toString()+"/"+r);OI(i,s,n)})}function T5(t,e){t.children.forEach((n,r)=>{e(r,n)})}var FI=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&gn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var EN=10*1e3,D5=30*1e3,S5=5*60*1e3,LI=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new FI(e);let r=EN+(D5-EN)*Math.random();dl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;gn(e,(i,s)=>{s>0&&jn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),dl(this.reportStats_.bind(this),Math.floor(Math.random()*2*S5))}};var Er=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Er||{});function hP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var VI=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Er.ACK_USER_WRITE,this.source=hP()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Ie(e));return new t(ve(),n,this.revert)}}else return b(le(this.path)===e,"operationForChild called for unrelated child."),new t(Ae(this.path),this.affectedTree,this.revert)}};var Yo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Er.OVERWRITE}operationForChild(e){return ae(this.path)?new t(this.source,ve(),this.snap.getImmediateChild(e)):new t(this.source,Ae(this.path),this.snap)}};var Af=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Er.MERGE}operationForChild(e){if(ae(this.path)){let n=this.children.subtree(new Ie(e));return n.isEmpty()?null:n.value?new Yo(this.source,ve(),n.value):new t(this.source,ve(),n)}else return b(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var gl=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;let n=le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function A5(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(b5(o.childName,o.snapshotNode))}),ul(t,i,"child_removed",e,r,n),ul(t,i,"child_added",e,r,n),ul(t,i,"child_moved",s,r,n),ul(t,i,"child_changed",e,r,n),ul(t,i,"value",e,r,n),i}function ul(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>R5(t,a,c)),o.forEach(a=>{let c=M5(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function M5(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function R5(t,e,n){if(e.childName==null||n.childName==null)throw Pi("Should only compare child_ events.");let r=new ue(e.childName,e.snapshotNode),i=new ue(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function gP(t,e){return{eventCache:t,serverCache:e}}function fl(t,e,n,r){return gP(new gl(e,n,r),t.serverCache)}function mP(t,e,n,r){return gP(t.eventCache,new gl(e,n,r))}function UI(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var cI,x5=()=>(cI||(cI=new pn(xW)),cI),Ht=class t{constructor(e,n=x5()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return gn(e,(r,i)=>{n=n.set(new Ie(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ve(),value:this.value};if(ae(e))return null;{let r=le(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Ae(e),n);return s!=null?{path:st(new Ie(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{let n=le(e),r=this.children.get(n);return r!==null?r.subtree(Ae(e)):new t(null)}}set(e,n){if(ae(e))return new t(n,this.children);{let r=le(e),s=(this.children.get(r)||new t(null)).set(Ae(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=le(e),r=this.children.get(n);if(r){let i=r.remove(Ae(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(ae(e))return this.value;{let n=le(e),r=this.children.get(n);return r?r.get(Ae(e)):null}}setTree(e,n){if(ae(e))return n;{let r=le(e),s=(this.children.get(r)||new t(null)).setTree(Ae(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(ve(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(st(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ve(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(ae(e))return null;{let s=le(e),o=this.children.get(s);return o?o.findOnPath_(Ae(e),st(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ve(),n)}foreachOnPath_(e,n,r){if(ae(e))return this;{this.value&&r(n,this.value);let i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Ae(e),st(n,i),r):new t(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(st(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Sn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ht(null))}};function pl(t,e,n){if(ae(e))return new Sn(new Ht(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=fn(i,e);return s=s.updateChild(o,n),new Sn(t.writeTree_.set(i,s))}else{let i=new Ht(n),s=t.writeTree_.setTree(e,i);return new Sn(s)}}}function CN(t,e,n){let r=t;return gn(n,(i,s)=>{r=pl(r,st(e,i),s)}),r}function bN(t,e){if(ae(e))return Sn.empty();{let n=t.writeTree_.setTree(e,new Ht(null));return new Sn(n)}}function BI(t,e){return ps(t,e)!=null}function ps(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fn(n.path,e)):null}function TN(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(It,(r,i)=>{e.push(new ue(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ue(r,i.value))}),e}function ui(t,e){if(ae(e))return t;{let n=ps(t,e);return n!=null?new Sn(new Ht(n)):new Sn(t.writeTree_.subtree(e))}}function jI(t){return t.writeTree_.isEmpty()}function Zo(t,e){return yP(ve(),t.writeTree_,e)}function yP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(b(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=yP(st(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(st(t,".priority"),r)),n}}function _P(t,e){return CP(e,t)}function N5(t,e,n,r,i){b(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=pl(t.visibleWrites,e,n)),t.lastWriteId=r}function P5(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function k5(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&O5(a,r.path)?i=!1:Dn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return F5(t),!0;if(r.snap)t.visibleWrites=bN(t.visibleWrites,r.path);else{let a=r.children;gn(a,c=>{t.visibleWrites=bN(t.visibleWrites,st(r.path,c))})}return!0}else return!1}function O5(t,e){if(t.snap)return Dn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Dn(st(t.path,n),e))return!0;return!1}function F5(t){t.visibleWrites=vP(t.allWrites,L5,ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function L5(t){return t.visible}function vP(t,e,n){let r=Sn.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Dn(n,o)?(a=fn(n,o),r=pl(r,a,s.snap)):Dn(o,n)&&(a=fn(o,n),r=pl(r,ve(),s.snap.getChild(a)));else if(s.children){if(Dn(n,o))a=fn(n,o),r=CN(r,a,s.children);else if(Dn(o,n))if(a=fn(o,n),ae(a))r=CN(r,ve(),s.children);else{let c=Oi(s.children,le(a));if(c){let l=c.getChild(Ae(a));r=pl(r,ve(),l)}}}else throw Pi("WriteRecord should have .snap or .children")}}return r}function wP(t,e,n,r,i){if(!r&&!i){let s=ps(t.visibleWrites,e);if(s!=null)return s;{let o=ui(t.visibleWrites,e);if(jI(o))return n;if(n==null&&!BI(o,ve()))return null;{let a=n||ke.EMPTY_NODE;return Zo(o,a)}}}else{let s=ui(t.visibleWrites,e);if(!i&&jI(s))return n;if(!i&&n==null&&!BI(s,ve()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Dn(l.path,e)||Dn(e,l.path))},a=vP(t.allWrites,o,e),c=n||ke.EMPTY_NODE;return Zo(a,c)}}}function V5(t,e,n){let r=ke.EMPTY_NODE,i=ps(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(It,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=ui(t.visibleWrites,e);return n.forEachChild(It,(o,a)=>{let c=Zo(ui(s,new Ie(o)),a);r=r.updateImmediateChild(o,c)}),TN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=ui(t.visibleWrites,e);return TN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function U5(t,e,n,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=st(e,n);if(BI(t.visibleWrites,s))return null;{let o=ui(t.visibleWrites,s);return jI(o)?i.getChild(n):Zo(o,i.getChild(n))}}function B5(t,e,n,r){let i=st(e,n),s=ps(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=ui(t.visibleWrites,i);return Zo(o,r.getNode().getImmediateChild(n))}else return null}function j5(t,e){return ps(t.visibleWrites,e)}function $5(t,e,n,r,i,s,o){let a,c=ui(t.visibleWrites,e),l=ps(c,ve());if(l!=null)a=l;else if(n!=null)a=Zo(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),p=h.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function z5(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}function $I(t,e,n,r){return wP(t.writeTree,t.treePath,e,n,r)}function IP(t,e){return V5(t.writeTree,t.treePath,e)}function DN(t,e,n,r){return U5(t.writeTree,t.treePath,e,n,r)}function Mf(t,e){return j5(t.writeTree,st(t.treePath,e))}function H5(t,e,n,r,i,s){return $5(t.writeTree,t.treePath,e,n,r,i,s)}function oE(t,e,n){return B5(t.writeTree,t.treePath,e,n)}function EP(t,e){return CP(st(t.treePath,e),t.writeTree)}function CP(t,e){return{treePath:t,writeTree:e}}var zI=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,vN(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,C5(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,E5(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,vN(r,e.snapshotNode,i.oldSnap));else throw Pi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var HI=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},bP=new HI,ml=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new gl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oE(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),s=H5(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function q5(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function G5(t,e,n,r,i){let s=new zI,o,a;if(n.type===Er.OVERWRITE){let l=n;l.source.fromUser?o=qI(t,e,l.path,l.snap,r,i,s):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!ae(l.path),o=Rf(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Er.MERGE){let l=n;l.source.fromUser?o=K5(t,e,l.path,l.children,r,i,s):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=GI(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Er.ACK_USER_WRITE){let l=n;l.revert?o=Z5(t,e,l.path,r,i,s):o=Q5(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===Er.LISTEN_COMPLETE)o=Y5(t,e,n.path,r,s);else throw Pi("Unknown operation type: "+n.type);let c=s.getChanges();return W5(e,o,c),{viewCache:o,changes:c}}function W5(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=UI(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(I5(UI(e)))}}function TP(t,e,n,r,i,s){let o=e.eventCache;if(Mf(r,n)!=null)return e;{let a,c;if(ae(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=fs(e),u=l instanceof ke?l:ke.EMPTY_NODE,d=IP(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let l=$I(r,fs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=le(n);if(l===".priority"){b(di(n)===1,"Can't have a priority with additional path components");let u=o.getNode();c=e.serverCache.getNode();let d=DN(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=Ae(n),d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let h=DN(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(l).updateChild(u,h):d=o.getNode().getImmediateChild(l)}else d=oE(r,l,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),l,d,u,i,s):a=o.getNode()}}return fl(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function Rf(t,e,n,r,i,s,o,a){let c=e.serverCache,l,u=o?t.filter:t.filter.getIndexedFilter();if(ae(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let p=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),p,null)}else{let p=le(n);if(!c.isCompleteForPath(n)&&di(n)>1)return e;let y=Ae(n),w=c.getNode().getImmediateChild(p).updateChild(y,r);p===".priority"?l=u.updatePriority(c.getNode(),w):l=u.updateChild(c.getNode(),p,w,y,bP,null)}let d=mP(e,l,c.isFullyInitialized()||ae(n),u.filtersNodes()),h=new ml(i,d,s);return TP(t,d,n,i,h,a)}function qI(t,e,n,r,i,s,o){let a=e.eventCache,c,l,u=new ml(i,e,s);if(ae(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=fl(e,l,!0,t.filter.filtersNodes());else{let d=le(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=fl(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=Ae(n),p=a.getNode().getImmediateChild(d),y;if(ae(h))y=r;else{let v=u.getCompleteChild(d);v!=null?nP(h)===".priority"&&v.getChild(iP(h)).isEmpty()?y=v:y=v.updateChild(h,r):y=ke.EMPTY_NODE}if(p.equals(y))c=e;else{let v=t.filter.updateChild(a.getNode(),d,y,h,u,o);c=fl(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function SN(t,e){return t.eventCache.isCompleteForChild(e)}function K5(t,e,n,r,i,s,o){let a=e;return r.foreach((c,l)=>{let u=st(n,c);SN(e,le(u))&&(a=qI(t,a,u,l,i,s,o))}),r.foreach((c,l)=>{let u=st(n,c);SN(e,le(u))||(a=qI(t,a,u,l,i,s,o))}),a}function AN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function GI(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;ae(n)?l=r:l=new Ht(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let p=e.serverCache.getNode().getImmediateChild(d),y=AN(t,p,h);c=Rf(t,c,new Ie(d),y,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{let p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){let y=e.serverCache.getNode().getImmediateChild(d),v=AN(t,y,h);c=Rf(t,c,new Ie(d),v,i,s,o,a)}}),c}function Q5(t,e,n,r,i,s,o){if(Mf(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ae(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Rf(t,e,n,c.getNode().getChild(n),i,s,a,o);if(ae(n)){let l=new Ht(null);return c.getNode().forEachChild(qo,(u,d)=>{l=l.set(new Ie(u),d)}),GI(t,e,n,l,i,s,a,o)}else return e}else{let l=new Ht(null);return r.foreach((u,d)=>{let h=st(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),GI(t,e,n,l,i,s,a,o)}}function Y5(t,e,n,r,i){let s=e.serverCache,o=mP(e,s.getNode(),s.isFullyInitialized()||ae(n),s.isFiltered());return TP(t,o,n,r,bP,i)}function Z5(t,e,n,r,i,s){let o;if(Mf(r,n)!=null)return e;{let a=new ml(r,e,i),c=e.eventCache.getNode(),l;if(ae(n)||le(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=$I(r,fs(e));else{let d=e.serverCache.getNode();b(d instanceof ke,"serverChildren would be complete if leaf node"),u=IP(r,d)}u=u,l=t.filter.updateFullNode(c,u,s)}else{let u=le(n),d=oE(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,Ae(n),a,s):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,ke.EMPTY_NODE,Ae(n),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=$I(r,fs(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||Mf(r,ve())!=null,fl(e,l,o,t.filter.filtersNodes())}}function J5(t,e){let n=fs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(le(e)).isEmpty())?n.getChild(e):null}function MN(t,e,n,r){e.type===Er.MERGE&&e.source.queryId!==null&&(b(fs(t.viewCache_),"We should always have a full cache before handling merges"),b(UI(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=G5(t.processor_,i,e,n,r);return q5(t.processor_,s.viewCache),b(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,X5(t,s.changes,s.viewCache.eventCache.getNode(),null)}function X5(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return A5(t.eventGenerator_,e,n,i)}var RN;function e6(t){b(!RN,"__referenceConstructor has already been defined"),RN=t}function aE(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return b(s!=null,"SyncTree gave us an op for an invalid query."),MN(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(MN(o,e,n,r));return s}}function cE(t,e){let n=null;for(let r of t.views.values())n=n||J5(r,e);return n}var xN;function t6(t){b(!xN,"__referenceConstructor has already been defined"),xN=t}var xf=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ht(null),this.pendingWriteTree_=z5(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function n6(t,e,n,r,i){return N5(t.pendingWriteTree_,e,n,r,i),i?Pf(t,new Yo(hP(),e,n)):[]}function zo(t,e,n=!1){let r=P5(t.pendingWriteTree_,e);if(k5(t.pendingWriteTree_,e)){let s=new Ht(null);return r.snap!=null?s=s.set(ve(),!0):gn(r.children,o=>{s=s.set(new Ie(o),!0)}),Pf(t,new VI(r.path,s,n))}else return[]}function Nf(t,e,n){return Pf(t,new Yo(fP(),e,n))}function r6(t,e,n){let r=Ht.fromObject(n);return Pf(t,new Af(fP(),e,r))}function i6(t,e,n,r){let i=MP(t,r);if(i!=null){let s=RP(i),o=s.path,a=s.queryId,c=fn(o,e),l=new Yo(pP(a),c,n);return xP(t,o,l)}else return[]}function s6(t,e,n,r){let i=MP(t,r);if(i){let s=RP(i),o=s.path,a=s.queryId,c=fn(o,e),l=Ht.fromObject(n),u=new Af(pP(a),c,l);return xP(t,o,u)}else return[]}function DP(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=fn(o,e),l=cE(a,c);if(l)return l});return wP(i,e,s,n,!0)}function Pf(t,e){return SP(e,t.syncPointTree_,null,_P(t.pendingWriteTree_,ve()))}function SP(t,e,n,r){if(ae(t.path))return AP(t,e,n,r);{let i=e.get(ve());n==null&&i!=null&&(n=cE(i,ve()));let s=[],o=le(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let l=n?n.getImmediateChild(o):null,u=EP(r,o);s=s.concat(SP(a,c,l,u))}return i&&(s=s.concat(aE(i,t,r,n))),s}}function AP(t,e,n,r){let i=e.get(ve());n==null&&i!=null&&(n=cE(i,ve()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,l=EP(r,o),u=t.operationForChild(o);u&&(s=s.concat(AP(u,a,c,l)))}),i&&(s=s.concat(aE(i,t,r,n))),s}function MP(t,e){return t.tagToQueryMap.get(e)}function RP(t){let e=t.indexOf("$");return b(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ie(t.substr(0,e))}}function xP(t,e,n){let r=t.syncPointTree_.get(e);b(r,"Missing sync point for query tag that we're tracking");let i=_P(t.pendingWriteTree_,e);return aE(r,n,i,null)}var WI=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},KI=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=st(this.path_,e);return new t(this.syncTree_,n)}node(){return DP(this.syncTree_,this.path_)}},o6=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},NN=function(t,e,n){if(!t||typeof t!="object")return t;if(b(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return a6(t[".sv"],e,n);if(typeof t[".sv"]=="object")return c6(t[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},a6=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+t)}},c6=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&b(!1,"Unexpected increment value: "+r);let i=e.node();if(b(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},l6=function(t,e,n,r){return lE(e,new KI(n,t),r)},u6=function(t,e,n){return lE(t,new WI(e),n)};function lE(t,e,n){let r=t.getPriority().val(),i=NN(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=NN(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ko(a,wt(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ko(i))),o.forEachChild(It,(a,c)=>{let l=lE(c,e.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var yl=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function uE(t,e){let n=e instanceof Ie?e:new Ie(e),r=t,i=le(n);for(;i!==null;){let s=Oi(r.node.children,i)||{children:{},childCount:0};r=new yl(i,r,s),n=Ae(n),i=le(n)}return r}function ea(t){return t.node.value}function NP(t,e){t.node.value=e,QI(t)}function PP(t){return t.node.childCount>0}function d6(t){return ea(t)===void 0&&!PP(t)}function kf(t,e){gn(t.node.children,(n,r)=>{e(new yl(n,t,r))})}function kP(t,e,n,r){n&&!r&&e(t),kf(t,i=>{kP(i,e,!0,r)}),n&&r&&e(t)}function h6(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function El(t){return new Ie(t.parent===null?t.name:El(t.parent)+"/"+t.name)}function QI(t){t.parent!==null&&f6(t.parent,t.name,t)}function f6(t,e,n){let r=d6(n),i=jn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,QI(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,QI(t))}var p6=/[\[\].#$\/\u0000-\u001F\u007F]/,g6=/[\[\].#$\u0000-\u001F\u007F]/,lI=10*1024*1024,OP=function(t){return typeof t=="string"&&t.length!==0&&!p6.test(t)},m6=function(t){return typeof t=="string"&&t.length!==0&&!g6.test(t)},y6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),m6(t)};var FP=function(t,e,n){let r=n instanceof Ie?new CI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ls(r));if(typeof e=="function")throw new Error(t+"contains a function "+ls(r)+" with contents = "+e.toString());if(VN(e))throw new Error(t+"contains "+e.toString()+" "+ls(r));if(typeof e=="string"&&e.length>lI/3&&uc(e)>lI)throw new Error(t+"contains a string greater than "+lI+" utf8 bytes "+ls(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(gn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!OP(o)))throw new Error(t+" contains an invalid key ("+o+") "+ls(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);c5(r,o),FP(t,a,r),l5(r)}),i&&s)throw new Error(t+' contains ".value" child '+ls(r)+" in addition to actual children.")}};var _6=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!OP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!y6(n))throw new Error(VD(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var YI=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function v6(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!sP(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function gs(t,e,n){v6(t,n),w6(t,r=>Dn(r,e)||Dn(e,r))}function w6(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(I6(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function I6(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();ds&&vt("event: "+n.toString()),wl(r)}}}var E6="repo_interrupt",C6=25,ZI=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sf(),this.transactionQueueTree_=new yl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function b6(t,e,n){if(t.stats_=rE(t.repoInfo_),t.forceRestClient_||LW())t.server_=new PI(t.repoInfo_,(r,i,s,o)=>{PN(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new iE(t.repoInfo_,e,(r,i,s,o)=>{PN(t,r,i,s,o)},r=>{kN(t,r)},r=>{D6(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=UW(t.repoInfo_,()=>new LI(t.stats_,t.server_)),t.infoData_=new kI,t.infoSyncTree_=new xf({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Nf(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),dE(t,"connected",!1),t.serverSyncTree_=new xf({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);gs(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function T6(t){let n=t.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function LP(t){return o6({timestamp:T6(t)})}function PN(t,e,n,r,i){t.dataUpdateCount++;let s=new Ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=lc(n,l=>wt(l));o=s6(t.serverSyncTree_,s,c,i)}else{let c=wt(n);o=i6(t.serverSyncTree_,s,c,i)}else if(r){let c=lc(n,l=>wt(l));o=r6(t.serverSyncTree_,s,c)}else{let c=wt(n);o=Nf(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=fE(t,s)),gs(t.eventQueue_,a,o)}function kN(t,e){dE(t,"connected",e),e===!1&&A6(t)}function D6(t,e){gn(e,(n,r)=>{dE(t,n,r)})}function dE(t,e,n){let r=new Ie("/.info/"+e),i=wt(n);t.infoData_.updateSnapshot(r,i);let s=Nf(t.infoSyncTree_,r,i);gs(t.eventQueue_,r,s)}function S6(t){return t.nextWriteId_++}function A6(t){VP(t,"onDisconnectEvents");let e=LP(t),n=Sf();OI(t.onDisconnect_,ve(),(i,s)=>{let o=l6(i,s,t.serverSyncTree_,e);dP(n,i,o)});let r=[];OI(n,ve(),(i,s)=>{r=r.concat(Nf(t.serverSyncTree_,i,s));let o=N6(t,i);fE(t,o)}),t.onDisconnect_=Sf(),gs(t.eventQueue_,ve(),r)}function M6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(E6)}function VP(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vt(n,...e)}function UP(t,e,n){return DP(t.serverSyncTree_,e,n)||ke.EMPTY_NODE}function hE(t,e=t.transactionQueueTree_){if(e||Of(t,e),ea(e)){let n=jP(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&R6(t,El(e),n)}else PP(e)&&kf(e,n=>{hE(t,n)})}function R6(t,e,n){let r=n.map(l=>l.currentWriteId),i=UP(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let u=n[l];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=fn(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,l=>{VP(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(zo(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Of(t,uE(t.transactionQueueTree_,e)),hE(t,t.transactionQueueTree_),gs(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)wl(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{rn("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}fE(t,e)}},o)}function fE(t,e){let n=BP(t,e),r=El(n),i=jP(t,n);return x6(t,i,r),r}function x6(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=fn(n,c.path),u=!1,d;if(b(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(zo(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=C6)u=!0,d="maxretry",i=i.concat(zo(t.serverSyncTree_,c.currentWriteId,!0));else{let h=UP(t,c.path,o);c.currentInputSnapshot=h;let p=e[a].update(h.val());if(p!==void 0){FP("transaction failed: Data returned ",p,c.path);let y=wt(p);typeof p=="object"&&p!=null&&jn(p,".priority")||(y=y.updatePriority(h.getPriority()));let w=c.currentWriteId,T=LP(t),V=u6(y,h,T);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=V,c.currentWriteId=S6(t),o.splice(o.indexOf(w),1),i=i.concat(n6(t.serverSyncTree_,c.path,V,c.currentWriteId,c.applyLocally)),i=i.concat(zo(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(zo(t.serverSyncTree_,c.currentWriteId,!0))}gs(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Of(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)wl(r[a]);hE(t,t.transactionQueueTree_)}function BP(t,e){let n,r=t.transactionQueueTree_;for(n=le(e);n!==null&&ea(r)===void 0;)r=uE(r,n),e=Ae(e),n=le(e);return r}function jP(t,e){let n=[];return $P(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $P(t,e,n){let r=ea(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);kf(e,i=>{$P(t,i,n)})}function Of(t,e){let n=ea(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,NP(e,n.length>0?n:void 0)}kf(e,r=>{Of(t,r)})}function N6(t,e){let n=El(BP(t,e)),r=uE(t.transactionQueueTree_,e);return h6(r,i=>{uI(t,i)}),uI(t,r),kP(r,i=>{uI(t,i)}),n}function uI(t,e){let n=ea(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(b(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(b(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?NP(e,void 0):n.length=s+1,gs(t.eventQueue_,El(e),i);for(let o=0;o<r.length;o++)wl(r[o])}}function P6(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function k6(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rn(`Invalid query segment '${n}' in query '${t}'`)}return e}var ON=function(t,e){let n=O6(t),r=n.namespace;n.domain==="firebase.com"&&Cr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Cr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||MW();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wf(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ie(n.pathString)}},O6=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=P6(t.substring(u,d)));let h=k6(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let p=e.slice(0,l);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{let y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var JI=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ae(this._path)?null:nP(this._path)}get ref(){return new Jo(this._repo,this._path)}get _queryIdentifier(){let e=IN(this._queryParams),n=nE(e);return n==="{}"?"default":n}get _queryObject(){return IN(this._queryParams)}isEqual(e){if(e=be(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=sP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+a5(this._path)}};var Jo=class t extends JI{constructor(e,n){super(e,n,new NI,!1)}get parent(){let e=iP(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};e6(Jo);t6(Jo);var F6="FIREBASE_DATABASE_EMULATOR_HOST",XI={},L6=!1;function V6(t,e,n,r){t.repoInfo_=new wf(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function U6(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Cr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=ON(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[F6]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=ON(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new hl(hl.OWNER):new mI(t.name,t.options,e);_6("Invalid Firebase Database URL",o),ae(o.path)||Cr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=j6(a,t,u,new gI(t.name,n));return new eE(d,t)}function B6(t,e){let n=XI[e];(!n||n[t.key]!==t)&&Cr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),M6(t),delete n[t.key]}function j6(t,e,n,r){let i=XI[e.name];i||(i={},XI[e.name]=i);let s=i[t.toURLString()];return s&&Cr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ZI(t,L6,n,r),i[t.toURLString()]=s,s}var eE=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(b6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jo(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(B6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Cr("Cannot call "+e+" on a deleted database.")}};function zP(t=Nt(),e){let n=ct(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=co("database");r&&HP(n,...r)}return n}function HP(t,e,n,r={}){t=be(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Cr("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Cr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new hl(hl.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:lo(r.mockUserToken,t.app.options.projectId);s=new hl(o)}V6(i,e,n,s)}function $6(t){DW($t),$e(new xe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return U6(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),B(rN,iN,t),B(rN,iN,"esm2017")}iE.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};iE.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};$6();var Cl=class{constructor(e){return e}},qP="database",pE=class{constructor(){return Jt(qP)}};var gE=new x("angularfire2.database-instances");function z6(t,e){let n=dn(qP,t,e);return n&&new Cl(n)}function H6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Cl(r)}}var q6={provide:pE,deps:[[new ge,gE]]},G6={provide:Cl,useFactory:z6,deps:[[new ge,gE],ut]},W6=(()=>{class t{constructor(){B("angularfire",lt.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Pe({type:t});static \u0275inj=Ne({providers:[G6,q6]})}return t})();function GP(t,...e){return{ngModule:W6,providers:[{provide:gE,useFactory:H6(t),multi:!0,deps:[z,Ce,zt,Pt,[new ge,yr],[new ge,zn],...e]}]}}var WP=We(zP,!0);var XP="firebasestorage.googleapis.com",K6="storageBucket",Q6=2*60*1e3,Y6=10*60*1e3;var er=class t extends Be{constructor(e,n,r=0){super(mE(e),`Firebase Storage: ${n} (${mE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Tr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Tr||{});function mE(t){return"storage/"+t}function Z6(){let t="An unknown error occurred, please check the error payload for server response.";return new er(Tr.UNKNOWN,t)}function J6(){return new er(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X6(){return new er(Tr.CANCELED,"User canceled the upload/download.")}function e9(t){return new er(Tr.INVALID_URL,"Invalid URL '"+t+"'.")}function t9(t){return new er(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KP(t){return new er(Tr.INVALID_ARGUMENT,t)}function ek(){return new er(Tr.APP_DELETED,"The Firebase app was deleted.")}function n9(t){return new er(Tr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var br=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw t9(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(M){M.path_=decodeURIComponent(M.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},v=n===XP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",T=new RegExp(`^https?://${v}/${i}/${w}`,"i"),G=[{regex:a,indices:c,postModify:s},{regex:p,indices:y,postModify:l},{regex:T,indices:{bucket:1,path:2},postModify:l}];for(let M=0;M<G.length;M++){let ie=G[M],W=ie.regex.exec(e);if(W){let fe=W[ie.indices.bucket],Me=W[ie.indices.path];Me||(Me=""),r=new t(fe,Me),ie.postModify(r);break}}if(r==null)throw e9(e);return r}},yE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function r9(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...w){l||(l=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(p,c())},w)}function h(){s&&clearTimeout(s)}function p(w,...T){if(l){h();return}if(w){h(),u.call(null,w,...T);return}if(c()||o){h(),u.call(null,w,...T);return}r<64&&(r*=2);let G;a===1?(a=2,G=0):G=(r+Math.random())*1e3,d(G)}let y=!1;function v(w){y||(y=!0,h(),!l&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function i9(t){t(!1)}function s9(t){return t!==void 0}function QP(t,e,n,r){if(r<e)throw KP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw KP(`Invalid value for '${t}'. Expected ${n} or less.`)}function o9(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var _E=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(_E||{});function a9(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var vE=class{constructor(e,n,r,i,s,o,a,c,l,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ta(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===_E.NO_ERROR,c=s.getStatus();if(!a||a9(c,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===_E.ABORT;r(!1,new ta(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new ta(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());s9(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=Z6();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?ek():X6();o(c)}else{let c=J6();o(c)}};this.canceled_?n(!1,new ta(!1,null,!0)):this.backoffId_=r9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ta=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function c9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function l9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h9(t,e,n,r,i,s,o=!0){let a=o9(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return u9(l,e),c9(l,n),l9(l,s),d9(l,r),new vE(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function f9(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function p9(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var aoe=256*1024;var wE=class t{constructor(e,n){this._service=e,n instanceof br?this._location=n:this._location=br.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return p9(this._location.path)}get storage(){return this._service}get parent(){let e=f9(this._location.path);if(e===null)return null;let n=new br(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw n9(e)}};function YP(t,e){let n=e?.[K6];return n==null?null:br.makeFromBucketSpec(n,t)}function g9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lo(i,t.app.options.projectId))}var IE=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=XP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q6,this._maxUploadRetryTime=Y6,this._requests=new Set,i!=null?this._bucket=br.makeFromBucketSpec(i,this._host):this._bucket=YP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=br.makeFromBucketSpec(this._url,e):this._bucket=YP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return f(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return f(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wE(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yE(ek());{let o=h9(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return f(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},ZP="@firebase/storage",JP="0.12.2";var tk="storage";function nk(t=Nt(),e){t=be(t);let r=ct(t,tk).getImmediate({identifier:e}),i=co("storage");return i&&rk(r,...i),r}function rk(t,e,n,r={}){g9(t,e,n,r)}function m9(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new IE(n,r,i,e,$t)}function y9(){$e(new xe(tk,m9,"PUBLIC").setMultipleInstances(!0)),B(ZP,JP,""),B(ZP,JP,"esm2017")}y9();var bl=class{constructor(e){return e}},ik="storage",EE=class{constructor(){return Jt(ik)}};var CE=new x("angularfire2.storage-instances");function _9(t,e){let n=dn(ik,t,e);return n&&new bl(n)}function v9(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new bl(r)}}var w9={provide:EE,deps:[[new ge,CE]]},I9={provide:bl,useFactory:_9,deps:[[new ge,CE],ut]},E9=(()=>{class t{constructor(){B("angularfire",lt.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Pe({type:t});static \u0275inj=Ne({providers:[I9,w9]})}return t})();function sk(t,...e){return{ngModule:E9,providers:[{provide:CE,useFactory:v9(t),multi:!0,deps:[z,Ce,zt,Pt,[new ge,yr],[new ge,zn],...e]}]}}var ok=We(nk,!0);var bE="@firebase/remote-config",ak="0.4.5";var ck="remote-config";var C9={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},qt=new xt("remoteconfig","Remote Config",C9);function lk(t=Nt()){return t=be(t),ct(t,ck).getImmediate()}function uk(t){let e=be(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}var TE=class{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){return f(this,null,function*(){let[n,r]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;let i=yield this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})}};function b9(t=navigator){return t.languages&&t.languages[0]||t.language}var DE=class{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){return f(this,null,function*(){let[n,r]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:b9()},c={method:"POST",headers:o,body:JSON.stringify(a)},l=fetch(s,c),u=new Promise((w,T)=>{e.signal.addEventListener(()=>{let V=new Error("The operation was aborted.");V.name="AbortError",T(V)})}),d;try{yield Promise.race([l,u]),d=yield l}catch(w){let T="fetch-client-network";throw w?.name==="AbortError"&&(T="fetch-timeout"),qt.create(T,{originalErrorMessage:w?.message})}let h=d.status,p=d.headers.get("ETag")||void 0,y,v;if(d.status===200){let w;try{w=yield d.json()}catch(T){throw qt.create("fetch-client-parse",{originalErrorMessage:T?.message})}y=w.entries,v=w.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?h=500:v==="NO_CHANGE"?h=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(y={}),h!==304&&h!==200)throw qt.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:y}})}};function T9(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function D9(t){if(!(t instanceof Be)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var SE=class{constructor(e,n){this.client=e,this.storage=n}fetch(e){return f(this,null,function*(){let n=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)})}attemptFetch(i,s){return f(this,arguments,function*(e,{throttleEndTimeMillis:n,backoffCount:r}){yield T9(e.signal,n);try{let o=yield this.client.fetch(e);return yield this.storage.deleteThrottleMetadata(),o}catch(o){if(!D9(o))throw o;let a={throttleEndTimeMillis:Date.now()+dc(r),backoffCount:r+1};return yield this.storage.setThrottleMetadata(a),this.attemptFetch(e,a)}})}};var S9=60*1e3,A9=12*60*60*1e3,AE=class{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:S9,minimumFetchIntervalMillis:A9},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}};function Ff(t,e){let n=t.target.error||void 0;return qt.create(e,{originalErrorMessage:n&&n?.message})}var ms="app_namespace_store",M9="firebase_remote_config",R9=1;function x9(){return new Promise((t,e)=>{try{let n=indexedDB.open(M9,R9);n.onerror=r=>{e(Ff(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ms,{keyPath:"compositeKey"})}}}catch(n){e(qt.create("storage-open",{originalErrorMessage:n?.message}))}})}var ME=class{constructor(e,n,r,i=x9()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){return f(this,null,function*(){let n=yield this.openDbPromise;return new Promise((r,i)=>{let o=n.transaction([ms],"readonly").objectStore(ms),a=this.createCompositeKey(e);try{let c=o.get(a);c.onerror=l=>{i(Ff(l,"storage-get"))},c.onsuccess=l=>{let u=l.target.result;r(u?u.value:void 0)}}catch(c){i(qt.create("storage-get",{originalErrorMessage:c?.message}))}})})}set(e,n){return f(this,null,function*(){let r=yield this.openDbPromise;return new Promise((i,s)=>{let a=r.transaction([ms],"readwrite").objectStore(ms),c=this.createCompositeKey(e);try{let l=a.put({compositeKey:c,value:n});l.onerror=u=>{s(Ff(u,"storage-set"))},l.onsuccess=()=>{i()}}catch(l){s(qt.create("storage-set",{originalErrorMessage:l?.message}))}})})}delete(e){return f(this,null,function*(){let n=yield this.openDbPromise;return new Promise((r,i)=>{let o=n.transaction([ms],"readwrite").objectStore(ms),a=this.createCompositeKey(e);try{let c=o.delete(a);c.onerror=l=>{i(Ff(l,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){i(qt.create("storage-delete",{originalErrorMessage:c?.message}))}})})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}};var RE=class{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){return f(this,null,function*(){let e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=yield e;i&&(this.lastFetchStatus=i);let s=yield n;s&&(this.lastSuccessfulFetchTimestampMillis=s);let o=yield r;o&&(this.activeConfig=o)})}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}};function N9(){$e(new xe(ck,t,"PUBLIC").setMultipleInstances(!0)),B(bE,ak),B(bE,ak,"esm2017");function t(e,{instanceIdentifier:n}){let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qt.create("registration-window");if(!Bn())throw qt.create("indexed-db-unavailable");let{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw qt.create("registration-project-id");if(!o)throw qt.create("registration-api-key");if(!a)throw qt.create("registration-app-id");n=n||"firebase";let c=new ME(a,r.name,n),l=new RE(c),u=new jt(bE);u.logLevel=Y.ERROR;let d=new DE(i,$t,n,s,o,a),h=new SE(d,c),p=new TE(h,c,l,u),y=new AE(r,p,l,c,u);return uk(y),y}}function dk(){return f(this,null,function*(){if(!Bn())return!1;try{return yield ki()}catch{return!1}})}N9();var Tl=class{constructor(e){return e}},hk="remote-config",xE=class{constructor(){return Jt(hk)}};var NE="__angularfire_symbol__remoteConfigIsSupportedValue",fk="__angularfire_symbol__remoteConfigIsSupported";globalThis[fk]||=dk().then(t=>globalThis[NE]=t).catch(()=>globalThis[NE]=!1);var Lf={async:()=>globalThis[fk],sync:()=>{let t=globalThis[NE];if(t===void 0)throw new Error(bd("RemoteConfig"));return t}},PE=new x("angularfire2.remote-config-instances");function P9(t,e){if(!Lf.sync())return null;let n=dn(hk,t,e);return n&&new Tl(n)}function k9(t){return(e,n)=>{if(!Lf.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new Tl(r)}}var O9={provide:xE,deps:[[new ge,PE]]},F9={provide:Tl,useFactory:P9,deps:[[new ge,PE],ut]},L9=(()=>{class t{constructor(){B("angularfire",lt.full,"rc")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Pe({type:t});static \u0275inj=Ne({providers:[F9,O9,{provide:zr,useValue:Lf.async,multi:!0}]})}return t})();function pk(t,...e){return{ngModule:L9,providers:[{provide:PE,useFactory:k9(t),multi:!0,deps:[z,Ce,zt,Pt,...e]}]}}var iae=Lf.async;var gk=We(lk,!0);var mk={providers:[fD(mx),ar(JD(()=>XD({projectId:"backstage-billiards",appId:"1:435373889174:web:dcb331ca5daf25e24a54b7",storageBucket:"backstage-billiards.appspot.com",apiKey:"AIzaSyAUDXcUMYlpzRhuS778tKPD87By6xYxoq8",authDomain:"backstage-billiards.firebaseapp.com",messagingSenderId:"435373889174",measurementId:"G-1HYYQ2JW1K"}))),ar(BS(()=>$S())),ar(nN(()=>tN())),nI,yf,ar(TR(()=>AR())),ar(GP(()=>WP())),ar(sk(()=>ok())),ar(pk(()=>gk()))]};var yk=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-footer"]],standalone:!0,features:[re],decls:66,vars:0,consts:[[1,"page-foot","text-sm-left"],[1,"bg-gray-darker","section-top-55","section-bottom-60"],[1,"shell"],[1,"range","border-left-cell"],[1,"cell-sm-6","cell-md-3","cell-lg-4"],[1,"text-uppercase"],[1,"list-unstyled","contact-info","offset-top-5"],[1,"unit","unit-horizontal","unit-top","unit-spacing-xxs"],[1,"unit-left"],[1,"text-white"],[1,"unit-body","text-left","text-gray-light"],[1,"cell-sm-6","cell-md-3","offset-top-50","offset-sm-top-0"],[1,"list-tags","offset-top-15"],[1,"text-gray-light"],[1,"link-gray-light"],[1,"cell-sm-10","cell-lg-5","offset-top-50","offset-md-top-0","cell-md-6"],[1,"offset-top-20"],["data-form-output","form-output-global","data-form-type","subscribe","method","post","action","bat/rd-mailform.php",1,"rd-mailform","form-subscribe","form-inline-flex-xs"],[1,"form-group"],["placeholder","Your Email","type","email","name","email","data-constraints","@Required @Email",1,"form-control"],["type","submit",1,"btn","btn-primary-lighter","btn-shape-circle"]],template:function(i,s){i&1&&(g(0,"footer",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),_(6,"Contact"),m(),g(7,"ul",6)(8,"li")(9,"div",7)(10,"div",8)(11,"span",9),_(12,"Phone:"),m()(),g(13,"div",10)(14,"p"),_(15,"407-345-0323"),m()()()(),g(16,"li")(17,"div",7)(18,"div",8)(19,"span",9),_(20,"Email:"),m()(),g(21,"div",10)(22,"p"),_(23,"tavig123@gmail.com"),m()()()(),g(24,"li")(25,"div",7)(26,"div",8)(27,"span",9),_(28,"Address:"),m()(),g(29,"div",10)(30,"p"),_(31,"8957 International Drive Orlando, FL 32819"),m()()()()()(),g(32,"div",11)(33,"h4",5),_(34,"services"),m(),g(35,"ul",12)(36,"li",13)(37,"a",14),_(38,"Pool"),m()(),g(39,"li",13)(40,"a",14),_(41,"Poker"),m()(),g(42,"li",13)(43,"a",14),_(44,"Darts"),m()(),g(45,"li",13)(46,"a",14),_(47,"Leagues"),m()(),g(48,"li",13)(49,"a",14),_(50,"Torunaments"),m()(),g(51,"li",13)(52,"a",14),_(53,"Food"),m()(),g(54,"li",13)(55,"a",14),_(56,"Drinks"),m()()()(),g(57,"div",15)(58,"h4",5),_(59,"newsletter"),m(),g(60,"div",16)(61,"form",17)(62,"div",18),A(63,"input",19),m(),g(64,"button",20),_(65,"Subscribe"),m()()()()()()()())},encapsulation:2});let t=e;return t})();var _k=(()=>{let e=class e{constructor(r){this.el=r,this.menuItems=[{name:"Sandwiches",img:"assets/images/menu-food-01.png",route:"/menu/sandwiches"},{name:"Burgers",img:"assets/images/menu-food-02.png",route:"/menu/burgers"},{name:"Pizzas",img:"assets/images/menu-food-03.png",route:"/menu/pizzas"}]}ngAfterViewInit(){this.initializeRdNavbar()}initializeRdNavbar(){let r=$(this.el.nativeElement).find(".rd-navbar");r.length&&(r.RDNavbar({stickUpClone:r.attr("data-stick-up-clone")?r.attr("data-stick-up-clone")==="true":!1}),r.attr("data-body-class")&&(document.body.className+=" "+r.attr("data-body-class")))}};e.\u0275fac=function(i){return new(i||e)(se(At))},e.\u0275cmp=ne({type:e,selectors:[["app-navbar"]],standalone:!0,features:[re],decls:82,vars:0,consts:[[1,"page-head"],[1,"rd-navbar-wrap","rd-navbar-default"],["data-layout","rd-navbar-fixed","data-sm-layout","rd-navbar-fixed","data-md-device-layout","rd-navbar-fixed","data-lg-layout","rd-navbar-static","data-lg-device-layout","rd-navbar-static","data-stick-up-clone","false","data-md-stick-up-offset","100px","data-lg-stick-up-offset","150px",1,"rd-navbar"],[1,"shell","shell-fluid"],[1,"rd-navbar-inner"],[1,"rd-navbar-nav-wrap-outer"],[1,"rd-navbar-aside"],[1,"rd-navbar-aside-content",2,"display","flex","justify-content","space-between","align-items","center"],[1,"rd-navbar-panel","rd-navbar-aside-left",2,"flex-grow","0","display","flex","align-items","center"],["data-rd-navbar-toggle",".rd-navbar-nav-wrap",1,"rd-navbar-toggle"],["href","index.html",1,"rd-navbar-brand","brand","md-block",2,"margin-right","20px","display","flex","justify-content","left"],["src","assets/images/backstage-logo.png","alt","Backstage Billiards Logo",2,"height","60px"],[1,"rd-navbar-brand-center",2,"flex-grow","0"],[1,"brand-title",2,"font-family","'Almendra', serif","font-size","24px","color","#ffffff"],[1,"hidden-md"],[2,"flex-grow","1"],[1,"rd-navbar-aside-right","hidden-xs",2,"flex-grow","1","display","flex","justify-content","flex-end"],[1,"list-links","list-inline","text-left"],[1,"unit","unit-horizontal","unit-middle","unit-spacing-xs"],[1,"unit-left"],[1,"icon","icon-circle","icon-primary-lighter","icon-xxs","mdi","mdi-map-marker","text-middle"],[1,"unit-body"],[1,"contact-info"],["href","#",1,"link-gray-light-1","link-xs","link-fixed-color"],[1,"visible-md","visible-lg"],[1,"icon","icon-circle","icon-primary-lighter","icon-xxs","mdi","mdi-phone","text-middle"],["href","tel:407-345-0323",1,"link-gray-light-1","link-xs","link-fixed-color"],[1,"reveal-block","text-gray-light-1","link-xs","link-fixed-color"],[1,"hidden-md","hidden-sm"],[1,"list-inline","list-inline-sm"],["href","https://www.instagram.com/backstagebilliardsidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-instagram"],["href","https://www.facebook.com/backstagebilliardsidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-facebook"],["href","https://twitter.com/backstageidrive",1,"link-silver-light","link-fixed-color"],[1,"icon","icon-sm-mod-1","fa","fa-twitter"],[1,"rd-navbar-nav-wrap"],[1,"rd-navbar-nav"],["routerLinkActive","active"],["routerLink","/home"],["routerLink","/about"],["routerLink","/menu"],["routerLink","/tournaments"],["routerLink","/gallery"],["routerLink","/contact"],["routerLink","/partners"],[1,"rd-navbar-dropdown","menu-img-wrap"],[1,"menu-img"],["href","#"],["src","assets/images/rack-n-draw-logo.png","alt","Partner Logo 1","width","100%"],["src","assets/images/sunshine-state-billiards.jpeg","alt","Partner Logo 2","width","100%"]],template:function(i,s){i&1&&(g(0,"header",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"button",9),A(10,"span"),m(),g(11,"a",10),A(12,"img",11),m(),g(13,"div",12)(14,"span",13),_(15,"Backstage Billiards "),g(16,"span",14),_(17,"I-Drive"),m()()()(),A(18,"div",15),g(19,"div",16)(20,"ul",17)(21,"li")(22,"div",18)(23,"div",19),A(24,"span",20),m(),g(25,"div",21)(26,"address",22)(27,"a",23),_(28,"8957 International Drive "),A(29,"br",24),_(30," Orlando, FL 32819"),m()()()()(),g(31,"li")(32,"div",18)(33,"div",19),A(34,"span",25),m(),g(35,"div",21)(36,"address",22)(37,"a",26),_(38,"407-345-0323"),m(),g(39,"span",27),_(40,"Daily: 3:00 PM \u2013 2:15 AM"),m()()()()(),g(41,"li",28)(42,"ul",29)(43,"li")(44,"a",30),A(45,"span",31),m()(),g(46,"li")(47,"a",32),A(48,"span",33),m()(),g(49,"li")(50,"a",34),A(51,"span",35),m()()()()()()()()(),g(52,"div",36)(53,"ul",37)(54,"li",38)(55,"a",39),_(56,"Home"),m()(),g(57,"li",38)(58,"a",40),_(59,"About Us"),m()(),g(60,"li",38)(61,"a",41),_(62,"Menu"),m()(),g(63,"li",38)(64,"a",42),_(65,"Tournaments & Events"),m()(),g(66,"li",38)(67,"a",43),_(68,"Gallery"),m()(),g(69,"li",38)(70,"a",44),_(71,"Contacts"),m()(),g(72,"li",38)(73,"a",45),_(74,"Partners"),m(),g(75,"ul",46)(76,"li",47)(77,"a",48),A(78,"img",49),m()(),g(79,"li",47)(80,"a",48),A(81,"img",50),m()()()()()()()()()()())},dependencies:[_D,ud,dD],styles:["html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]{width:200px!important;padding:10px!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]{display:block!important;text-align:center!important;margin-bottom:10px!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block!important;width:100%!important}html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]   .rd-navbar-nav[_ngcontent-%COMP%]   .rd-navbar-dropdown.menu-img-wrap[_ngcontent-%COMP%]   .menu-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%!important;height:auto!important}@media (max-width: 500px){.brand-title[_ngcontent-%COMP%], .social-media-section[_ngcontent-%COMP%]   .contact-section[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();var vk=(()=>{let e=class e{constructor(){this.title="backstage-billiards"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["app-root"]],standalone:!0,features:[re],decls:30,vars:0,consts:[[1,"page","text-center"],[1,"page-content"],["id","form-output-global",1,"snackbars"],["tabindex","-1","role","dialog","aria-hidden","true",1,"pswp"],[1,"pswp__bg"],[1,"pswp__scroll-wrap"],[1,"pswp__container"],[1,"pswp__item"],[1,"pswp__ui","pswp__ui--hidden"],[1,"pswp__top-bar"],[1,"pswp__counter"],["title","Close (Esc)",1,"pswp__button","pswp__button--close"],["title","Share",1,"pswp__button","pswp__button--share"],["title","Toggle fullscreen",1,"pswp__button","pswp__button--fs"],["title","Zoom in/out",1,"pswp__button","pswp__button--zoom"],[1,"pswp__preloader"],[1,"pswp__preloader__icn"],[1,"pswp__preloader__cut"],[1,"pswp__preloader__donut"],[1,"pswp__share-modal","pswp__share-modal--hidden","pswp__single-tap"],[1,"pswp__share-tooltip"],["title","Previous (arrow left)",1,"pswp__button","pswp__button--arrow--left"],["title","Next (arrow right)",1,"pswp__button","pswp__button--arrow--right"],[1,"pswp__caption"],[1,"pswp__caption__cent"]],template:function(i,s){i&1&&(g(0,"div",0),A(1,"app-navbar"),g(2,"main",1),A(3,"router-outlet"),m(),A(4,"app-footer"),m(),A(5,"div",2),g(6,"div",3),A(7,"div",4),g(8,"div",5)(9,"div",6),A(10,"div",7)(11,"div",7)(12,"div",7),m(),g(13,"div",8)(14,"div",9),A(15,"div",10)(16,"button",11)(17,"button",12)(18,"button",13)(19,"button",14),g(20,"div",15)(21,"div",16)(22,"div",17),A(23,"div",18),m()()()(),g(24,"div",19),A(25,"div",20),m(),A(26,"button",21)(27,"button",22),g(28,"div",23),A(29,"div",24),m()()()())},dependencies:[Hm,_k,yk]});let t=e;return t})();bT(vk,mk).catch(t=>console.error(t));
